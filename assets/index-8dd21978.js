function y3(t,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pl={},w3={get exports(){return Pl},set exports(t){Pl=t}},kd={},ee={},_3={get exports(){return ee},set exports(t){ee=t}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu=Symbol.for("react.element"),b3=Symbol.for("react.portal"),S3=Symbol.for("react.fragment"),C3=Symbol.for("react.strict_mode"),k3=Symbol.for("react.profiler"),E3=Symbol.for("react.provider"),x3=Symbol.for("react.context"),T3=Symbol.for("react.forward_ref"),I3=Symbol.for("react.suspense"),P3=Symbol.for("react.memo"),A3=Symbol.for("react.lazy"),Q1=Symbol.iterator;function O3(t){return t===null||typeof t!="object"?null:(t=Q1&&t[Q1]||t["@@iterator"],typeof t=="function"?t:null)}var Vb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gb=Object.assign,Hb={};function ha(t,e,r){this.props=t,this.context=e,this.refs=Hb,this.updater=r||Vb}ha.prototype.isReactComponent={};ha.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ha.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wb(){}Wb.prototype=ha.prototype;function Uv(t,e,r){this.props=t,this.context=e,this.refs=Hb,this.updater=r||Vb}var $v=Uv.prototype=new Wb;$v.constructor=Uv;Gb($v,ha.prototype);$v.isPureReactComponent=!0;var X1=Array.isArray,qb=Object.prototype.hasOwnProperty,Fv={current:null},Yb={key:!0,ref:!0,__self:!0,__source:!0};function Kb(t,e,r){var i,s={},o=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)qb.call(e,i)&&!Yb.hasOwnProperty(i)&&(s[i]=e[i]);var u=arguments.length-2;if(u===1)s.children=r;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];s.children=c}if(t&&t.defaultProps)for(i in u=t.defaultProps,u)s[i]===void 0&&(s[i]=u[i]);return{$$typeof:gu,type:t,key:o,ref:a,props:s,_owner:Fv.current}}function R3(t,e){return{$$typeof:gu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jv(t){return typeof t=="object"&&t!==null&&t.$$typeof===gu}function N3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var J1=/\/+/g;function vp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?N3(""+t.key):e.toString(36)}function Gc(t,e,r,i,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case gu:case b3:a=!0}}if(a)return a=t,s=s(a),t=i===""?"."+vp(a,0):i,X1(s)?(r="",t!=null&&(r=t.replace(J1,"$&/")+"/"),Gc(s,e,r,"",function(h){return h})):s!=null&&(jv(s)&&(s=R3(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(J1,"$&/")+"/")+t)),e.push(s)),1;if(a=0,i=i===""?".":i+":",X1(t))for(var u=0;u<t.length;u++){o=t[u];var c=i+vp(o,u);a+=Gc(o,e,r,c,s)}else if(c=O3(t),typeof c=="function")for(t=c.call(t),u=0;!(o=t.next()).done;)o=o.value,c=i+vp(o,u++),a+=Gc(o,e,r,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ac(t,e,r){if(t==null)return t;var i=[],s=0;return Gc(t,i,"","",function(o){return e.call(r,o,s++)}),i}function D3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mn={current:null},Hc={transition:null},M3={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Hc,ReactCurrentOwner:Fv};Oe.Children={map:ac,forEach:function(t,e,r){ac(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ac(t,function(){e++}),e},toArray:function(t){return ac(t,function(e){return e})||[]},only:function(t){if(!jv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=ha;Oe.Fragment=S3;Oe.Profiler=k3;Oe.PureComponent=Uv;Oe.StrictMode=C3;Oe.Suspense=I3;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M3;Oe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Gb({},t.props),s=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Fv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)qb.call(e,c)&&!Yb.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];i.children=u}return{$$typeof:gu,type:t.type,key:s,ref:o,props:i,_owner:a}};Oe.createContext=function(t){return t={$$typeof:x3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:E3,_context:t},t.Consumer=t};Oe.createElement=Kb;Oe.createFactory=function(t){var e=Kb.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:T3,render:t}};Oe.isValidElement=jv;Oe.lazy=function(t){return{$$typeof:A3,_payload:{_status:-1,_result:t},_init:D3}};Oe.memo=function(t,e){return{$$typeof:P3,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=Hc.transition;Hc.transition={};try{t()}finally{Hc.transition=e}};Oe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Oe.useCallback=function(t,e){return mn.current.useCallback(t,e)};Oe.useContext=function(t){return mn.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return mn.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return mn.current.useEffect(t,e)};Oe.useId=function(){return mn.current.useId()};Oe.useImperativeHandle=function(t,e,r){return mn.current.useImperativeHandle(t,e,r)};Oe.useInsertionEffect=function(t,e){return mn.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return mn.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return mn.current.useMemo(t,e)};Oe.useReducer=function(t,e,r){return mn.current.useReducer(t,e,r)};Oe.useRef=function(t){return mn.current.useRef(t)};Oe.useState=function(t){return mn.current.useState(t)};Oe.useSyncExternalStore=function(t,e,r){return mn.current.useSyncExternalStore(t,e,r)};Oe.useTransition=function(){return mn.current.useTransition()};Oe.version="18.2.0";(function(t){t.exports=Oe})(_3);const Ce=Lv(ee),Im=y3({__proto__:null,default:Ce},[ee]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L3=ee,U3=Symbol.for("react.element"),$3=Symbol.for("react.fragment"),F3=Object.prototype.hasOwnProperty,j3=L3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B3={key:!0,ref:!0,__self:!0,__source:!0};function Qb(t,e,r){var i,s={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)F3.call(e,i)&&!B3.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:U3,type:t,key:o,ref:a,props:s,_owner:j3.current}}kd.Fragment=$3;kd.jsx=Qb;kd.jsxs=Qb;(function(t){t.exports=kd})(w3);const Ft=Pl.Fragment,L=Pl.jsx,X=Pl.jsxs;var Pm={},gh={},z3={get exports(){return gh},set exports(t){gh=t}},Nn={},Am={},V3={get exports(){return Am},set exports(t){Am=t}},Xb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,K){var te=G.length;G.push(K);e:for(;0<te;){var ae=te-1>>>1,me=G[ae];if(0<s(me,K))G[ae]=K,G[te]=me,te=ae;else break e}}function r(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var K=G[0],te=G.pop();if(te!==K){G[0]=te;e:for(var ae=0,me=G.length,ue=me>>>1;ae<ue;){var Re=2*(ae+1)-1,ze=G[Re],Ve=Re+1,Ke=G[Ve];if(0>s(ze,te))Ve<me&&0>s(Ke,ze)?(G[ae]=Ke,G[Ve]=te,ae=Ve):(G[ae]=ze,G[Re]=te,ae=Re);else if(Ve<me&&0>s(Ke,te))G[ae]=Ke,G[Ve]=te,ae=Ve;else break e}}return K}function s(G,K){var te=G.sortIndex-K.sortIndex;return te!==0?te:G.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],h=[],f=1,m=null,y=3,S=!1,C=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(G){for(var K=r(h);K!==null;){if(K.callback===null)i(h);else if(K.startTime<=G)i(h),K.sortIndex=K.expirationTime,e(c,K);else break;K=r(h)}}function P(G){if(T=!1,_(G),!C)if(r(c)!==null)C=!0,Y(k);else{var K=r(h);K!==null&&Q(P,K.startTime-G)}}function k(G,K){C=!1,T&&(T=!1,g(N),N=-1),S=!0;var te=y;try{for(_(K),m=r(c);m!==null&&(!(m.expirationTime>K)||G&&!M());){var ae=m.callback;if(typeof ae=="function"){m.callback=null,y=m.priorityLevel;var me=ae(m.expirationTime<=K);K=t.unstable_now(),typeof me=="function"?m.callback=me:m===r(c)&&i(c),_(K)}else i(c);m=r(c)}if(m!==null)var ue=!0;else{var Re=r(h);Re!==null&&Q(P,Re.startTime-K),ue=!1}return ue}finally{m=null,y=te,S=!1}}var j=!1,O=null,N=-1,F=5,$=-1;function M(){return!(t.unstable_now()-$<F)}function B(){if(O!==null){var G=t.unstable_now();$=G;var K=!0;try{K=O(!0,G)}finally{K?R():(j=!1,O=null)}}else j=!1}var R;if(typeof w=="function")R=function(){w(B)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,V=H.port2;H.port1.onmessage=B,R=function(){V.postMessage(null)}}else R=function(){A(B,0)};function Y(G){O=G,j||(j=!0,R())}function Q(G,K){N=A(function(){G(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){C||S||(C=!0,Y(k))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(G){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var te=y;y=K;try{return G()}finally{y=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,K){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var te=y;y=G;try{return K()}finally{y=te}},t.unstable_scheduleCallback=function(G,K,te){var ae=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ae+te:ae):te=ae,G){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=te+me,G={id:f++,callback:K,priorityLevel:G,startTime:te,expirationTime:me,sortIndex:-1},te>ae?(G.sortIndex=te,e(h,G),r(c)===null&&G===r(h)&&(T?(g(N),N=-1):T=!0,Q(P,te-ae))):(G.sortIndex=me,e(c,G),C||S||(C=!0,Y(k))),G},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(G){var K=y;return function(){var te=y;y=K;try{return G.apply(this,arguments)}finally{y=te}}}})(Xb);(function(t){t.exports=Xb})(V3);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb=ee,An=Am;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zb=new Set,Al={};function Ks(t,e){Vo(t,e),Vo(t+"Capture",e)}function Vo(t,e){for(Al[t]=e,t=0;t<e.length;t++)Zb.add(e[t])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Om=Object.prototype.hasOwnProperty,G3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Z1={},ew={};function H3(t){return Om.call(ew,t)?!0:Om.call(Z1,t)?!1:G3.test(t)?ew[t]=!0:(Z1[t]=!0,!1)}function W3(t,e,r,i){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function q3(t,e,r,i){if(e===null||typeof e>"u"||W3(t,e,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gn(t,e,r,i,s,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bv=/[\-:]([a-z])/g;function zv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bv,zv);zt[e]=new gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bv,zv);zt[e]=new gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bv,zv);zt[e]=new gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new gn(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vv(t,e,r,i){var s=zt.hasOwnProperty(e)?zt[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(q3(e,r,s,i)&&(r=null),i||s===null?H3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,i=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,i?t.setAttributeNS(i,e,r):t.setAttribute(e,r))))}var Zr=Jb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lc=Symbol.for("react.element"),ho=Symbol.for("react.portal"),fo=Symbol.for("react.fragment"),Gv=Symbol.for("react.strict_mode"),Rm=Symbol.for("react.profiler"),eS=Symbol.for("react.provider"),tS=Symbol.for("react.context"),Hv=Symbol.for("react.forward_ref"),Nm=Symbol.for("react.suspense"),Dm=Symbol.for("react.suspense_list"),Wv=Symbol.for("react.memo"),ui=Symbol.for("react.lazy"),nS=Symbol.for("react.offscreen"),tw=Symbol.iterator;function $a(t){return t===null||typeof t!="object"?null:(t=tw&&t[tw]||t["@@iterator"],typeof t=="function"?t:null)}var ut=Object.assign,yp;function Ja(t){if(yp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);yp=e&&e[1]||""}return`
`+yp+t}var wp=!1;function _p(t,e){if(!t||wp)return"";wp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var i=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){i=h}t.call(e.prototype)}else{try{throw Error()}catch(h){i=h}t()}}catch(h){if(h&&i&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),o=i.stack.split(`
`),a=s.length-1,u=o.length-1;1<=a&&0<=u&&s[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(s[a]!==o[u]){if(a!==1||u!==1)do if(a--,u--,0>u||s[a]!==o[u]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=u);break}}}finally{wp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ja(t):""}function Y3(t){switch(t.tag){case 5:return Ja(t.type);case 16:return Ja("Lazy");case 13:return Ja("Suspense");case 19:return Ja("SuspenseList");case 0:case 2:case 15:return t=_p(t.type,!1),t;case 11:return t=_p(t.type.render,!1),t;case 1:return t=_p(t.type,!0),t;default:return""}}function Mm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fo:return"Fragment";case ho:return"Portal";case Rm:return"Profiler";case Gv:return"StrictMode";case Nm:return"Suspense";case Dm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tS:return(t.displayName||"Context")+".Consumer";case eS:return(t._context.displayName||"Context")+".Provider";case Hv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wv:return e=t.displayName||null,e!==null?e:Mm(t.type)||"Memo";case ui:e=t._payload,t=t._init;try{return Mm(t(e))}catch{}}return null}function K3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mm(e);case 8:return e===Gv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Q3(t){var e=rS(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uc(t){t._valueTracker||(t._valueTracker=Q3(t))}function iS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),i="";return t&&(i=rS(t)?t.checked?"true":"false":t.value),t=i,t!==r?(e.setValue(t),!0):!1}function vh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lm(t,e){var r=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function nw(t,e){var r=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;r=ji(e.value!=null?e.value:r),t._wrapperState={initialChecked:i,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sS(t,e){e=e.checked,e!=null&&Vv(t,"checked",e,!1)}function Um(t,e){sS(t,e);var r=ji(e.value),i=e.type;if(r!=null)i==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$m(t,e.type,r):e.hasOwnProperty("defaultValue")&&$m(t,e.type,ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rw(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function $m(t,e,r){(e!=="number"||vh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Za=Array.isArray;function Po(t,e,r,i){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&i&&(t[r].defaultSelected=!0)}else{for(r=""+ji(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Fm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function iw(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(re(92));if(Za(r)){if(1<r.length)throw Error(re(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ji(r)}}function oS(t,e){var r=ji(e.value),i=ji(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),i!=null&&(t.defaultValue=""+i)}function sw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cc,lS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cc=cc||document.createElement("div"),cc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ol(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X3=["Webkit","ms","Moz","O"];Object.keys(cl).forEach(function(t){X3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cl[e]=cl[t]})});function uS(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||cl.hasOwnProperty(t)&&cl[t]?(""+e).trim():e+"px"}function cS(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=uS(r,e[r],i);r==="float"&&(r="cssFloat"),i?t.setProperty(r,s):t[r]=s}}var J3=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bm(t,e){if(e){if(J3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function zm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vm=null;function qv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gm=null,Ao=null,Oo=null;function ow(t){if(t=wu(t)){if(typeof Gm!="function")throw Error(re(280));var e=t.stateNode;e&&(e=Pd(e),Gm(t.stateNode,t.type,e))}}function hS(t){Ao?Oo?Oo.push(t):Oo=[t]:Ao=t}function dS(){if(Ao){var t=Ao,e=Oo;if(Oo=Ao=null,ow(t),e)for(t=0;t<e.length;t++)ow(e[t])}}function fS(t,e){return t(e)}function pS(){}var bp=!1;function mS(t,e,r){if(bp)return t(e,r);bp=!0;try{return fS(t,e,r)}finally{bp=!1,(Ao!==null||Oo!==null)&&(pS(),dS())}}function Rl(t,e){var r=t.stateNode;if(r===null)return null;var i=Pd(r);if(i===null)return null;r=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(re(231,e,typeof r));return r}var Hm=!1;if(jr)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){Hm=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{Hm=!1}function Z3(t,e,r,i,s,o,a,u,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(f){this.onError(f)}}var hl=!1,yh=null,wh=!1,Wm=null,e4={onError:function(t){hl=!0,yh=t}};function t4(t,e,r,i,s,o,a,u,c){hl=!1,yh=null,Z3.apply(e4,arguments)}function n4(t,e,r,i,s,o,a,u,c){if(t4.apply(this,arguments),hl){if(hl){var h=yh;hl=!1,yh=null}else throw Error(re(198));wh||(wh=!0,Wm=h)}}function Qs(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function gS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function aw(t){if(Qs(t)!==t)throw Error(re(188))}function r4(t){var e=t.alternate;if(!e){if(e=Qs(t),e===null)throw Error(re(188));return e!==t?null:t}for(var r=t,i=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(i=s.return,i!==null){r=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return aw(s),t;if(o===i)return aw(s),e;o=o.sibling}throw Error(re(188))}if(r.return!==i.return)r=s,i=o;else{for(var a=!1,u=s.child;u;){if(u===r){a=!0,r=s,i=o;break}if(u===i){a=!0,i=s,r=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===r){a=!0,r=o,i=s;break}if(u===i){a=!0,i=o,r=s;break}u=u.sibling}if(!a)throw Error(re(189))}}if(r.alternate!==i)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?t:e}function vS(t){return t=r4(t),t!==null?yS(t):null}function yS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yS(t);if(e!==null)return e;t=t.sibling}return null}var wS=An.unstable_scheduleCallback,lw=An.unstable_cancelCallback,i4=An.unstable_shouldYield,s4=An.unstable_requestPaint,vt=An.unstable_now,o4=An.unstable_getCurrentPriorityLevel,Yv=An.unstable_ImmediatePriority,_S=An.unstable_UserBlockingPriority,_h=An.unstable_NormalPriority,a4=An.unstable_LowPriority,bS=An.unstable_IdlePriority,Ed=null,wr=null;function l4(t){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(Ed,t,void 0,(t.current.flags&128)===128)}catch{}}var ir=Math.clz32?Math.clz32:h4,u4=Math.log,c4=Math.LN2;function h4(t){return t>>>=0,t===0?32:31-(u4(t)/c4|0)|0}var hc=64,dc=4194304;function el(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bh(t,e){var r=t.pendingLanes;if(r===0)return 0;var i=0,s=t.suspendedLanes,o=t.pingedLanes,a=r&268435455;if(a!==0){var u=a&~s;u!==0?i=el(u):(o&=a,o!==0&&(i=el(o)))}else a=r&~s,a!==0?i=el(a):o!==0&&(i=el(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(i&4&&(i|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)r=31-ir(e),s=1<<r,i|=t[r],e&=~s;return i}function d4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f4(t,e){for(var r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ir(o),u=1<<a,c=s[a];c===-1?(!(u&r)||u&i)&&(s[a]=d4(u,e)):c<=e&&(t.expiredLanes|=u),o&=~u}}function qm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function SS(){var t=hc;return hc<<=1,!(hc&4194240)&&(hc=64),t}function Sp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function vu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ir(e),t[e]=r}function p4(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-ir(r),o=1<<s;e[s]=0,i[s]=-1,t[s]=-1,r&=~o}}function Kv(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var i=31-ir(r),s=1<<i;s&e|t[i]&e&&(t[i]|=e),r&=~s}}var Fe=0;function CS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kS,Qv,ES,xS,TS,Ym=!1,fc=[],ki=null,Ei=null,xi=null,Nl=new Map,Dl=new Map,hi=[],m4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uw(t,e){switch(t){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":Nl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(e.pointerId)}}function ja(t,e,r,i,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:i,nativeEvent:o,targetContainers:[s]},e!==null&&(e=wu(e),e!==null&&Qv(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function g4(t,e,r,i,s){switch(e){case"focusin":return ki=ja(ki,t,e,r,i,s),!0;case"dragenter":return Ei=ja(Ei,t,e,r,i,s),!0;case"mouseover":return xi=ja(xi,t,e,r,i,s),!0;case"pointerover":var o=s.pointerId;return Nl.set(o,ja(Nl.get(o)||null,t,e,r,i,s)),!0;case"gotpointercapture":return o=s.pointerId,Dl.set(o,ja(Dl.get(o)||null,t,e,r,i,s)),!0}return!1}function IS(t){var e=ys(t.target);if(e!==null){var r=Qs(e);if(r!==null){if(e=r.tag,e===13){if(e=gS(r),e!==null){t.blockedOn=e,TS(t.priority,function(){ES(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Km(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var i=new r.constructor(r.type,r);Vm=i,r.target.dispatchEvent(i),Vm=null}else return e=wu(r),e!==null&&Qv(e),t.blockedOn=r,!1;e.shift()}return!0}function cw(t,e,r){Wc(t)&&r.delete(e)}function v4(){Ym=!1,ki!==null&&Wc(ki)&&(ki=null),Ei!==null&&Wc(Ei)&&(Ei=null),xi!==null&&Wc(xi)&&(xi=null),Nl.forEach(cw),Dl.forEach(cw)}function Ba(t,e){t.blockedOn===e&&(t.blockedOn=null,Ym||(Ym=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,v4)))}function Ml(t){function e(s){return Ba(s,t)}if(0<fc.length){Ba(fc[0],t);for(var r=1;r<fc.length;r++){var i=fc[r];i.blockedOn===t&&(i.blockedOn=null)}}for(ki!==null&&Ba(ki,t),Ei!==null&&Ba(Ei,t),xi!==null&&Ba(xi,t),Nl.forEach(e),Dl.forEach(e),r=0;r<hi.length;r++)i=hi[r],i.blockedOn===t&&(i.blockedOn=null);for(;0<hi.length&&(r=hi[0],r.blockedOn===null);)IS(r),r.blockedOn===null&&hi.shift()}var Ro=Zr.ReactCurrentBatchConfig,Sh=!0;function y4(t,e,r,i){var s=Fe,o=Ro.transition;Ro.transition=null;try{Fe=1,Xv(t,e,r,i)}finally{Fe=s,Ro.transition=o}}function w4(t,e,r,i){var s=Fe,o=Ro.transition;Ro.transition=null;try{Fe=4,Xv(t,e,r,i)}finally{Fe=s,Ro.transition=o}}function Xv(t,e,r,i){if(Sh){var s=Km(t,e,r,i);if(s===null)Rp(t,e,i,Ch,r),uw(t,i);else if(g4(s,t,e,r,i))i.stopPropagation();else if(uw(t,i),e&4&&-1<m4.indexOf(t)){for(;s!==null;){var o=wu(s);if(o!==null&&kS(o),o=Km(t,e,r,i),o===null&&Rp(t,e,i,Ch,r),o===s)break;s=o}s!==null&&i.stopPropagation()}else Rp(t,e,i,null,r)}}var Ch=null;function Km(t,e,r,i){if(Ch=null,t=qv(i),t=ys(t),t!==null)if(e=Qs(t),e===null)t=null;else if(r=e.tag,r===13){if(t=gS(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ch=t,null}function PS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o4()){case Yv:return 1;case _S:return 4;case _h:case a4:return 16;case bS:return 536870912;default:return 16}default:return 16}}var wi=null,Jv=null,qc=null;function AS(){if(qc)return qc;var t,e=Jv,r=e.length,i,s="value"in wi?wi.value:wi.textContent,o=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(i=1;i<=a&&e[r-i]===s[o-i];i++);return qc=s.slice(t,1<i?1-i:void 0)}function Yc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pc(){return!0}function hw(){return!1}function Dn(t){function e(r,i,s,o,a){this._reactName=r,this._targetInst=s,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(r=t[u],this[u]=r?r(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?pc:hw,this.isPropagationStopped=hw,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pc)},persist:function(){},isPersistent:pc}),e}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zv=Dn(da),yu=ut({},da,{view:0,detail:0}),_4=Dn(yu),Cp,kp,za,xd=ut({},yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ey,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==za&&(za&&t.type==="mousemove"?(Cp=t.screenX-za.screenX,kp=t.screenY-za.screenY):kp=Cp=0,za=t),Cp)},movementY:function(t){return"movementY"in t?t.movementY:kp}}),dw=Dn(xd),b4=ut({},xd,{dataTransfer:0}),S4=Dn(b4),C4=ut({},yu,{relatedTarget:0}),Ep=Dn(C4),k4=ut({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),E4=Dn(k4),x4=ut({},da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),T4=Dn(x4),I4=ut({},da,{data:0}),fw=Dn(I4),P4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=O4[t])?!!e[t]:!1}function ey(){return R4}var N4=ut({},yu,{key:function(t){if(t.key){var e=P4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?A4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ey,charCode:function(t){return t.type==="keypress"?Yc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),D4=Dn(N4),M4=ut({},xd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pw=Dn(M4),L4=ut({},yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ey}),U4=Dn(L4),$4=ut({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),F4=Dn($4),j4=ut({},xd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B4=Dn(j4),z4=[9,13,27,32],ty=jr&&"CompositionEvent"in window,dl=null;jr&&"documentMode"in document&&(dl=document.documentMode);var V4=jr&&"TextEvent"in window&&!dl,OS=jr&&(!ty||dl&&8<dl&&11>=dl),mw=String.fromCharCode(32),gw=!1;function RS(t,e){switch(t){case"keyup":return z4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var po=!1;function G4(t,e){switch(t){case"compositionend":return NS(e);case"keypress":return e.which!==32?null:(gw=!0,mw);case"textInput":return t=e.data,t===mw&&gw?null:t;default:return null}}function H4(t,e){if(po)return t==="compositionend"||!ty&&RS(t,e)?(t=AS(),qc=Jv=wi=null,po=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OS&&e.locale!=="ko"?null:e.data;default:return null}}var W4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!W4[t.type]:e==="textarea"}function DS(t,e,r,i){hS(i),e=kh(e,"onChange"),0<e.length&&(r=new Zv("onChange","change",null,r,i),t.push({event:r,listeners:e}))}var fl=null,Ll=null;function q4(t){HS(t,0)}function Td(t){var e=vo(t);if(iS(e))return t}function Y4(t,e){if(t==="change")return e}var MS=!1;if(jr){var xp;if(jr){var Tp="oninput"in document;if(!Tp){var yw=document.createElement("div");yw.setAttribute("oninput","return;"),Tp=typeof yw.oninput=="function"}xp=Tp}else xp=!1;MS=xp&&(!document.documentMode||9<document.documentMode)}function ww(){fl&&(fl.detachEvent("onpropertychange",LS),Ll=fl=null)}function LS(t){if(t.propertyName==="value"&&Td(Ll)){var e=[];DS(e,Ll,t,qv(t)),mS(q4,e)}}function K4(t,e,r){t==="focusin"?(ww(),fl=e,Ll=r,fl.attachEvent("onpropertychange",LS)):t==="focusout"&&ww()}function Q4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Td(Ll)}function X4(t,e){if(t==="click")return Td(e)}function J4(t,e){if(t==="input"||t==="change")return Td(e)}function Z4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var or=typeof Object.is=="function"?Object.is:Z4;function Ul(t,e){if(or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var s=r[i];if(!Om.call(e,s)||!or(t[s],e[s]))return!1}return!0}function _w(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bw(t,e){var r=_w(t);t=0;for(var i;r;){if(r.nodeType===3){if(i=t+r.textContent.length,t<=e&&i>=e)return{node:r,offset:e-t};t=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_w(r)}}function US(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?US(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $S(){for(var t=window,e=vh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=vh(t.document)}return e}function ny(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eP(t){var e=$S(),r=t.focusedElem,i=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&US(r.ownerDocument.documentElement,r)){if(i!==null&&ny(r)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,o=Math.min(i.start,s);i=i.end===void 0?o:Math.min(i.end,s),!t.extend&&o>i&&(s=i,i=o,o=s),s=bw(r,o);var a=bw(r,i);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tP=jr&&"documentMode"in document&&11>=document.documentMode,mo=null,Qm=null,pl=null,Xm=!1;function Sw(t,e,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xm||mo==null||mo!==vh(i)||(i=mo,"selectionStart"in i&&ny(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),pl&&Ul(pl,i)||(pl=i,i=kh(Qm,"onSelect"),0<i.length&&(e=new Zv("onSelect","select",null,e,r),t.push({event:e,listeners:i}),e.target=mo)))}function mc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var go={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionend:mc("Transition","TransitionEnd")},Ip={},FS={};jr&&(FS=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function Id(t){if(Ip[t])return Ip[t];if(!go[t])return t;var e=go[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in FS)return Ip[t]=e[r];return t}var jS=Id("animationend"),BS=Id("animationiteration"),zS=Id("animationstart"),VS=Id("transitionend"),GS=new Map,Cw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(t,e){GS.set(t,e),Ks(e,[t])}for(var Pp=0;Pp<Cw.length;Pp++){var Ap=Cw[Pp],nP=Ap.toLowerCase(),rP=Ap[0].toUpperCase()+Ap.slice(1);Ji(nP,"on"+rP)}Ji(jS,"onAnimationEnd");Ji(BS,"onAnimationIteration");Ji(zS,"onAnimationStart");Ji("dblclick","onDoubleClick");Ji("focusin","onFocus");Ji("focusout","onBlur");Ji(VS,"onTransitionEnd");Vo("onMouseEnter",["mouseout","mouseover"]);Vo("onMouseLeave",["mouseout","mouseover"]);Vo("onPointerEnter",["pointerout","pointerover"]);Vo("onPointerLeave",["pointerout","pointerover"]);Ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iP=new Set("cancel close invalid load scroll toggle".split(" ").concat(tl));function kw(t,e,r){var i=t.type||"unknown-event";t.currentTarget=r,n4(i,e,void 0,t),t.currentTarget=null}function HS(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var i=t[r],s=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var a=i.length-1;0<=a;a--){var u=i[a],c=u.instance,h=u.currentTarget;if(u=u.listener,c!==o&&s.isPropagationStopped())break e;kw(s,u,h),o=c}else for(a=0;a<i.length;a++){if(u=i[a],c=u.instance,h=u.currentTarget,u=u.listener,c!==o&&s.isPropagationStopped())break e;kw(s,u,h),o=c}}}if(wh)throw t=Wm,wh=!1,Wm=null,t}function Qe(t,e){var r=e[ng];r===void 0&&(r=e[ng]=new Set);var i=t+"__bubble";r.has(i)||(WS(e,t,2,!1),r.add(i))}function Op(t,e,r){var i=0;e&&(i|=4),WS(r,t,i,e)}var gc="_reactListening"+Math.random().toString(36).slice(2);function $l(t){if(!t[gc]){t[gc]=!0,Zb.forEach(function(r){r!=="selectionchange"&&(iP.has(r)||Op(r,!1,t),Op(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gc]||(e[gc]=!0,Op("selectionchange",!1,e))}}function WS(t,e,r,i){switch(PS(e)){case 1:var s=y4;break;case 4:s=w4;break;default:s=Xv}r=s.bind(null,e,r,t),s=void 0,!Hm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Rp(t,e,r,i,s){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var u=i.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;u!==null;){if(a=ys(u),a===null)return;if(c=a.tag,c===5||c===6){i=o=a;continue e}u=u.parentNode}}i=i.return}mS(function(){var h=o,f=qv(r),m=[];e:{var y=GS.get(t);if(y!==void 0){var S=Zv,C=t;switch(t){case"keypress":if(Yc(r)===0)break e;case"keydown":case"keyup":S=D4;break;case"focusin":C="focus",S=Ep;break;case"focusout":C="blur",S=Ep;break;case"beforeblur":case"afterblur":S=Ep;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=dw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=S4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=U4;break;case jS:case BS:case zS:S=E4;break;case VS:S=F4;break;case"scroll":S=_4;break;case"wheel":S=B4;break;case"copy":case"cut":case"paste":S=T4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=pw}var T=(e&4)!==0,A=!T&&t==="scroll",g=T?y!==null?y+"Capture":null:y;T=[];for(var w=h,_;w!==null;){_=w;var P=_.stateNode;if(_.tag===5&&P!==null&&(_=P,g!==null&&(P=Rl(w,g),P!=null&&T.push(Fl(w,P,_)))),A)break;w=w.return}0<T.length&&(y=new S(y,C,null,r,f),m.push({event:y,listeners:T}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",y&&r!==Vm&&(C=r.relatedTarget||r.fromElement)&&(ys(C)||C[Br]))break e;if((S||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,S?(C=r.relatedTarget||r.toElement,S=h,C=C?ys(C):null,C!==null&&(A=Qs(C),C!==A||C.tag!==5&&C.tag!==6)&&(C=null)):(S=null,C=h),S!==C)){if(T=dw,P="onMouseLeave",g="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(T=pw,P="onPointerLeave",g="onPointerEnter",w="pointer"),A=S==null?y:vo(S),_=C==null?y:vo(C),y=new T(P,w+"leave",S,r,f),y.target=A,y.relatedTarget=_,P=null,ys(f)===h&&(T=new T(g,w+"enter",C,r,f),T.target=_,T.relatedTarget=A,P=T),A=P,S&&C)t:{for(T=S,g=C,w=0,_=T;_;_=oo(_))w++;for(_=0,P=g;P;P=oo(P))_++;for(;0<w-_;)T=oo(T),w--;for(;0<_-w;)g=oo(g),_--;for(;w--;){if(T===g||g!==null&&T===g.alternate)break t;T=oo(T),g=oo(g)}T=null}else T=null;S!==null&&Ew(m,y,S,T,!1),C!==null&&A!==null&&Ew(m,A,C,T,!0)}}e:{if(y=h?vo(h):window,S=y.nodeName&&y.nodeName.toLowerCase(),S==="select"||S==="input"&&y.type==="file")var k=Y4;else if(vw(y))if(MS)k=J4;else{k=Q4;var j=K4}else(S=y.nodeName)&&S.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(k=X4);if(k&&(k=k(t,h))){DS(m,k,r,f);break e}j&&j(t,y,h),t==="focusout"&&(j=y._wrapperState)&&j.controlled&&y.type==="number"&&$m(y,"number",y.value)}switch(j=h?vo(h):window,t){case"focusin":(vw(j)||j.contentEditable==="true")&&(mo=j,Qm=h,pl=null);break;case"focusout":pl=Qm=mo=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,Sw(m,r,f);break;case"selectionchange":if(tP)break;case"keydown":case"keyup":Sw(m,r,f)}var O;if(ty)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else po?RS(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(OS&&r.locale!=="ko"&&(po||N!=="onCompositionStart"?N==="onCompositionEnd"&&po&&(O=AS()):(wi=f,Jv="value"in wi?wi.value:wi.textContent,po=!0)),j=kh(h,N),0<j.length&&(N=new fw(N,t,null,r,f),m.push({event:N,listeners:j}),O?N.data=O:(O=NS(r),O!==null&&(N.data=O)))),(O=V4?G4(t,r):H4(t,r))&&(h=kh(h,"onBeforeInput"),0<h.length&&(f=new fw("onBeforeInput","beforeinput",null,r,f),m.push({event:f,listeners:h}),f.data=O))}HS(m,e)})}function Fl(t,e,r){return{instance:t,listener:e,currentTarget:r}}function kh(t,e){for(var r=e+"Capture",i=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Rl(t,r),o!=null&&i.unshift(Fl(t,o,s)),o=Rl(t,e),o!=null&&i.push(Fl(t,o,s))),t=t.return}return i}function oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ew(t,e,r,i,s){for(var o=e._reactName,a=[];r!==null&&r!==i;){var u=r,c=u.alternate,h=u.stateNode;if(c!==null&&c===i)break;u.tag===5&&h!==null&&(u=h,s?(c=Rl(r,o),c!=null&&a.unshift(Fl(r,c,u))):s||(c=Rl(r,o),c!=null&&a.push(Fl(r,c,u)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var sP=/\r\n?/g,oP=/\u0000|\uFFFD/g;function xw(t){return(typeof t=="string"?t:""+t).replace(sP,`
`).replace(oP,"")}function vc(t,e,r){if(e=xw(e),xw(t)!==e&&r)throw Error(re(425))}function Eh(){}var Jm=null,Zm=null;function eg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tg=typeof setTimeout=="function"?setTimeout:void 0,aP=typeof clearTimeout=="function"?clearTimeout:void 0,Tw=typeof Promise=="function"?Promise:void 0,lP=typeof queueMicrotask=="function"?queueMicrotask:typeof Tw<"u"?function(t){return Tw.resolve(null).then(t).catch(uP)}:tg;function uP(t){setTimeout(function(){throw t})}function Np(t,e){var r=e,i=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(i===0){t.removeChild(s),Ml(e);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=s}while(r);Ml(e)}function Ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Iw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var fa=Math.random().toString(36).slice(2),gr="__reactFiber$"+fa,jl="__reactProps$"+fa,Br="__reactContainer$"+fa,ng="__reactEvents$"+fa,cP="__reactListeners$"+fa,hP="__reactHandles$"+fa;function ys(t){var e=t[gr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Br]||r[gr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Iw(t);t!==null;){if(r=t[gr])return r;t=Iw(t)}return e}t=r,r=t.parentNode}return null}function wu(t){return t=t[gr]||t[Br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Pd(t){return t[jl]||null}var rg=[],yo=-1;function Zi(t){return{current:t}}function Ze(t){0>yo||(t.current=rg[yo],rg[yo]=null,yo--)}function We(t,e){yo++,rg[yo]=t.current,t.current=e}var Bi={},nn=Zi(Bi),bn=Zi(!1),Rs=Bi;function Go(t,e){var r=t.type.contextTypes;if(!r)return Bi;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Sn(t){return t=t.childContextTypes,t!=null}function xh(){Ze(bn),Ze(nn)}function Pw(t,e,r){if(nn.current!==Bi)throw Error(re(168));We(nn,e),We(bn,r)}function qS(t,e,r){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(re(108,K3(t)||"Unknown",s));return ut({},r,i)}function Th(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bi,Rs=nn.current,We(nn,t),We(bn,bn.current),!0}function Aw(t,e,r){var i=t.stateNode;if(!i)throw Error(re(169));r?(t=qS(t,e,Rs),i.__reactInternalMemoizedMergedChildContext=t,Ze(bn),Ze(nn),We(nn,t)):Ze(bn),We(bn,r)}var Rr=null,Ad=!1,Dp=!1;function YS(t){Rr===null?Rr=[t]:Rr.push(t)}function dP(t){Ad=!0,YS(t)}function es(){if(!Dp&&Rr!==null){Dp=!0;var t=0,e=Fe;try{var r=Rr;for(Fe=1;t<r.length;t++){var i=r[t];do i=i(!0);while(i!==null)}Rr=null,Ad=!1}catch(s){throw Rr!==null&&(Rr=Rr.slice(t+1)),wS(Yv,es),s}finally{Fe=e,Dp=!1}}return null}var wo=[],_o=0,Ih=null,Ph=0,Fn=[],jn=0,Ns=null,Dr=1,Mr="";function ds(t,e){wo[_o++]=Ph,wo[_o++]=Ih,Ih=t,Ph=e}function KS(t,e,r){Fn[jn++]=Dr,Fn[jn++]=Mr,Fn[jn++]=Ns,Ns=t;var i=Dr;t=Mr;var s=32-ir(i)-1;i&=~(1<<s),r+=1;var o=32-ir(e)+s;if(30<o){var a=s-s%5;o=(i&(1<<a)-1).toString(32),i>>=a,s-=a,Dr=1<<32-ir(e)+s|r<<s|i,Mr=o+t}else Dr=1<<o|r<<s|i,Mr=t}function ry(t){t.return!==null&&(ds(t,1),KS(t,1,0))}function iy(t){for(;t===Ih;)Ih=wo[--_o],wo[_o]=null,Ph=wo[--_o],wo[_o]=null;for(;t===Ns;)Ns=Fn[--jn],Fn[jn]=null,Mr=Fn[--jn],Fn[jn]=null,Dr=Fn[--jn],Fn[jn]=null}var Pn=null,xn=null,rt=!1,er=null;function QS(t,e){var r=Bn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Ow(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pn=t,xn=Ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pn=t,xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ns!==null?{id:Dr,overflow:Mr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Bn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Pn=t,xn=null,!0):!1;default:return!1}}function ig(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sg(t){if(rt){var e=xn;if(e){var r=e;if(!Ow(t,e)){if(ig(t))throw Error(re(418));e=Ti(r.nextSibling);var i=Pn;e&&Ow(t,e)?QS(i,r):(t.flags=t.flags&-4097|2,rt=!1,Pn=t)}}else{if(ig(t))throw Error(re(418));t.flags=t.flags&-4097|2,rt=!1,Pn=t}}}function Rw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pn=t}function yc(t){if(t!==Pn)return!1;if(!rt)return Rw(t),rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!eg(t.type,t.memoizedProps)),e&&(e=xn)){if(ig(t))throw XS(),Error(re(418));for(;e;)QS(t,e),e=Ti(e.nextSibling)}if(Rw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){xn=Ti(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}xn=null}}else xn=Pn?Ti(t.stateNode.nextSibling):null;return!0}function XS(){for(var t=xn;t;)t=Ti(t.nextSibling)}function Ho(){xn=Pn=null,rt=!1}function sy(t){er===null?er=[t]:er.push(t)}var fP=Zr.ReactCurrentBatchConfig;function Jn(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Ah=Zi(null),Oh=null,bo=null,oy=null;function ay(){oy=bo=Oh=null}function ly(t){var e=Ah.current;Ze(Ah),t._currentValue=e}function og(t,e,r){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===r)break;t=t.return}}function No(t,e){Oh=t,oy=bo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wn=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if(oy!==t)if(t={context:t,memoizedValue:e,next:null},bo===null){if(Oh===null)throw Error(re(308));bo=t,Oh.dependencies={lanes:0,firstContext:t}}else bo=bo.next=t;return e}var ws=null;function uy(t){ws===null?ws=[t]:ws.push(t)}function JS(t,e,r,i){var s=e.interleaved;return s===null?(r.next=r,uy(e)):(r.next=s.next,s.next=r),e.interleaved=r,zr(t,i)}function zr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ci=!1;function cy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(t,e,r){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,De&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,zr(t,r)}return s=i.interleaved,s===null?(e.next=e,uy(i)):(e.next=s.next,s.next=e),i.interleaved=e,zr(t,r)}function Kc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,r|=i,e.lanes=r,Kv(t,r)}}function Nw(t,e){var r=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Rh(t,e,r,i){var s=t.updateQueue;ci=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var c=u,h=c.next;c.next=null,a===null?o=h:a.next=h,a=c;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==a&&(u===null?f.firstBaseUpdate=h:u.next=h,f.lastBaseUpdate=c))}if(o!==null){var m=s.baseState;a=0,f=h=c=null,u=o;do{var y=u.lane,S=u.eventTime;if((i&y)===y){f!==null&&(f=f.next={eventTime:S,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var C=t,T=u;switch(y=e,S=r,T.tag){case 1:if(C=T.payload,typeof C=="function"){m=C.call(S,m,y);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=T.payload,y=typeof C=="function"?C.call(S,m,y):C,y==null)break e;m=ut({},m,y);break e;case 2:ci=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,y=s.effects,y===null?s.effects=[u]:y.push(u))}else S={eventTime:S,lane:y,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(h=f=S,c=m):f=f.next=S,a|=y;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;y=u,u=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(1);if(f===null&&(c=m),s.baseState=c,s.firstBaseUpdate=h,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Ms|=a,t.lanes=a,t.memoizedState=m}}function Dw(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=r,typeof s!="function")throw Error(re(191,s));s.call(i)}}}var eC=new Jb.Component().refs;function ag(t,e,r,i){e=t.memoizedState,r=r(i,e),r=r==null?e:ut({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Od={isMounted:function(t){return(t=t._reactInternals)?Qs(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var i=fn(),s=Ai(t),o=Fr(i,s);o.payload=e,r!=null&&(o.callback=r),e=Ii(t,o,s),e!==null&&(sr(e,t,s,i),Kc(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var i=fn(),s=Ai(t),o=Fr(i,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Ii(t,o,s),e!==null&&(sr(e,t,s,i),Kc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=fn(),i=Ai(t),s=Fr(r,i);s.tag=2,e!=null&&(s.callback=e),e=Ii(t,s,i),e!==null&&(sr(e,t,i,r),Kc(e,t,i))}};function Mw(t,e,r,i,s,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,a):e.prototype&&e.prototype.isPureReactComponent?!Ul(r,i)||!Ul(s,o):!0}function tC(t,e,r){var i=!1,s=Bi,o=e.contextType;return typeof o=="object"&&o!==null?o=Hn(o):(s=Sn(e)?Rs:nn.current,i=e.contextTypes,o=(i=i!=null)?Go(t,s):Bi),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Od,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Lw(t,e,r,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,i),e.state!==t&&Od.enqueueReplaceState(e,e.state,null)}function lg(t,e,r,i){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs=eC,cy(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Hn(o):(o=Sn(e)?Rs:nn.current,s.context=Go(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ag(t,e,o,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Od.enqueueReplaceState(s,s.state,null),Rh(t,r,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Va(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var i=r.stateNode}if(!i)throw Error(re(147,t));var s=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var u=s.refs;u===eC&&(u=s.refs={}),a===null?delete u[o]:u[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,t))}return t}function wc(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Uw(t){var e=t._init;return e(t._payload)}function nC(t){function e(g,w){if(t){var _=g.deletions;_===null?(g.deletions=[w],g.flags|=16):_.push(w)}}function r(g,w){if(!t)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function i(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function s(g,w){return g=Oi(g,w),g.index=0,g.sibling=null,g}function o(g,w,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<w?(g.flags|=2,w):_):(g.flags|=2,w)):(g.flags|=1048576,w)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function u(g,w,_,P){return w===null||w.tag!==6?(w=Bp(_,g.mode,P),w.return=g,w):(w=s(w,_),w.return=g,w)}function c(g,w,_,P){var k=_.type;return k===fo?f(g,w,_.props.children,P,_.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ui&&Uw(k)===w.type)?(P=s(w,_.props),P.ref=Va(g,w,_),P.return=g,P):(P=th(_.type,_.key,_.props,null,g.mode,P),P.ref=Va(g,w,_),P.return=g,P)}function h(g,w,_,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=zp(_,g.mode,P),w.return=g,w):(w=s(w,_.children||[]),w.return=g,w)}function f(g,w,_,P,k){return w===null||w.tag!==7?(w=Ts(_,g.mode,P,k),w.return=g,w):(w=s(w,_),w.return=g,w)}function m(g,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Bp(""+w,g.mode,_),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case lc:return _=th(w.type,w.key,w.props,null,g.mode,_),_.ref=Va(g,null,w),_.return=g,_;case ho:return w=zp(w,g.mode,_),w.return=g,w;case ui:var P=w._init;return m(g,P(w._payload),_)}if(Za(w)||$a(w))return w=Ts(w,g.mode,_,null),w.return=g,w;wc(g,w)}return null}function y(g,w,_,P){var k=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return k!==null?null:u(g,w,""+_,P);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case lc:return _.key===k?c(g,w,_,P):null;case ho:return _.key===k?h(g,w,_,P):null;case ui:return k=_._init,y(g,w,k(_._payload),P)}if(Za(_)||$a(_))return k!==null?null:f(g,w,_,P,null);wc(g,_)}return null}function S(g,w,_,P,k){if(typeof P=="string"&&P!==""||typeof P=="number")return g=g.get(_)||null,u(w,g,""+P,k);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case lc:return g=g.get(P.key===null?_:P.key)||null,c(w,g,P,k);case ho:return g=g.get(P.key===null?_:P.key)||null,h(w,g,P,k);case ui:var j=P._init;return S(g,w,_,j(P._payload),k)}if(Za(P)||$a(P))return g=g.get(_)||null,f(w,g,P,k,null);wc(w,P)}return null}function C(g,w,_,P){for(var k=null,j=null,O=w,N=w=0,F=null;O!==null&&N<_.length;N++){O.index>N?(F=O,O=null):F=O.sibling;var $=y(g,O,_[N],P);if($===null){O===null&&(O=F);break}t&&O&&$.alternate===null&&e(g,O),w=o($,w,N),j===null?k=$:j.sibling=$,j=$,O=F}if(N===_.length)return r(g,O),rt&&ds(g,N),k;if(O===null){for(;N<_.length;N++)O=m(g,_[N],P),O!==null&&(w=o(O,w,N),j===null?k=O:j.sibling=O,j=O);return rt&&ds(g,N),k}for(O=i(g,O);N<_.length;N++)F=S(O,g,N,_[N],P),F!==null&&(t&&F.alternate!==null&&O.delete(F.key===null?N:F.key),w=o(F,w,N),j===null?k=F:j.sibling=F,j=F);return t&&O.forEach(function(M){return e(g,M)}),rt&&ds(g,N),k}function T(g,w,_,P){var k=$a(_);if(typeof k!="function")throw Error(re(150));if(_=k.call(_),_==null)throw Error(re(151));for(var j=k=null,O=w,N=w=0,F=null,$=_.next();O!==null&&!$.done;N++,$=_.next()){O.index>N?(F=O,O=null):F=O.sibling;var M=y(g,O,$.value,P);if(M===null){O===null&&(O=F);break}t&&O&&M.alternate===null&&e(g,O),w=o(M,w,N),j===null?k=M:j.sibling=M,j=M,O=F}if($.done)return r(g,O),rt&&ds(g,N),k;if(O===null){for(;!$.done;N++,$=_.next())$=m(g,$.value,P),$!==null&&(w=o($,w,N),j===null?k=$:j.sibling=$,j=$);return rt&&ds(g,N),k}for(O=i(g,O);!$.done;N++,$=_.next())$=S(O,g,N,$.value,P),$!==null&&(t&&$.alternate!==null&&O.delete($.key===null?N:$.key),w=o($,w,N),j===null?k=$:j.sibling=$,j=$);return t&&O.forEach(function(B){return e(g,B)}),rt&&ds(g,N),k}function A(g,w,_,P){if(typeof _=="object"&&_!==null&&_.type===fo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case lc:e:{for(var k=_.key,j=w;j!==null;){if(j.key===k){if(k=_.type,k===fo){if(j.tag===7){r(g,j.sibling),w=s(j,_.props.children),w.return=g,g=w;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ui&&Uw(k)===j.type){r(g,j.sibling),w=s(j,_.props),w.ref=Va(g,j,_),w.return=g,g=w;break e}r(g,j);break}else e(g,j);j=j.sibling}_.type===fo?(w=Ts(_.props.children,g.mode,P,_.key),w.return=g,g=w):(P=th(_.type,_.key,_.props,null,g.mode,P),P.ref=Va(g,w,_),P.return=g,g=P)}return a(g);case ho:e:{for(j=_.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(g,w.sibling),w=s(w,_.children||[]),w.return=g,g=w;break e}else{r(g,w);break}else e(g,w);w=w.sibling}w=zp(_,g.mode,P),w.return=g,g=w}return a(g);case ui:return j=_._init,A(g,w,j(_._payload),P)}if(Za(_))return C(g,w,_,P);if($a(_))return T(g,w,_,P);wc(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(g,w.sibling),w=s(w,_),w.return=g,g=w):(r(g,w),w=Bp(_,g.mode,P),w.return=g,g=w),a(g)):r(g,w)}return A}var Wo=nC(!0),rC=nC(!1),_u={},_r=Zi(_u),Bl=Zi(_u),zl=Zi(_u);function _s(t){if(t===_u)throw Error(re(174));return t}function hy(t,e){switch(We(zl,e),We(Bl,t),We(_r,_u),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jm(e,t)}Ze(_r),We(_r,e)}function qo(){Ze(_r),Ze(Bl),Ze(zl)}function iC(t){_s(zl.current);var e=_s(_r.current),r=jm(e,t.type);e!==r&&(We(Bl,t),We(_r,r))}function dy(t){Bl.current===t&&(Ze(_r),Ze(Bl))}var at=Zi(0);function Nh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mp=[];function fy(){for(var t=0;t<Mp.length;t++)Mp[t]._workInProgressVersionPrimary=null;Mp.length=0}var Qc=Zr.ReactCurrentDispatcher,Lp=Zr.ReactCurrentBatchConfig,Ds=0,lt=null,Et=null,Nt=null,Dh=!1,ml=!1,Vl=0,pP=0;function Ht(){throw Error(re(321))}function py(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!or(t[r],e[r]))return!1;return!0}function my(t,e,r,i,s,o){if(Ds=o,lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qc.current=t===null||t.memoizedState===null?yP:wP,t=r(i,s),ml){o=0;do{if(ml=!1,Vl=0,25<=o)throw Error(re(301));o+=1,Nt=Et=null,e.updateQueue=null,Qc.current=_P,t=r(i,s)}while(ml)}if(Qc.current=Mh,e=Et!==null&&Et.next!==null,Ds=0,Nt=Et=lt=null,Dh=!1,e)throw Error(re(300));return t}function gy(){var t=Vl!==0;return Vl=0,t}function mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?lt.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Wn(){if(Et===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=Nt===null?lt.memoizedState:Nt.next;if(e!==null)Nt=e,Et=t;else{if(t===null)throw Error(re(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Nt===null?lt.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Gl(t,e){return typeof e=="function"?e(t):e}function Up(t){var e=Wn(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var i=Et,s=i.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}i.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,i=i.baseState;var u=a=null,c=null,h=o;do{var f=h.lane;if((Ds&f)===f)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:t(i,h.action);else{var m={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(u=c=m,a=i):c=c.next=m,lt.lanes|=f,Ms|=f}h=h.next}while(h!==null&&h!==o);c===null?a=i:c.next=u,or(i,e.memoizedState)||(wn=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,r.lastRenderedState=i}if(t=r.interleaved,t!==null){s=t;do o=s.lane,lt.lanes|=o,Ms|=o,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function $p(t){var e=Wn(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var i=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=t(o,a.action),a=a.next;while(a!==s);or(o,e.memoizedState)||(wn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,i]}function sC(){}function oC(t,e){var r=lt,i=Wn(),s=e(),o=!or(i.memoizedState,s);if(o&&(i.memoizedState=s,wn=!0),i=i.queue,vy(uC.bind(null,r,i,t),[t]),i.getSnapshot!==e||o||Nt!==null&&Nt.memoizedState.tag&1){if(r.flags|=2048,Hl(9,lC.bind(null,r,i,s,e),void 0,null),Dt===null)throw Error(re(349));Ds&30||aC(r,e,s)}return s}function aC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function lC(t,e,r,i){e.value=r,e.getSnapshot=i,cC(e)&&hC(t)}function uC(t,e,r){return r(function(){cC(e)&&hC(t)})}function cC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!or(t,r)}catch{return!0}}function hC(t){var e=zr(t,1);e!==null&&sr(e,t,1,-1)}function $w(t){var e=mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gl,lastRenderedState:t},e.queue=t,t=t.dispatch=vP.bind(null,lt,t),[e.memoizedState,t]}function Hl(t,e,r,i){return t={tag:t,create:e,destroy:r,deps:i,next:null},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(i=r.next,r.next=t,t.next=i,e.lastEffect=t)),t}function dC(){return Wn().memoizedState}function Xc(t,e,r,i){var s=mr();lt.flags|=t,s.memoizedState=Hl(1|e,r,void 0,i===void 0?null:i)}function Rd(t,e,r,i){var s=Wn();i=i===void 0?null:i;var o=void 0;if(Et!==null){var a=Et.memoizedState;if(o=a.destroy,i!==null&&py(i,a.deps)){s.memoizedState=Hl(e,r,o,i);return}}lt.flags|=t,s.memoizedState=Hl(1|e,r,o,i)}function Fw(t,e){return Xc(8390656,8,t,e)}function vy(t,e){return Rd(2048,8,t,e)}function fC(t,e){return Rd(4,2,t,e)}function pC(t,e){return Rd(4,4,t,e)}function mC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gC(t,e,r){return r=r!=null?r.concat([t]):null,Rd(4,4,mC.bind(null,e,t),r)}function yy(){}function vC(t,e){var r=Wn();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&py(e,i[1])?i[0]:(r.memoizedState=[t,e],t)}function yC(t,e){var r=Wn();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&py(e,i[1])?i[0]:(t=t(),r.memoizedState=[t,e],t)}function wC(t,e,r){return Ds&21?(or(r,e)||(r=SS(),lt.lanes|=r,Ms|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wn=!0),t.memoizedState=r)}function mP(t,e){var r=Fe;Fe=r!==0&&4>r?r:4,t(!0);var i=Lp.transition;Lp.transition={};try{t(!1),e()}finally{Fe=r,Lp.transition=i}}function _C(){return Wn().memoizedState}function gP(t,e,r){var i=Ai(t);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},bC(t))SC(e,r);else if(r=JS(t,e,r,i),r!==null){var s=fn();sr(r,t,i,s),CC(r,e,i)}}function vP(t,e,r){var i=Ai(t),s={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(bC(t))SC(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,u=o(a,r);if(s.hasEagerState=!0,s.eagerState=u,or(u,a)){var c=e.interleaved;c===null?(s.next=s,uy(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=JS(t,e,s,i),r!==null&&(s=fn(),sr(r,t,i,s),CC(r,e,i))}}function bC(t){var e=t.alternate;return t===lt||e!==null&&e===lt}function SC(t,e){ml=Dh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function CC(t,e,r){if(r&4194240){var i=e.lanes;i&=t.pendingLanes,r|=i,e.lanes=r,Kv(t,r)}}var Mh={readContext:Hn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},yP={readContext:Hn,useCallback:function(t,e){return mr().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:Fw,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Xc(4194308,4,mC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Xc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xc(4,2,t,e)},useMemo:function(t,e){var r=mr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var i=mr();return e=r!==void 0?r(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=gP.bind(null,lt,t),[i.memoizedState,t]},useRef:function(t){var e=mr();return t={current:t},e.memoizedState=t},useState:$w,useDebugValue:yy,useDeferredValue:function(t){return mr().memoizedState=t},useTransition:function(){var t=$w(!1),e=t[0];return t=mP.bind(null,t[1]),mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var i=lt,s=mr();if(rt){if(r===void 0)throw Error(re(407));r=r()}else{if(r=e(),Dt===null)throw Error(re(349));Ds&30||aC(i,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,Fw(uC.bind(null,i,o,t),[t]),i.flags|=2048,Hl(9,lC.bind(null,i,o,r,e),void 0,null),r},useId:function(){var t=mr(),e=Dt.identifierPrefix;if(rt){var r=Mr,i=Dr;r=(i&~(1<<32-ir(i)-1)).toString(32)+r,e=":"+e+"R"+r,r=Vl++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=pP++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wP={readContext:Hn,useCallback:vC,useContext:Hn,useEffect:vy,useImperativeHandle:gC,useInsertionEffect:fC,useLayoutEffect:pC,useMemo:yC,useReducer:Up,useRef:dC,useState:function(){return Up(Gl)},useDebugValue:yy,useDeferredValue:function(t){var e=Wn();return wC(e,Et.memoizedState,t)},useTransition:function(){var t=Up(Gl)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:sC,useSyncExternalStore:oC,useId:_C,unstable_isNewReconciler:!1},_P={readContext:Hn,useCallback:vC,useContext:Hn,useEffect:vy,useImperativeHandle:gC,useInsertionEffect:fC,useLayoutEffect:pC,useMemo:yC,useReducer:$p,useRef:dC,useState:function(){return $p(Gl)},useDebugValue:yy,useDeferredValue:function(t){var e=Wn();return Et===null?e.memoizedState=t:wC(e,Et.memoizedState,t)},useTransition:function(){var t=$p(Gl)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:sC,useSyncExternalStore:oC,useId:_C,unstable_isNewReconciler:!1};function Yo(t,e){try{var r="",i=e;do r+=Y3(i),i=i.return;while(i);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Fp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ug(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var bP=typeof WeakMap=="function"?WeakMap:Map;function kC(t,e,r){r=Fr(-1,r),r.tag=3,r.payload={element:null};var i=e.value;return r.callback=function(){Uh||(Uh=!0,wg=i),ug(t,e)},r}function EC(t,e,r){r=Fr(-1,r),r.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;r.payload=function(){return i(s)},r.callback=function(){ug(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){ug(t,e),typeof i!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function jw(t,e,r){var i=t.pingCache;if(i===null){i=t.pingCache=new bP;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(r)||(s.add(r),t=MP.bind(null,t,e,r),e.then(t,t))}function Bw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zw(t,e,r,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Fr(-1,1),e.tag=2,Ii(r,e,1))),r.lanes|=1),t)}var SP=Zr.ReactCurrentOwner,wn=!1;function un(t,e,r,i){e.child=t===null?rC(e,null,r,i):Wo(e,t.child,r,i)}function Vw(t,e,r,i,s){r=r.render;var o=e.ref;return No(e,s),i=my(t,e,r,i,o,s),r=gy(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vr(t,e,s)):(rt&&r&&ry(e),e.flags|=1,un(t,e,i,s),e.child)}function Gw(t,e,r,i,s){if(t===null){var o=r.type;return typeof o=="function"&&!xy(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,xC(t,e,o,i,s)):(t=th(r.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:Ul,r(a,i)&&t.ref===e.ref)return Vr(t,e,s)}return e.flags|=1,t=Oi(o,i),t.ref=e.ref,t.return=e,e.child=t}function xC(t,e,r,i,s){if(t!==null){var o=t.memoizedProps;if(Ul(o,i)&&t.ref===e.ref)if(wn=!1,e.pendingProps=i=o,(t.lanes&s)!==0)t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,Vr(t,e,s)}return cg(t,e,r,i,s)}function TC(t,e,r){var i=e.pendingProps,s=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Co,En),En|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(Co,En),En|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:r,We(Co,En),En|=i}else o!==null?(i=o.baseLanes|r,e.memoizedState=null):i=r,We(Co,En),En|=i;return un(t,e,s,r),e.child}function IC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function cg(t,e,r,i,s){var o=Sn(r)?Rs:nn.current;return o=Go(e,o),No(e,s),r=my(t,e,r,i,o,s),i=gy(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vr(t,e,s)):(rt&&i&&ry(e),e.flags|=1,un(t,e,r,s),e.child)}function Hw(t,e,r,i,s){if(Sn(r)){var o=!0;Th(e)}else o=!1;if(No(e,s),e.stateNode===null)Jc(t,e),tC(e,r,i),lg(e,r,i,s),i=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,h=r.contextType;typeof h=="object"&&h!==null?h=Hn(h):(h=Sn(r)?Rs:nn.current,h=Go(e,h));var f=r.getDerivedStateFromProps,m=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==i||c!==h)&&Lw(e,a,i,h),ci=!1;var y=e.memoizedState;a.state=y,Rh(e,i,a,s),c=e.memoizedState,u!==i||y!==c||bn.current||ci?(typeof f=="function"&&(ag(e,r,f,i),c=e.memoizedState),(u=ci||Mw(e,r,u,i,y,c,h))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=h,i=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,ZS(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:Jn(e.type,u),a.props=h,m=e.pendingProps,y=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Hn(c):(c=Sn(r)?Rs:nn.current,c=Go(e,c));var S=r.getDerivedStateFromProps;(f=typeof S=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==m||y!==c)&&Lw(e,a,i,c),ci=!1,y=e.memoizedState,a.state=y,Rh(e,i,a,s);var C=e.memoizedState;u!==m||y!==C||bn.current||ci?(typeof S=="function"&&(ag(e,r,S,i),C=e.memoizedState),(h=ci||Mw(e,r,h,i,y,C,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,C,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,C,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=C),a.props=i,a.state=C,a.context=c,i=h):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),i=!1)}return hg(t,e,r,i,o,s)}function hg(t,e,r,i,s,o){IC(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return s&&Aw(e,r,!1),Vr(t,e,o);i=e.stateNode,SP.current=e;var u=a&&typeof r.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=Wo(e,t.child,null,o),e.child=Wo(e,null,u,o)):un(t,e,u,o),e.memoizedState=i.state,s&&Aw(e,r,!0),e.child}function PC(t){var e=t.stateNode;e.pendingContext?Pw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Pw(t,e.context,!1),hy(t,e.containerInfo)}function Ww(t,e,r,i,s){return Ho(),sy(s),e.flags|=256,un(t,e,r,i),e.child}var dg={dehydrated:null,treeContext:null,retryLane:0};function fg(t){return{baseLanes:t,cachePool:null,transitions:null}}function AC(t,e,r){var i=e.pendingProps,s=at.current,o=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(s&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),We(at,s&1),t===null)return sg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,o?(i=e.mode,o=e.child,a={mode:"hidden",children:a},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Md(a,i,0,null),t=Ts(t,i,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=fg(r),e.memoizedState=dg,t):wy(e,a));if(s=t.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return CP(t,e,a,i,u,s,r);if(o){o=i.fallback,a=e.mode,s=t.child,u=s.sibling;var c={mode:"hidden",children:i.children};return!(a&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=Oi(s,c),i.subtreeFlags=s.subtreeFlags&14680064),u!==null?o=Oi(u,o):(o=Ts(o,a,r,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,a=t.child.memoizedState,a=a===null?fg(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~r,e.memoizedState=dg,i}return o=t.child,t=o.sibling,i=Oi(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=r),i.return=e,i.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=i,e.memoizedState=null,i}function wy(t,e){return e=Md({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _c(t,e,r,i){return i!==null&&sy(i),Wo(e,t.child,null,r),t=wy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CP(t,e,r,i,s,o,a){if(r)return e.flags&256?(e.flags&=-257,i=Fp(Error(re(422))),_c(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,s=e.mode,i=Md({mode:"visible",children:i.children},s,0,null),o=Ts(o,s,a,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Wo(e,t.child,null,a),e.child.memoizedState=fg(a),e.memoizedState=dg,o);if(!(e.mode&1))return _c(t,e,a,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var u=i.dgst;return i=u,o=Error(re(419)),i=Fp(o,i,void 0),_c(t,e,a,i)}if(u=(a&t.childLanes)!==0,wn||u){if(i=Dt,i!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,zr(t,s),sr(i,t,s,-1))}return Ey(),i=Fp(Error(re(421))),_c(t,e,a,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=LP.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,xn=Ti(s.nextSibling),Pn=e,rt=!0,er=null,t!==null&&(Fn[jn++]=Dr,Fn[jn++]=Mr,Fn[jn++]=Ns,Dr=t.id,Mr=t.overflow,Ns=e),e=wy(e,i.children),e.flags|=4096,e)}function qw(t,e,r){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),og(t.return,e,r)}function jp(t,e,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=r,o.tailMode=s)}function OC(t,e,r){var i=e.pendingProps,s=i.revealOrder,o=i.tail;if(un(t,e,i.children,r),i=at.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qw(t,r,e);else if(t.tag===19)qw(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(We(at,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Nh(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),jp(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Nh(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}jp(e,!0,r,null,o);break;case"together":jp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ms|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,r=Oi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Oi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function kP(t,e,r){switch(e.tag){case 3:PC(e),Ho();break;case 5:iC(e);break;case 1:Sn(e.type)&&Th(e);break;case 4:hy(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;We(Ah,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(We(at,at.current&1),e.flags|=128,null):r&e.child.childLanes?AC(t,e,r):(We(at,at.current&1),t=Vr(t,e,r),t!==null?t.sibling:null);We(at,at.current&1);break;case 19:if(i=(r&e.childLanes)!==0,t.flags&128){if(i)return OC(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(at,at.current),i)break;return null;case 22:case 23:return e.lanes=0,TC(t,e,r)}return Vr(t,e,r)}var RC,pg,NC,DC;RC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pg=function(){};NC=function(t,e,r,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,_s(_r.current);var o=null;switch(r){case"input":s=Lm(t,s),i=Lm(t,i),o=[];break;case"select":s=ut({},s,{value:void 0}),i=ut({},i,{value:void 0}),o=[];break;case"textarea":s=Fm(t,s),i=Fm(t,i),o=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Eh)}Bm(r,i);var a;r=null;for(h in s)if(!i.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var u=s[h];for(a in u)u.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Al.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in i){var c=i[h];if(u=s!=null?s[h]:void 0,i.hasOwnProperty(h)&&c!==u&&(c!=null||u!=null))if(h==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(h,r)),r=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(o=o||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Al.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Qe("scroll",t),o||u===c||(o=[])):(o=o||[]).push(h,c))}r&&(o=o||[]).push("style",r);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};DC=function(t,e,r,i){r!==i&&(e.flags|=4)};function Ga(t,e){if(!rt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,i=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=r,e}function EP(t,e,r){var i=e.pendingProps;switch(iy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return Sn(e.type)&&xh(),Wt(e),null;case 3:return i=e.stateNode,qo(),Ze(bn),Ze(nn),fy(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(yc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,er!==null&&(Sg(er),er=null))),pg(t,e),Wt(e),null;case 5:dy(e);var s=_s(zl.current);if(r=e.type,t!==null&&e.stateNode!=null)NC(t,e,r,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(re(166));return Wt(e),null}if(t=_s(_r.current),yc(e)){i=e.stateNode,r=e.type;var o=e.memoizedProps;switch(i[gr]=e,i[jl]=o,t=(e.mode&1)!==0,r){case"dialog":Qe("cancel",i),Qe("close",i);break;case"iframe":case"object":case"embed":Qe("load",i);break;case"video":case"audio":for(s=0;s<tl.length;s++)Qe(tl[s],i);break;case"source":Qe("error",i);break;case"img":case"image":case"link":Qe("error",i),Qe("load",i);break;case"details":Qe("toggle",i);break;case"input":nw(i,o),Qe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Qe("invalid",i);break;case"textarea":iw(i,o),Qe("invalid",i)}Bm(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="children"?typeof u=="string"?i.textContent!==u&&(o.suppressHydrationWarning!==!0&&vc(i.textContent,u,t),s=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&vc(i.textContent,u,t),s=["children",""+u]):Al.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Qe("scroll",i)}switch(r){case"input":uc(i),rw(i,o,!0);break;case"textarea":uc(i),sw(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Eh)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aS(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(r,{is:i.is}):(t=a.createElement(r),r==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,r),t[gr]=e,t[jl]=i,RC(t,e,!1,!1),e.stateNode=t;e:{switch(a=zm(r,i),r){case"dialog":Qe("cancel",t),Qe("close",t),s=i;break;case"iframe":case"object":case"embed":Qe("load",t),s=i;break;case"video":case"audio":for(s=0;s<tl.length;s++)Qe(tl[s],t);s=i;break;case"source":Qe("error",t),s=i;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),s=i;break;case"details":Qe("toggle",t),s=i;break;case"input":nw(t,i),s=Lm(t,i),Qe("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=ut({},i,{value:void 0}),Qe("invalid",t);break;case"textarea":iw(t,i),s=Fm(t,i),Qe("invalid",t);break;default:s=i}Bm(r,s),u=s;for(o in u)if(u.hasOwnProperty(o)){var c=u[o];o==="style"?cS(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lS(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ol(t,c):typeof c=="number"&&Ol(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Al.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Qe("scroll",t):c!=null&&Vv(t,o,c,a))}switch(r){case"input":uc(t),rw(t,i,!1);break;case"textarea":uc(t),sw(t);break;case"option":i.value!=null&&t.setAttribute("value",""+ji(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?Po(t,!!i.multiple,o,!1):i.defaultValue!=null&&Po(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Eh)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)DC(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(re(166));if(r=_s(zl.current),_s(_r.current),yc(e)){if(i=e.stateNode,r=e.memoizedProps,i[gr]=e,(o=i.nodeValue!==r)&&(t=Pn,t!==null))switch(t.tag){case 3:vc(i.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vc(i.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[gr]=e,e.stateNode=i}return Wt(e),null;case 13:if(Ze(at),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&xn!==null&&e.mode&1&&!(e.flags&128))XS(),Ho(),e.flags|=98560,o=!1;else if(o=yc(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(re(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(re(317));o[gr]=e}else Ho(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),o=!1}else er!==null&&(Sg(er),er=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||at.current&1?xt===0&&(xt=3):Ey())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return qo(),pg(t,e),t===null&&$l(e.stateNode.containerInfo),Wt(e),null;case 10:return ly(e.type._context),Wt(e),null;case 17:return Sn(e.type)&&xh(),Wt(e),null;case 19:if(Ze(at),o=e.memoizedState,o===null)return Wt(e),null;if(i=(e.flags&128)!==0,a=o.rendering,a===null)if(i)Ga(o,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Nh(t),a!==null){for(e.flags|=128,Ga(o,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=r,r=e.child;r!==null;)o=r,t=i,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return We(at,at.current&1|2),e.child}t=t.sibling}o.tail!==null&&vt()>Ko&&(e.flags|=128,i=!0,Ga(o,!1),e.lanes=4194304)}else{if(!i)if(t=Nh(a),t!==null){if(e.flags|=128,i=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ga(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!rt)return Wt(e),null}else 2*vt()-o.renderingStartTime>Ko&&r!==1073741824&&(e.flags|=128,i=!0,Ga(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=vt(),e.sibling=null,r=at.current,We(at,i?r&1|2:r&1),e):(Wt(e),null);case 22:case 23:return ky(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?En&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function xP(t,e){switch(iy(e),e.tag){case 1:return Sn(e.type)&&xh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qo(),Ze(bn),Ze(nn),fy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dy(e),null;case 13:if(Ze(at),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Ho()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ze(at),null;case 4:return qo(),null;case 10:return ly(e.type._context),null;case 22:case 23:return ky(),null;case 24:return null;default:return null}}var bc=!1,Kt=!1,TP=typeof WeakSet=="function"?WeakSet:Set,he=null;function So(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){ct(t,e,i)}else r.current=null}function mg(t,e,r){try{r()}catch(i){ct(t,e,i)}}var Yw=!1;function IP(t,e){if(Jm=Sh,t=$S(),ny(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,u=-1,c=-1,h=0,f=0,m=t,y=null;t:for(;;){for(var S;m!==r||s!==0&&m.nodeType!==3||(u=a+s),m!==o||i!==0&&m.nodeType!==3||(c=a+i),m.nodeType===3&&(a+=m.nodeValue.length),(S=m.firstChild)!==null;)y=m,m=S;for(;;){if(m===t)break t;if(y===r&&++h===s&&(u=a),y===o&&++f===i&&(c=a),(S=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=S}r=u===-1||c===-1?null:{start:u,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zm={focusedElem:t,selectionRange:r},Sh=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var T=C.memoizedProps,A=C.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?T:Jn(e.type,T),A);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(P){ct(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return C=Yw,Yw=!1,C}function gl(t,e,r){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&mg(e,r,o)}s=s.next}while(s!==i)}}function Nd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var i=r.create;r.destroy=i()}r=r.next}while(r!==e)}}function gg(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function MC(t){var e=t.alternate;e!==null&&(t.alternate=null,MC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gr],delete e[jl],delete e[ng],delete e[cP],delete e[hP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function LC(t){return t.tag===5||t.tag===3||t.tag===4}function Kw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||LC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vg(t,e,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Eh));else if(i!==4&&(t=t.child,t!==null))for(vg(t,e,r),t=t.sibling;t!==null;)vg(t,e,r),t=t.sibling}function yg(t,e,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(yg(t,e,r),t=t.sibling;t!==null;)yg(t,e,r),t=t.sibling}var Ut=null,Zn=!1;function ni(t,e,r){for(r=r.child;r!==null;)UC(t,e,r),r=r.sibling}function UC(t,e,r){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(Ed,r)}catch{}switch(r.tag){case 5:Kt||So(r,e);case 6:var i=Ut,s=Zn;Ut=null,ni(t,e,r),Ut=i,Zn=s,Ut!==null&&(Zn?(t=Ut,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ut.removeChild(r.stateNode));break;case 18:Ut!==null&&(Zn?(t=Ut,r=r.stateNode,t.nodeType===8?Np(t.parentNode,r):t.nodeType===1&&Np(t,r),Ml(t)):Np(Ut,r.stateNode));break;case 4:i=Ut,s=Zn,Ut=r.stateNode.containerInfo,Zn=!0,ni(t,e,r),Ut=i,Zn=s;break;case 0:case 11:case 14:case 15:if(!Kt&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&mg(r,e,a),s=s.next}while(s!==i)}ni(t,e,r);break;case 1:if(!Kt&&(So(r,e),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(u){ct(r,e,u)}ni(t,e,r);break;case 21:ni(t,e,r);break;case 22:r.mode&1?(Kt=(i=Kt)||r.memoizedState!==null,ni(t,e,r),Kt=i):ni(t,e,r);break;default:ni(t,e,r)}}function Qw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new TP),e.forEach(function(i){var s=UP.bind(null,t,i);r.has(i)||(r.add(i),i.then(s,s))})}}function Xn(t,e){var r=e.deletions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];try{var o=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:Ut=u.stateNode,Zn=!1;break e;case 3:Ut=u.stateNode.containerInfo,Zn=!0;break e;case 4:Ut=u.stateNode.containerInfo,Zn=!0;break e}u=u.return}if(Ut===null)throw Error(re(160));UC(o,a,s),Ut=null,Zn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(h){ct(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$C(e,t),e=e.sibling}function $C(t,e){var r=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xn(e,t),dr(t),i&4){try{gl(3,t,t.return),Nd(3,t)}catch(T){ct(t,t.return,T)}try{gl(5,t,t.return)}catch(T){ct(t,t.return,T)}}break;case 1:Xn(e,t),dr(t),i&512&&r!==null&&So(r,r.return);break;case 5:if(Xn(e,t),dr(t),i&512&&r!==null&&So(r,r.return),t.flags&32){var s=t.stateNode;try{Ol(s,"")}catch(T){ct(t,t.return,T)}}if(i&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,a=r!==null?r.memoizedProps:o,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&sS(s,o),zm(u,a);var h=zm(u,o);for(a=0;a<c.length;a+=2){var f=c[a],m=c[a+1];f==="style"?cS(s,m):f==="dangerouslySetInnerHTML"?lS(s,m):f==="children"?Ol(s,m):Vv(s,f,m,h)}switch(u){case"input":Um(s,o);break;case"textarea":oS(s,o);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var S=o.value;S!=null?Po(s,!!o.multiple,S,!1):y!==!!o.multiple&&(o.defaultValue!=null?Po(s,!!o.multiple,o.defaultValue,!0):Po(s,!!o.multiple,o.multiple?[]:"",!1))}s[jl]=o}catch(T){ct(t,t.return,T)}}break;case 6:if(Xn(e,t),dr(t),i&4){if(t.stateNode===null)throw Error(re(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(T){ct(t,t.return,T)}}break;case 3:if(Xn(e,t),dr(t),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Ml(e.containerInfo)}catch(T){ct(t,t.return,T)}break;case 4:Xn(e,t),dr(t);break;case 13:Xn(e,t),dr(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Sy=vt())),i&4&&Qw(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(Kt=(h=Kt)||f,Xn(e,t),Kt=h):Xn(e,t),dr(t),i&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(he=t,f=t.child;f!==null;){for(m=he=f;he!==null;){switch(y=he,S=y.child,y.tag){case 0:case 11:case 14:case 15:gl(4,y,y.return);break;case 1:So(y,y.return);var C=y.stateNode;if(typeof C.componentWillUnmount=="function"){i=y,r=y.return;try{e=i,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(T){ct(i,r,T)}}break;case 5:So(y,y.return);break;case 22:if(y.memoizedState!==null){Jw(m);continue}}S!==null?(S.return=y,he=S):Jw(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{s=m.stateNode,h?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=uS("display",a))}catch(T){ct(t,t.return,T)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(T){ct(t,t.return,T)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Xn(e,t),dr(t),i&4&&Qw(t);break;case 21:break;default:Xn(e,t),dr(t)}}function dr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(LC(r)){var i=r;break e}r=r.return}throw Error(re(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Ol(s,""),i.flags&=-33);var o=Kw(t);yg(t,o,s);break;case 3:case 4:var a=i.stateNode.containerInfo,u=Kw(t);vg(t,u,a);break;default:throw Error(re(161))}}catch(c){ct(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PP(t,e,r){he=t,FC(t)}function FC(t,e,r){for(var i=(t.mode&1)!==0;he!==null;){var s=he,o=s.child;if(s.tag===22&&i){var a=s.memoizedState!==null||bc;if(!a){var u=s.alternate,c=u!==null&&u.memoizedState!==null||Kt;u=bc;var h=Kt;if(bc=a,(Kt=c)&&!h)for(he=s;he!==null;)a=he,c=a.child,a.tag===22&&a.memoizedState!==null?Zw(s):c!==null?(c.return=a,he=c):Zw(s);for(;o!==null;)he=o,FC(o),o=o.sibling;he=s,bc=u,Kt=h}Xw(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,he=o):Xw(t)}}function Xw(t){for(;he!==null;){var e=he;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kt||Nd(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Kt)if(r===null)i.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Jn(e.type,r.memoizedProps);i.componentDidUpdate(s,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Dw(e,o,i);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Dw(e,a,r)}break;case 5:var u=e.stateNode;if(r===null&&e.flags&4){r=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Ml(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Kt||e.flags&512&&gg(e)}catch(y){ct(e,e.return,y)}}if(e===t){he=null;break}if(r=e.sibling,r!==null){r.return=e.return,he=r;break}he=e.return}}function Jw(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var r=e.sibling;if(r!==null){r.return=e.return,he=r;break}he=e.return}}function Zw(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Nd(4,e)}catch(c){ct(e,r,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(c){ct(e,s,c)}}var o=e.return;try{gg(e)}catch(c){ct(e,o,c)}break;case 5:var a=e.return;try{gg(e)}catch(c){ct(e,a,c)}}}catch(c){ct(e,e.return,c)}if(e===t){he=null;break}var u=e.sibling;if(u!==null){u.return=e.return,he=u;break}he=e.return}}var AP=Math.ceil,Lh=Zr.ReactCurrentDispatcher,_y=Zr.ReactCurrentOwner,zn=Zr.ReactCurrentBatchConfig,De=0,Dt=null,St=null,jt=0,En=0,Co=Zi(0),xt=0,Wl=null,Ms=0,Dd=0,by=0,vl=null,vn=null,Sy=0,Ko=1/0,Or=null,Uh=!1,wg=null,Pi=null,Sc=!1,_i=null,$h=0,yl=0,_g=null,Zc=-1,eh=0;function fn(){return De&6?vt():Zc!==-1?Zc:Zc=vt()}function Ai(t){return t.mode&1?De&2&&jt!==0?jt&-jt:fP.transition!==null?(eh===0&&(eh=SS()),eh):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:PS(t.type)),t):1}function sr(t,e,r,i){if(50<yl)throw yl=0,_g=null,Error(re(185));vu(t,r,i),(!(De&2)||t!==Dt)&&(t===Dt&&(!(De&2)&&(Dd|=r),xt===4&&di(t,jt)),Cn(t,i),r===1&&De===0&&!(e.mode&1)&&(Ko=vt()+500,Ad&&es()))}function Cn(t,e){var r=t.callbackNode;f4(t,e);var i=bh(t,t===Dt?jt:0);if(i===0)r!==null&&lw(r),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(r!=null&&lw(r),e===1)t.tag===0?dP(e_.bind(null,t)):YS(e_.bind(null,t)),lP(function(){!(De&6)&&es()}),r=null;else{switch(CS(i)){case 1:r=Yv;break;case 4:r=_S;break;case 16:r=_h;break;case 536870912:r=bS;break;default:r=_h}r=qC(r,jC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function jC(t,e){if(Zc=-1,eh=0,De&6)throw Error(re(327));var r=t.callbackNode;if(Do()&&t.callbackNode!==r)return null;var i=bh(t,t===Dt?jt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Fh(t,i);else{e=i;var s=De;De|=2;var o=zC();(Dt!==t||jt!==e)&&(Or=null,Ko=vt()+500,xs(t,e));do try{NP();break}catch(u){BC(t,u)}while(1);ay(),Lh.current=o,De=s,St!==null?e=0:(Dt=null,jt=0,e=xt)}if(e!==0){if(e===2&&(s=qm(t),s!==0&&(i=s,e=bg(t,s))),e===1)throw r=Wl,xs(t,0),di(t,i),Cn(t,vt()),r;if(e===6)di(t,i);else{if(s=t.current.alternate,!(i&30)&&!OP(s)&&(e=Fh(t,i),e===2&&(o=qm(t),o!==0&&(i=o,e=bg(t,o))),e===1))throw r=Wl,xs(t,0),di(t,i),Cn(t,vt()),r;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(re(345));case 2:fs(t,vn,Or);break;case 3:if(di(t,i),(i&130023424)===i&&(e=Sy+500-vt(),10<e)){if(bh(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){fn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=tg(fs.bind(null,t,vn,Or),e);break}fs(t,vn,Or);break;case 4:if(di(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var a=31-ir(i);o=1<<a,a=e[a],a>s&&(s=a),i&=~o}if(i=s,i=vt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*AP(i/1960))-i,10<i){t.timeoutHandle=tg(fs.bind(null,t,vn,Or),i);break}fs(t,vn,Or);break;case 5:fs(t,vn,Or);break;default:throw Error(re(329))}}}return Cn(t,vt()),t.callbackNode===r?jC.bind(null,t):null}function bg(t,e){var r=vl;return t.current.memoizedState.isDehydrated&&(xs(t,e).flags|=256),t=Fh(t,e),t!==2&&(e=vn,vn=r,e!==null&&Sg(e)),t}function Sg(t){vn===null?vn=t:vn.push.apply(vn,t)}function OP(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var s=r[i],o=s.getSnapshot;s=s.value;try{if(!or(o(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function di(t,e){for(e&=~by,e&=~Dd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ir(e),i=1<<r;t[r]=-1,e&=~i}}function e_(t){if(De&6)throw Error(re(327));Do();var e=bh(t,0);if(!(e&1))return Cn(t,vt()),null;var r=Fh(t,e);if(t.tag!==0&&r===2){var i=qm(t);i!==0&&(e=i,r=bg(t,i))}if(r===1)throw r=Wl,xs(t,0),di(t,e),Cn(t,vt()),r;if(r===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fs(t,vn,Or),Cn(t,vt()),null}function Cy(t,e){var r=De;De|=1;try{return t(e)}finally{De=r,De===0&&(Ko=vt()+500,Ad&&es())}}function Ls(t){_i!==null&&_i.tag===0&&!(De&6)&&Do();var e=De;De|=1;var r=zn.transition,i=Fe;try{if(zn.transition=null,Fe=1,t)return t()}finally{Fe=i,zn.transition=r,De=e,!(De&6)&&es()}}function ky(){En=Co.current,Ze(Co)}function xs(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,aP(r)),St!==null)for(r=St.return;r!==null;){var i=r;switch(iy(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&xh();break;case 3:qo(),Ze(bn),Ze(nn),fy();break;case 5:dy(i);break;case 4:qo();break;case 13:Ze(at);break;case 19:Ze(at);break;case 10:ly(i.type._context);break;case 22:case 23:ky()}r=r.return}if(Dt=t,St=t=Oi(t.current,null),jt=En=e,xt=0,Wl=null,by=Dd=Ms=0,vn=vl=null,ws!==null){for(e=0;e<ws.length;e++)if(r=ws[e],i=r.interleaved,i!==null){r.interleaved=null;var s=i.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,i.next=a}r.pending=i}ws=null}return t}function BC(t,e){do{var r=St;try{if(ay(),Qc.current=Mh,Dh){for(var i=lt.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Dh=!1}if(Ds=0,Nt=Et=lt=null,ml=!1,Vl=0,_y.current=null,r===null||r.return===null){xt=1,Wl=e,St=null;break}e:{var o=t,a=r.return,u=r,c=e;if(e=jt,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,f=u,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var S=Bw(a);if(S!==null){S.flags&=-257,zw(S,a,u,o,e),S.mode&1&&jw(o,h,e),e=S,c=h;var C=e.updateQueue;if(C===null){var T=new Set;T.add(c),e.updateQueue=T}else C.add(c);break e}else{if(!(e&1)){jw(o,h,e),Ey();break e}c=Error(re(426))}}else if(rt&&u.mode&1){var A=Bw(a);if(A!==null){!(A.flags&65536)&&(A.flags|=256),zw(A,a,u,o,e),sy(Yo(c,u));break e}}o=c=Yo(c,u),xt!==4&&(xt=2),vl===null?vl=[o]:vl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=kC(o,c,e);Nw(o,g);break e;case 1:u=c;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Pi===null||!Pi.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=EC(o,u,e);Nw(o,P);break e}}o=o.return}while(o!==null)}GC(r)}catch(k){e=k,St===r&&r!==null&&(St=r=r.return);continue}break}while(1)}function zC(){var t=Lh.current;return Lh.current=Mh,t===null?Mh:t}function Ey(){(xt===0||xt===3||xt===2)&&(xt=4),Dt===null||!(Ms&268435455)&&!(Dd&268435455)||di(Dt,jt)}function Fh(t,e){var r=De;De|=2;var i=zC();(Dt!==t||jt!==e)&&(Or=null,xs(t,e));do try{RP();break}catch(s){BC(t,s)}while(1);if(ay(),De=r,Lh.current=i,St!==null)throw Error(re(261));return Dt=null,jt=0,xt}function RP(){for(;St!==null;)VC(St)}function NP(){for(;St!==null&&!i4();)VC(St)}function VC(t){var e=WC(t.alternate,t,En);t.memoizedProps=t.pendingProps,e===null?GC(t):St=e,_y.current=null}function GC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=xP(r,e),r!==null){r.flags&=32767,St=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,St=null;return}}else if(r=EP(r,e,En),r!==null){St=r;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);xt===0&&(xt=5)}function fs(t,e,r){var i=Fe,s=zn.transition;try{zn.transition=null,Fe=1,DP(t,e,r,i)}finally{zn.transition=s,Fe=i}return null}function DP(t,e,r,i){do Do();while(_i!==null);if(De&6)throw Error(re(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(p4(t,o),t===Dt&&(St=Dt=null,jt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Sc||(Sc=!0,qC(_h,function(){return Do(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=zn.transition,zn.transition=null;var a=Fe;Fe=1;var u=De;De|=4,_y.current=null,IP(t,r),$C(r,t),eP(Zm),Sh=!!Jm,Zm=Jm=null,t.current=r,PP(r),s4(),De=u,Fe=a,zn.transition=o}else t.current=r;if(Sc&&(Sc=!1,_i=t,$h=s),o=t.pendingLanes,o===0&&(Pi=null),l4(r.stateNode),Cn(t,vt()),e!==null)for(i=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],i(s.value,{componentStack:s.stack,digest:s.digest});if(Uh)throw Uh=!1,t=wg,wg=null,t;return $h&1&&t.tag!==0&&Do(),o=t.pendingLanes,o&1?t===_g?yl++:(yl=0,_g=t):yl=0,es(),null}function Do(){if(_i!==null){var t=CS($h),e=zn.transition,r=Fe;try{if(zn.transition=null,Fe=16>t?16:t,_i===null)var i=!1;else{if(t=_i,_i=null,$h=0,De&6)throw Error(re(331));var s=De;for(De|=4,he=t.current;he!==null;){var o=he,a=o.child;if(he.flags&16){var u=o.deletions;if(u!==null){for(var c=0;c<u.length;c++){var h=u[c];for(he=h;he!==null;){var f=he;switch(f.tag){case 0:case 11:case 15:gl(8,f,o)}var m=f.child;if(m!==null)m.return=f,he=m;else for(;he!==null;){f=he;var y=f.sibling,S=f.return;if(MC(f),f===h){he=null;break}if(y!==null){y.return=S,he=y;break}he=S}}}var C=o.alternate;if(C!==null){var T=C.child;if(T!==null){C.child=null;do{var A=T.sibling;T.sibling=null,T=A}while(T!==null)}}he=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,he=a;else e:for(;he!==null;){if(o=he,o.flags&2048)switch(o.tag){case 0:case 11:case 15:gl(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,he=g;break e}he=o.return}}var w=t.current;for(he=w;he!==null;){a=he;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,he=_;else e:for(a=w;he!==null;){if(u=he,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Nd(9,u)}}catch(k){ct(u,u.return,k)}if(u===a){he=null;break e}var P=u.sibling;if(P!==null){P.return=u.return,he=P;break e}he=u.return}}if(De=s,es(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(Ed,t)}catch{}i=!0}return i}finally{Fe=r,zn.transition=e}}return!1}function t_(t,e,r){e=Yo(r,e),e=kC(t,e,1),t=Ii(t,e,1),e=fn(),t!==null&&(vu(t,1,e),Cn(t,e))}function ct(t,e,r){if(t.tag===3)t_(t,t,r);else for(;e!==null;){if(e.tag===3){t_(e,t,r);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Pi===null||!Pi.has(i))){t=Yo(r,t),t=EC(e,t,1),e=Ii(e,t,1),t=fn(),e!==null&&(vu(e,1,t),Cn(e,t));break}}e=e.return}}function MP(t,e,r){var i=t.pingCache;i!==null&&i.delete(e),e=fn(),t.pingedLanes|=t.suspendedLanes&r,Dt===t&&(jt&r)===r&&(xt===4||xt===3&&(jt&130023424)===jt&&500>vt()-Sy?xs(t,0):by|=r),Cn(t,e)}function HC(t,e){e===0&&(t.mode&1?(e=dc,dc<<=1,!(dc&130023424)&&(dc=4194304)):e=1);var r=fn();t=zr(t,e),t!==null&&(vu(t,e,r),Cn(t,r))}function LP(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),HC(t,r)}function UP(t,e){var r=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(re(314))}i!==null&&i.delete(e),HC(t,r)}var WC;WC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||bn.current)wn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return wn=!1,kP(t,e,r);wn=!!(t.flags&131072)}else wn=!1,rt&&e.flags&1048576&&KS(e,Ph,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Jc(t,e),t=e.pendingProps;var s=Go(e,nn.current);No(e,r),s=my(null,e,i,t,s,r);var o=gy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sn(i)?(o=!0,Th(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cy(e),s.updater=Od,e.stateNode=s,s._reactInternals=e,lg(e,i,t,r),e=hg(null,e,i,!0,o,r)):(e.tag=0,rt&&o&&ry(e),un(null,e,s,r),e=e.child),e;case 16:i=e.elementType;e:{switch(Jc(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=FP(i),t=Jn(i,t),s){case 0:e=cg(null,e,i,t,r);break e;case 1:e=Hw(null,e,i,t,r);break e;case 11:e=Vw(null,e,i,t,r);break e;case 14:e=Gw(null,e,i,Jn(i.type,t),r);break e}throw Error(re(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Jn(i,s),cg(t,e,i,s,r);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Jn(i,s),Hw(t,e,i,s,r);case 3:e:{if(PC(e),t===null)throw Error(re(387));i=e.pendingProps,o=e.memoizedState,s=o.element,ZS(t,e),Rh(e,i,null,r);var a=e.memoizedState;if(i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Yo(Error(re(423)),e),e=Ww(t,e,i,r,s);break e}else if(i!==s){s=Yo(Error(re(424)),e),e=Ww(t,e,i,r,s);break e}else for(xn=Ti(e.stateNode.containerInfo.firstChild),Pn=e,rt=!0,er=null,r=rC(e,null,i,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ho(),i===s){e=Vr(t,e,r);break e}un(t,e,i,r)}e=e.child}return e;case 5:return iC(e),t===null&&sg(e),i=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,a=s.children,eg(i,s)?a=null:o!==null&&eg(i,o)&&(e.flags|=32),IC(t,e),un(t,e,a,r),e.child;case 6:return t===null&&sg(e),null;case 13:return AC(t,e,r);case 4:return hy(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Wo(e,null,i,r):un(t,e,i,r),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Jn(i,s),Vw(t,e,i,s,r);case 7:return un(t,e,e.pendingProps,r),e.child;case 8:return un(t,e,e.pendingProps.children,r),e.child;case 12:return un(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,o=e.memoizedProps,a=s.value,We(Ah,i._currentValue),i._currentValue=a,o!==null)if(or(o.value,a)){if(o.children===s.children&&!bn.current){e=Vr(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){a=o.child;for(var c=u.firstContext;c!==null;){if(c.context===i){if(o.tag===1){c=Fr(-1,r&-r),c.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?c.next=c:(c.next=f.next,f.next=c),h.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),og(o.return,r,e),u.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(re(341));a.lanes|=r,u=a.alternate,u!==null&&(u.lanes|=r),og(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}un(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,No(e,r),s=Hn(s),i=i(s),e.flags|=1,un(t,e,i,r),e.child;case 14:return i=e.type,s=Jn(i,e.pendingProps),s=Jn(i.type,s),Gw(t,e,i,s,r);case 15:return xC(t,e,e.type,e.pendingProps,r);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Jn(i,s),Jc(t,e),e.tag=1,Sn(i)?(t=!0,Th(e)):t=!1,No(e,r),tC(e,i,s),lg(e,i,s,r),hg(null,e,i,!0,t,r);case 19:return OC(t,e,r);case 22:return TC(t,e,r)}throw Error(re(156,e.tag))};function qC(t,e){return wS(t,e)}function $P(t,e,r,i){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,e,r,i){return new $P(t,e,r,i)}function xy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FP(t){if(typeof t=="function")return xy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hv)return 11;if(t===Wv)return 14}return 2}function Oi(t,e){var r=t.alternate;return r===null?(r=Bn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function th(t,e,r,i,s,o){var a=2;if(i=t,typeof t=="function")xy(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case fo:return Ts(r.children,s,o,e);case Gv:a=8,s|=8;break;case Rm:return t=Bn(12,r,e,s|2),t.elementType=Rm,t.lanes=o,t;case Nm:return t=Bn(13,r,e,s),t.elementType=Nm,t.lanes=o,t;case Dm:return t=Bn(19,r,e,s),t.elementType=Dm,t.lanes=o,t;case nS:return Md(r,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eS:a=10;break e;case tS:a=9;break e;case Hv:a=11;break e;case Wv:a=14;break e;case ui:a=16,i=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=Bn(a,r,e,s),e.elementType=t,e.type=i,e.lanes=o,e}function Ts(t,e,r,i){return t=Bn(7,t,i,e),t.lanes=r,t}function Md(t,e,r,i){return t=Bn(22,t,i,e),t.elementType=nS,t.lanes=r,t.stateNode={isHidden:!1},t}function Bp(t,e,r){return t=Bn(6,t,null,e),t.lanes=r,t}function zp(t,e,r){return e=Bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jP(t,e,r,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sp(0),this.expirationTimes=Sp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sp(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ty(t,e,r,i,s,o,a,u,c){return t=new jP(t,e,r,u,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Bn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},cy(o),t}function BP(t,e,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ho,key:i==null?null:""+i,children:t,containerInfo:e,implementation:r}}function YC(t){if(!t)return Bi;t=t._reactInternals;e:{if(Qs(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var r=t.type;if(Sn(r))return qS(t,r,e)}return e}function KC(t,e,r,i,s,o,a,u,c){return t=Ty(r,i,!0,t,s,o,a,u,c),t.context=YC(null),r=t.current,i=fn(),s=Ai(r),o=Fr(i,s),o.callback=e??null,Ii(r,o,s),t.current.lanes=s,vu(t,s,i),Cn(t,i),t}function Ld(t,e,r,i){var s=e.current,o=fn(),a=Ai(s);return r=YC(r),e.context===null?e.context=r:e.pendingContext=r,e=Fr(o,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Ii(s,e,a),t!==null&&(sr(t,s,a,o),Kc(t,s,a)),a}function jh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function n_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Iy(t,e){n_(t,e),(t=t.alternate)&&n_(t,e)}function zP(){return null}var QC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Py(t){this._internalRoot=t}Ud.prototype.render=Py.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));Ld(t,e,null,null)};Ud.prototype.unmount=Py.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ls(function(){Ld(null,t,null,null)}),e[Br]=null}};function Ud(t){this._internalRoot=t}Ud.prototype.unstable_scheduleHydration=function(t){if(t){var e=xS();t={blockedOn:null,target:t,priority:e};for(var r=0;r<hi.length&&e!==0&&e<hi[r].priority;r++);hi.splice(r,0,t),r===0&&IS(t)}};function Ay(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function r_(){}function VP(t,e,r,i,s){if(s){if(typeof i=="function"){var o=i;i=function(){var h=jh(a);o.call(h)}}var a=KC(e,i,t,0,null,!1,!1,"",r_);return t._reactRootContainer=a,t[Br]=a.current,$l(t.nodeType===8?t.parentNode:t),Ls(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var u=i;i=function(){var h=jh(c);u.call(h)}}var c=Ty(t,0,!1,null,null,!1,!1,"",r_);return t._reactRootContainer=c,t[Br]=c.current,$l(t.nodeType===8?t.parentNode:t),Ls(function(){Ld(e,c,r,i)}),c}function Fd(t,e,r,i,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var u=s;s=function(){var c=jh(a);u.call(c)}}Ld(e,a,t,s)}else a=VP(r,e,t,s,i);return jh(a)}kS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=el(e.pendingLanes);r!==0&&(Kv(e,r|1),Cn(e,vt()),!(De&6)&&(Ko=vt()+500,es()))}break;case 13:Ls(function(){var i=zr(t,1);if(i!==null){var s=fn();sr(i,t,1,s)}}),Iy(t,1)}};Qv=function(t){if(t.tag===13){var e=zr(t,134217728);if(e!==null){var r=fn();sr(e,t,134217728,r)}Iy(t,134217728)}};ES=function(t){if(t.tag===13){var e=Ai(t),r=zr(t,e);if(r!==null){var i=fn();sr(r,t,e,i)}Iy(t,e)}};xS=function(){return Fe};TS=function(t,e){var r=Fe;try{return Fe=t,e()}finally{Fe=r}};Gm=function(t,e,r){switch(e){case"input":if(Um(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var i=r[e];if(i!==t&&i.form===t.form){var s=Pd(i);if(!s)throw Error(re(90));iS(i),Um(i,s)}}}break;case"textarea":oS(t,r);break;case"select":e=r.value,e!=null&&Po(t,!!r.multiple,e,!1)}};fS=Cy;pS=Ls;var GP={usingClientEntryPoint:!1,Events:[wu,vo,Pd,hS,dS,Cy]},Ha={findFiberByHostInstance:ys,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},HP={bundleType:Ha.bundleType,version:Ha.version,rendererPackageName:Ha.rendererPackageName,rendererConfig:Ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vS(t),t===null?null:t.stateNode},findFiberByHostInstance:Ha.findFiberByHostInstance||zP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Ed=Cc.inject(HP),wr=Cc}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GP;Nn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ay(e))throw Error(re(200));return BP(t,e,null,r)};Nn.createRoot=function(t,e){if(!Ay(t))throw Error(re(299));var r=!1,i="",s=QC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ty(t,1,!1,null,null,r,!1,i,s),t[Br]=e.current,$l(t.nodeType===8?t.parentNode:t),new Py(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=vS(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return Ls(t)};Nn.hydrate=function(t,e,r){if(!$d(e))throw Error(re(200));return Fd(null,t,e,!0,r)};Nn.hydrateRoot=function(t,e,r){if(!Ay(t))throw Error(re(405));var i=r!=null&&r.hydratedSources||null,s=!1,o="",a=QC;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=KC(e,null,t,1,r??null,s,!1,o,a),t[Br]=e.current,$l(t),i)for(t=0;t<i.length;t++)r=i[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Ud(e)};Nn.render=function(t,e,r){if(!$d(e))throw Error(re(200));return Fd(null,t,e,!1,r)};Nn.unmountComponentAtNode=function(t){if(!$d(t))throw Error(re(40));return t._reactRootContainer?(Ls(function(){Fd(null,null,t,!1,function(){t._reactRootContainer=null,t[Br]=null})}),!0):!1};Nn.unstable_batchedUpdates=Cy;Nn.unstable_renderSubtreeIntoContainer=function(t,e,r,i){if(!$d(r))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return Fd(t,e,r,!1,i)};Nn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}e(),t.exports=Nn})(z3);var i_=gh;Pm.createRoot=i_.createRoot,Pm.hydrateRoot=i_.hydrateRoot;/**
 * @remix-run/router v1.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ql.apply(this,arguments)}var bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bi||(bi={}));const s_="popstate";function WP(t){t===void 0&&(t={});function e(s,o){let{pathname:a="/",search:u="",hash:c=""}=Xs(s.location.hash.substr(1));return Cg("",{pathname:a,search:u,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){let a=s.document.querySelector("base"),u="";if(a&&a.getAttribute("href")){let c=s.location.href,h=c.indexOf("#");u=h===-1?c:c.slice(0,h)}return u+"#"+(typeof o=="string"?o:Bh(o))}function i(s,o){XC(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return YP(e,r,i,t)}function kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qP(){return Math.random().toString(36).substr(2,8)}function o_(t,e){return{usr:t.state,key:t.key,idx:e}}function Cg(t,e,r,i){return r===void 0&&(r=null),ql({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xs(e):e,{state:r,key:e&&e.key||i||qP()})}function Bh(t){let{pathname:e="/",search:r="",hash:i=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Xs(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function YP(t,e,r,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,u=bi.Pop,c=null,h=f();h==null&&(h=0,a.replaceState(ql({},a.state,{idx:h}),""));function f(){return(a.state||{idx:null}).idx}function m(){let A=bi.Pop,g=f();if(g!=null){let w=g-h;u=A,h=g,c&&c({action:u,location:T.location,delta:w})}else XC(!1,"You are trying to block a POP navigation to a location that was not created by @remix-run/router. The block will fail silently in production, but in general you should do all navigation with the router (instead of using window.history.pushState directly) to avoid this situation.")}function y(A,g){u=bi.Push;let w=Cg(T.location,A,g);r&&r(w,A),h=f()+1;let _=o_(w,h),P=T.createHref(w);try{a.pushState(_,"",P)}catch{s.location.assign(P)}o&&c&&c({action:u,location:T.location,delta:1})}function S(A,g){u=bi.Replace;let w=Cg(T.location,A,g);r&&r(w,A),h=f();let _=o_(w,h),P=T.createHref(w);a.replaceState(_,"",P),o&&c&&c({action:u,location:T.location,delta:0})}function C(A){let g=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof A=="string"?A:Bh(A);return kt(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let T={get action(){return u},get location(){return t(s,a)},listen(A){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(s_,m),c=A,()=>{s.removeEventListener(s_,m),c=null}},createHref(A){return e(s,A)},createURL:C,encodeLocation(A){let g=C(A);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:y,replace:S,go(A){return a.go(A)}};return T}var a_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(a_||(a_={}));function KP(t,e,r){r===void 0&&(r="/");let i=typeof e=="string"?Xs(e):e,s=ek(i.pathname||"/",r);if(s==null)return null;let o=JC(t);QP(o);let a=null;for(let u=0;a==null&&u<o.length;++u)a=sA(o[u],lA(s));return a}function JC(t,e,r,i){e===void 0&&(e=[]),r===void 0&&(r=[]),i===void 0&&(i="");let s=(o,a,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(kt(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(i.length));let h=Ri([i,c.relativePath]),f=r.concat(c);o.children&&o.children.length>0&&(kt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),JC(o.children,e,f,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:rA(h,o.index),routesMeta:f})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,a);else for(let c of ZC(o.path))s(o,a,c)}),e}function ZC(t){let e=t.split("/");if(e.length===0)return[];let[r,...i]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let a=ZC(i.join("/")),u=[];return u.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function QP(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:iA(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const XP=/^:\w+$/,JP=3,ZP=2,eA=1,tA=10,nA=-2,l_=t=>t==="*";function rA(t,e){let r=t.split("/"),i=r.length;return r.some(l_)&&(i+=nA),e&&(i+=ZP),r.filter(s=>!l_(s)).reduce((s,o)=>s+(XP.test(o)?JP:o===""?eA:tA),i)}function iA(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function sA(t,e){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=oA({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h);if(!f)return null;Object.assign(i,f.params);let m=u.route;o.push({params:i,pathname:Ri([s,f.pathname]),pathnameBase:dA(Ri([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=Ri([s,f.pathnameBase]))}return o}function oA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=aA(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((h,f,m)=>{if(f==="*"){let y=u[m]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}return h[f]=uA(u[m]||"",f),h},{}),pathname:o,pathnameBase:a,pattern:t}}function aA(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Oy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,u)=>(i.push(u),"/([^\\/]+)"));return t.endsWith("*")?(i.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function lA(t){try{return decodeURI(t)}catch(e){return Oy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uA(t,e){try{return decodeURIComponent(t)}catch(r){return Oy(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function ek(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}function Oy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cA(t,e){e===void 0&&(e="/");let{pathname:r,search:i="",hash:s=""}=typeof t=="string"?Xs(t):t;return{pathname:r?r.startsWith("/")?r:hA(r,e):e,search:fA(i),hash:pA(s)}}function hA(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Vp(t,e,r,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tk(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function nk(t,e,r,i){i===void 0&&(i=!1);let s;typeof t=="string"?s=Xs(t):(s=ql({},t),kt(!s.pathname||!s.pathname.includes("?"),Vp("?","pathname","search",s)),kt(!s.pathname||!s.pathname.includes("#"),Vp("#","pathname","hash",s)),kt(!s.search||!s.search.includes("#"),Vp("#","search","hash",s)));let o=t===""||s.pathname==="",a=o?"/":s.pathname,u;if(i||a==null)u=r;else{let m=e.length-1;if(a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),m-=1;s.pathname=y.join("/")}u=m>=0?e[m]:"/"}let c=cA(s,u),h=a&&a!=="/"&&a.endsWith("/"),f=(o||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}const Ri=t=>t.join("/").replace(/\/\/+/g,"/"),dA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class mA{constructor(e,r,i,s){s===void 0&&(s=!1),this.status=e,this.statusText=r||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function gA(t){return t instanceof mA}const vA=["post","put","patch","delete"];[...vA];/**
 * React Router v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kg(){return kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},kg.apply(this,arguments)}function yA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const wA=typeof Object.is=="function"?Object.is:yA,{useState:_A,useEffect:bA,useLayoutEffect:SA,useDebugValue:CA}=Im;function kA(t,e,r){const i=e(),[{inst:s},o]=_A({inst:{value:i,getSnapshot:e}});return SA(()=>{s.value=i,s.getSnapshot=e,Gp(s)&&o({inst:s})},[t,i,e]),bA(()=>(Gp(s)&&o({inst:s}),t(()=>{Gp(s)&&o({inst:s})})),[t]),CA(i),i}function Gp(t){const e=t.getSnapshot,r=t.value;try{const i=e();return!wA(r,i)}catch{return!0}}function EA(t,e,r){return e()}const xA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TA=!xA,IA=TA?EA:kA;"useSyncExternalStore"in Im&&(t=>t.useSyncExternalStore)(Im);const rk=ee.createContext(null),Ry=ee.createContext(null),jd=ee.createContext(null),Bd=ee.createContext(null),ts=ee.createContext({outlet:null,matches:[]}),ik=ee.createContext(null);function PA(t,e){let{relative:r}=e===void 0?{}:e;pa()||kt(!1);let{basename:i,navigator:s}=ee.useContext(jd),{hash:o,pathname:a,search:u}=ok(t,{relative:r}),c=a;return i!=="/"&&(c=a==="/"?i:Ri([i,a])),s.createHref({pathname:c,search:u,hash:o})}function pa(){return ee.useContext(Bd)!=null}function ns(){return pa()||kt(!1),ee.useContext(Bd).location}function Js(){pa()||kt(!1);let{basename:t,navigator:e}=ee.useContext(jd),{matches:r}=ee.useContext(ts),{pathname:i}=ns(),s=JSON.stringify(tk(r).map(u=>u.pathnameBase)),o=ee.useRef(!1);return ee.useEffect(()=>{o.current=!0}),ee.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){e.go(u);return}let h=nk(u,JSON.parse(s),i,c.relative==="path");t!=="/"&&(h.pathname=h.pathname==="/"?t:Ri([t,h.pathname])),(c.replace?e.replace:e.push)(h,c.state,c)},[t,e,s,i])}const AA=ee.createContext(null);function OA(t){let e=ee.useContext(ts).outlet;return e&&ee.createElement(AA.Provider,{value:t},e)}function sk(){let{matches:t}=ee.useContext(ts),e=t[t.length-1];return e?e.params:{}}function ok(t,e){let{relative:r}=e===void 0?{}:e,{matches:i}=ee.useContext(ts),{pathname:s}=ns(),o=JSON.stringify(tk(i).map(a=>a.pathnameBase));return ee.useMemo(()=>nk(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function RA(t,e){pa()||kt(!1);let{navigator:r}=ee.useContext(jd),i=ee.useContext(Ry),{matches:s}=ee.useContext(ts),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=ns(),h;if(e){var f;let T=typeof e=="string"?Xs(e):e;u==="/"||(f=T.pathname)!=null&&f.startsWith(u)||kt(!1),h=T}else h=c;let m=h.pathname||"/",y=u==="/"?m:m.slice(u.length)||"/",S=KP(t,{pathname:y}),C=LA(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:Ri([u,r.encodeLocation?r.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?u:Ri([u,r.encodeLocation?r.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,i||void 0);return e&&C?ee.createElement(Bd.Provider,{value:{location:kg({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:bi.Pop}},C):C}function NA(){let t=jA(),e=gA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unhandled Thrown Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),r?ee.createElement("pre",{style:s},r):null,ee.createElement("p",null," Hey developer "),ee.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own",ee.createElement("code",{style:o},"errorElement")," props on",ee.createElement("code",{style:o},"<Route>")))}class DA extends ee.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location?{error:e.error,location:e.location}:{error:e.error||r.error,location:r.location}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?ee.createElement(ts.Provider,{value:this.props.routeContext},ee.createElement(ik.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MA(t){let{routeContext:e,match:r,children:i}=t,s=ee.useContext(rk);return s&&s.static&&s.staticContext&&r.route.errorElement&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),ee.createElement(ts.Provider,{value:e},i)}function LA(t,e,r){if(e===void 0&&(e=[]),t==null)if(r!=null&&r.errors)t=r.matches;else return null;let i=t,s=r==null?void 0:r.errors;if(s!=null){let o=i.findIndex(a=>a.route.id&&(s==null?void 0:s[a.route.id]));o>=0||kt(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((o,a,u)=>{let c=a.route.id?s==null?void 0:s[a.route.id]:null,h=r?a.route.errorElement||ee.createElement(NA,null):null,f=e.concat(i.slice(0,u+1)),m=()=>ee.createElement(MA,{match:a,routeContext:{outlet:o,matches:f}},c?h:a.route.element!==void 0?a.route.element:o);return r&&(a.route.errorElement||u===0)?ee.createElement(DA,{location:r.location,component:h,error:c,children:m(),routeContext:{outlet:null,matches:f}}):m()},null)}var u_;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(u_||(u_={}));var zh;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(zh||(zh={}));function UA(t){let e=ee.useContext(Ry);return e||kt(!1),e}function $A(t){let e=ee.useContext(ts);return e||kt(!1),e}function FA(t){let e=$A(),r=e.matches[e.matches.length-1];return r.route.id||kt(!1),r.route.id}function jA(){var t;let e=ee.useContext(ik),r=UA(zh.UseRouteError),i=FA(zh.UseRouteError);return e||((t=r.errors)==null?void 0:t[i])}function BA(t){let{to:e,replace:r,state:i,relative:s}=t;pa()||kt(!1);let o=ee.useContext(Ry),a=Js();return ee.useEffect(()=>{o&&o.navigation.state!=="idle"||a(e,{replace:r,state:i,relative:s})}),null}function Eg(t){return OA(t.context)}function li(t){kt(!1)}function zA(t){let{basename:e="/",children:r=null,location:i,navigationType:s=bi.Pop,navigator:o,static:a=!1}=t;pa()&&kt(!1);let u=e.replace(/^\/*/,"/"),c=ee.useMemo(()=>({basename:u,navigator:o,static:a}),[u,o,a]);typeof i=="string"&&(i=Xs(i));let{pathname:h="/",search:f="",hash:m="",state:y=null,key:S="default"}=i,C=ee.useMemo(()=>{let T=ek(h,u);return T==null?null:{pathname:T,search:f,hash:m,state:y,key:S}},[u,h,f,m,y,S]);return C==null?null:ee.createElement(jd.Provider,{value:c},ee.createElement(Bd.Provider,{children:r,value:{location:C,navigationType:s}}))}function VA(t){let{children:e,location:r}=t,i=ee.useContext(rk),s=i&&!e?i.router.routes:xg(e);return RA(s,r)}var c_;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(c_||(c_={}));new Promise(()=>{});function xg(t,e){e===void 0&&(e=[]);let r=[];return ee.Children.forEach(t,(i,s)=>{if(!ee.isValidElement(i))return;if(i.type===ee.Fragment){r.push.apply(r,xg(i.props.children,e));return}i.type!==li&&kt(!1),!i.props.index||!i.props.children||kt(!1);let o=[...e,s],a={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,hasErrorBoundary:i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle};i.props.children&&(a.children=xg(i.props.children,o)),r.push(a)}),r}/**
 * React Router DOM v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Tg.apply(this,arguments)}function GA(t,e){if(t==null)return{};var r={},i=Object.keys(t),s,o;for(o=0;o<i.length;o++)s=i[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function HA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WA(t,e){return t.button===0&&(!e||e==="_self")&&!HA(t)}const qA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function YA(t){let{basename:e,children:r,window:i}=t,s=ee.useRef();s.current==null&&(s.current=WP({window:i,v5Compat:!0}));let o=s.current,[a,u]=ee.useState({action:o.action,location:o.location});return ee.useLayoutEffect(()=>o.listen(u),[o]),ee.createElement(zA,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o})}const _n=ee.forwardRef(function(e,r){let{onClick:i,relative:s,reloadDocument:o,replace:a,state:u,target:c,to:h,preventScrollReset:f}=e,m=GA(e,qA),y=PA(h,{relative:s}),S=KA(h,{replace:a,state:u,target:c,preventScrollReset:f,relative:s});function C(T){i&&i(T),T.defaultPrevented||S(T)}return ee.createElement("a",Tg({},m,{href:y,onClick:o?i:C,ref:r,target:c}))});var h_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(h_||(h_={}));var d_;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(d_||(d_={}));function KA(t,e){let{target:r,replace:i,state:s,preventScrollReset:o,relative:a}=e===void 0?{}:e,u=Js(),c=ns(),h=ok(t,{relative:a});return ee.useCallback(f=>{if(WA(f,r)){f.preventDefault();let m=i!==void 0?i:Bh(c)===Bh(h);u(t,{replace:m,state:s,preventScrollReset:o,relative:a})}},[c,u,h,i,s,r,t,o,a])}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ni=function(){return Ni=Object.assign||function(e){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ni.apply(this,arguments)};function QA(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(r[i[s]]=t[i[s]]);return r}var XA=function(){return Math.random().toString(36).substring(6)},ak=function(t){var e=t.animate,r=t.animateBegin,i=t.backgroundColor,s=t.backgroundOpacity,o=t.baseUrl,a=t.children,u=t.foregroundColor,c=t.foregroundOpacity,h=t.gradientRatio,f=t.gradientDirection,m=t.uniqueKey,y=t.interval,S=t.rtl,C=t.speed,T=t.style,A=t.title,g=t.beforeMask,w=QA(t,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),_=m||XA(),P=_+"-diff",k=_+"-animated-diff",j=_+"-aria",O=S?{transform:"scaleX(-1)"}:null,N="0; "+y+"; 1",F=C+"s",$=f==="top-bottom"?"rotate(90)":void 0;return ee.createElement("svg",Ni({"aria-labelledby":j,role:"img",style:Ni(Ni({},T),O)},w),A?ee.createElement("title",{id:j},A):null,g&&ee.isValidElement(g)?g:null,ee.createElement("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+o+"#"+P+")",style:{fill:"url("+o+"#"+k+")"}}),ee.createElement("defs",null,ee.createElement("clipPath",{id:P},a),ee.createElement("linearGradient",{id:k,gradientTransform:$},ee.createElement("stop",{offset:"0%",stopColor:i,stopOpacity:s},e&&ee.createElement("animate",{attributeName:"offset",values:-h+"; "+-h+"; 1",keyTimes:N,dur:F,repeatCount:"indefinite",begin:r})),ee.createElement("stop",{offset:"50%",stopColor:u,stopOpacity:c},e&&ee.createElement("animate",{attributeName:"offset",values:-h/2+"; "+-h/2+"; "+(1+h/2),keyTimes:N,dur:F,repeatCount:"indefinite",begin:r})),ee.createElement("stop",{offset:"100%",stopColor:i,stopOpacity:s},e&&ee.createElement("animate",{attributeName:"offset",values:"0; 0; "+(1+h),keyTimes:N,dur:F,repeatCount:"indefinite",begin:r})))))};ak.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,gradientDirection:"left-right",id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading...",beforeMask:null};var lk=function(t){return t.children?ee.createElement(ak,Ni({},t)):ee.createElement(JA,Ni({},t))},JA=function(t){return ee.createElement(lk,Ni({viewBox:"0 0 476 124"},t),ee.createElement("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),ee.createElement("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),ee.createElement("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),ee.createElement("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),ee.createElement("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),ee.createElement("circle",{cx:"20",cy:"20",r:"20"}))};const zd=lk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=function(t){const e=[];let r=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},ZA=function(t){const e=[];let r=0,i=0;for(;r<t.length;){const s=t[r++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[r++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[r++],a=t[r++],u=t[r++],c=((s&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const o=t[r++],a=t[r++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|a&63)}}return e.join("")},ck={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],a=s+1<t.length,u=a?t[s+1]:0,c=s+2<t.length,h=c?t[s+2]:0,f=o>>2,m=(o&3)<<4|u>>4;let y=(u&15)<<2|h>>6,S=h&63;c||(S=64,a||(y=64)),i.push(r[f],r[m],r[y],r[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=r[t.charAt(s++)],u=s<t.length?r[t.charAt(s)]:0;++s;const h=s<t.length?r[t.charAt(s)]:64;++s;const m=s<t.length?r[t.charAt(s)]:64;if(++s,o==null||u==null||h==null||m==null)throw Error();const y=o<<2|u>>4;if(i.push(y),h!==64){const S=u<<4&240|h>>2;if(i.push(S),m!==64){const C=h<<6&192|m;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},eO=function(t){const e=uk(t);return ck.encodeByteArray(e,!0)},Vh=function(t){return eO(t).replace(/\./g,"")},hk=function(t){try{return ck.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=()=>tO().__FIREBASE_DEFAULTS__,rO=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hk(t[1]);return e&&JSON.parse(e)},Vd=()=>{try{return nO()||rO()||iO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dk=t=>{var e,r;return(r=(e=Vd())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},fk=t=>{const e=dk(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),i]:[e.substring(0,r),i]},sO=()=>{var t;return(t=Vd())===null||t===void 0?void 0:t.config},pk=t=>{var e;return(e=Vd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,i)=>{r?this.reject(r):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[Vh(JSON.stringify(r)),Vh(JSON.stringify(a)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function lO(){var t;const e=(t=Vd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hO(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dO(){try{return typeof indexedDB=="object"}catch{return!1}}function fO(){return new Promise((t,e)=>{try{let r=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="FirebaseError";class Tr extends Error{constructor(e,r,i){super(r),this.code=e,this.customData=i,this.name=pO,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,r,i){this.service=e,this.serviceName=r,this.errors=i}create(e,...r){const i=r[0]||{},s=`${this.service}/${e}`,o=this.errors[e],a=o?mO(o,i):"Error",u=`${this.serviceName}: ${a} (${s}).`;return new Tr(s,u,i)}}function mO(t,e){return t.replace(gO,(r,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const gO=/\{\$([^}]+)}/g;function vO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gh(t,e){if(t===e)return!0;const r=Object.keys(t),i=Object.keys(e);for(const s of r){if(!i.includes(s))return!1;const o=t[s],a=e[s];if(f_(o)&&f_(a)){if(!Gh(o,a))return!1}else if(o!==a)return!1}for(const s of i)if(!r.includes(s))return!1;return!0}function f_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){const e=[];for(const[r,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function nl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function rl(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function yO(t,e){const r=new wO(t,e);return r.subscribe.bind(r)}class wO{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,i){let s;if(e===void 0&&r===void 0&&i===void 0)throw new Error("Missing Observer.");_O(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:i},s.next===void 0&&(s.next=Hp),s.error===void 0&&(s.error=Hp),s.complete===void 0&&(s.complete=Hp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _O(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Hp(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t){return t&&t._delegate?t._delegate:t}class zi{constructor(e,r,i){this.name=e,this.instanceFactory=r,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bO=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const i=new oO;if(this.instancesDeferred.set(r,i),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CO(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[r,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:r});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&a.resolve(s)}return s}onInit(e,r){var i;const s=this.normalizeInstanceIdentifier(r),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const a=this.instances.get(s);return a&&e(a,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const i=this.onInitCallbacks.get(r);if(i)for(const s of i)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:SO(e),options:r}),this.instances.set(e,i),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function SO(t){return t===ps?void 0:t}function CO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new bO(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const EO={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},xO=Le.INFO,TO={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},IO=(t,e,...r)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=TO[e];if(s)console[s](`[${i}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ny{constructor(e){this.name=e,this._logLevel=xO,this._logHandler=IO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const PO=(t,e)=>e.some(r=>t instanceof r);let p_,m_;function AO(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OO(){return m_||(m_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gk=new WeakMap,Ig=new WeakMap,vk=new WeakMap,Wp=new WeakMap,Dy=new WeakMap;function RO(t){const e=new Promise((r,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{r(Di(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&gk.set(r,t)}).catch(()=>{}),Dy.set(e,t),e}function NO(t){if(Ig.has(t))return;const e=new Promise((r,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{r(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Ig.set(t,e)}let Pg={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Ig.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vk.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Di(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DO(t){Pg=t(Pg)}function MO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const i=t.call(qp(this),e,...r);return vk.set(i,e.sort?e.sort():[e]),Di(i)}:OO().includes(t)?function(...e){return t.apply(qp(this),e),Di(gk.get(this))}:function(...e){return Di(t.apply(qp(this),e))}}function LO(t){return typeof t=="function"?MO(t):(t instanceof IDBTransaction&&NO(t),PO(t,AO())?new Proxy(t,Pg):t)}function Di(t){if(t instanceof IDBRequest)return RO(t);if(Wp.has(t))return Wp.get(t);const e=LO(t);return e!==t&&(Wp.set(t,e),Dy.set(e,t)),e}const qp=t=>Dy.get(t);function UO(t,e,{blocked:r,upgrade:i,blocking:s,terminated:o}={}){const a=indexedDB.open(t,e),u=Di(a);return i&&a.addEventListener("upgradeneeded",c=>{i(Di(a.result),c.oldVersion,c.newVersion,Di(a.transaction))}),r&&a.addEventListener("blocked",()=>r()),u.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",()=>s())}).catch(()=>{}),u}const $O=["get","getKey","getAll","getAllKeys","count"],FO=["put","add","delete","clear"],Yp=new Map;function g_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yp.get(e))return Yp.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,s=FO.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(s||$O.includes(r)))return;const o=async function(a,...u){const c=this.transaction(a,s?"readwrite":"readonly");let h=c.store;return i&&(h=h.index(u.shift())),(await Promise.all([h[r](...u),s&&c.done]))[0]};return Yp.set(e,o),o}DO(t=>({...t,get:(e,r,i)=>g_(e,r)||t.get(e,r,i),has:(e,r)=>!!g_(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(BO(r)){const i=r.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(r=>r).join(" ")}}function BO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ag="@firebase/app",v_="0.9.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Ny("@firebase/app"),zO="@firebase/app-compat",VO="@firebase/analytics-compat",GO="@firebase/analytics",HO="@firebase/app-check-compat",WO="@firebase/app-check",qO="@firebase/auth",YO="@firebase/auth-compat",KO="@firebase/database",QO="@firebase/database-compat",XO="@firebase/functions",JO="@firebase/functions-compat",ZO="@firebase/installations",e5="@firebase/installations-compat",t5="@firebase/messaging",n5="@firebase/messaging-compat",r5="@firebase/performance",i5="@firebase/performance-compat",s5="@firebase/remote-config",o5="@firebase/remote-config-compat",a5="@firebase/storage",l5="@firebase/storage-compat",u5="@firebase/firestore",c5="@firebase/firestore-compat",h5="firebase",d5="9.16.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="[DEFAULT]",f5={[Ag]:"fire-core",[zO]:"fire-core-compat",[GO]:"fire-analytics",[VO]:"fire-analytics-compat",[WO]:"fire-app-check",[HO]:"fire-app-check-compat",[qO]:"fire-auth",[YO]:"fire-auth-compat",[KO]:"fire-rtdb",[QO]:"fire-rtdb-compat",[XO]:"fire-fn",[JO]:"fire-fn-compat",[ZO]:"fire-iid",[e5]:"fire-iid-compat",[t5]:"fire-fcm",[n5]:"fire-fcm-compat",[r5]:"fire-perf",[i5]:"fire-perf-compat",[s5]:"fire-rc",[o5]:"fire-rc-compat",[a5]:"fire-gcs",[l5]:"fire-gcs-compat",[u5]:"fire-fst",[c5]:"fire-fst-compat","fire-js":"fire-js",[h5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Map,Rg=new Map;function p5(t,e){try{t.container.addComponent(e)}catch(r){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function $s(t){const e=t.name;if(Rg.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;Rg.set(e,t);for(const r of Hh.values())p5(r,t);return!0}function Gd(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Mi=new bu("app","Firebase",m5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,r,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=d5;function yk(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Og,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Mi.create("bad-app-name",{appName:String(s)});if(r||(r=sO()),!r)throw Mi.create("no-options");const o=Hh.get(s);if(o){if(Gh(r,o.options)&&Gh(i,o.config))return o;throw Mi.create("duplicate-app",{appName:s})}const a=new kO(s);for(const c of Rg.values())a.addComponent(c);const u=new g5(r,i,a);return Hh.set(s,u),u}function My(t=Og){const e=Hh.get(t);if(!e&&t===Og)return yk();if(!e)throw Mi.create("no-app",{appName:t});return e}function br(t,e,r){var i;let s=(i=f5[t])!==null&&i!==void 0?i:t;r&&(s+=`-${r}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(u.join(" "));return}$s(new zi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="firebase-heartbeat-database",y5=1,Yl="firebase-heartbeat-store";let Kp=null;function wk(){return Kp||(Kp=UO(v5,y5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Yl)}}}).catch(t=>{throw Mi.create("idb-open",{originalErrorMessage:t.message})})),Kp}async function w5(t){try{return(await wk()).transaction(Yl).objectStore(Yl).get(_k(t))}catch(e){if(e instanceof Tr)Us.warn(e.message);else{const r=Mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(r.message)}}}async function y_(t,e){try{const i=(await wk()).transaction(Yl,"readwrite");return await i.objectStore(Yl).put(e,_k(t)),i.done}catch(r){if(r instanceof Tr)Us.warn(r.message);else{const i=Mi.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Us.warn(i.message)}}}function _k(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=1024,b5=30*24*60*60*1e3;class S5{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new k5(r),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=w_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=b5}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=w_(),{heartbeatsToSend:r,unsentEntries:i}=C5(this._heartbeatsCache.heartbeats),s=Vh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function w_(){return new Date().toISOString().substring(0,10)}function C5(t,e=_5){const r=[];let i=t.slice();for(const s of t){const o=r.find(a=>a.agent===s.agent);if(o){if(o.dates.push(s.date),__(r)>e){o.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),__(r)>e){r.pop();break}i=i.slice(1)}return{heartbeatsToSend:r,unsentEntries:i}}class k5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dO()?fO().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await w5(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return y_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return y_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function __(t){return Vh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t){$s(new zi("platform-logger",e=>new jO(e),"PRIVATE")),$s(new zi("heartbeat",e=>new S5(e),"PRIVATE")),br(Ag,v_,t),br(Ag,v_,"esm2017"),br("fire-js","")}E5("");function Ly(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(r[i[s]]=t[i[s]]);return r}function bk(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x5=bk,Sk=new bu("auth","Firebase",bk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Ny("@firebase/auth");function nh(t,...e){b_.logLevel<=Le.ERROR&&b_.error(`Auth (${ma}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t,...e){throw Uy(t,...e)}function Sr(t,...e){return Uy(t,...e)}function T5(t,e,r){const i=Object.assign(Object.assign({},x5()),{[e]:r});return new bu("auth","Firebase",i).create(e,{appName:t.name})}function Uy(t,...e){if(typeof t!="string"){const r=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(r,...i)}return Sk.create(t,...e)}function _e(t,e,...r){if(!t)throw Uy(e,...r)}function Lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nh(e),new Error(e)}function Gr(t,e){t||Lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=new Map;function Ur(t){Gr(t instanceof Function,"Expected a class definition");let e=S_.get(t);return e?(Gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,S_.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t,e){const r=Gd(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),o=r.getOptions();if(Gh(o,e??{}))return s;ar(s,"already-initialized")}return r.initialize({options:e})}function P5(t,e){const r=(e==null?void 0:e.persistence)||[],i=(Array.isArray(r)?r:[r]).map(Ur);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function A5(){return C_()==="http:"||C_()==="https:"}function C_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A5()||uO()||"connection"in navigator)?navigator.onLine:!0}function R5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,r){this.shortDelay=e,this.longDelay=r,Gr(r>e,"Short delay should be less than long delay!"),this.isMobile=aO()||cO()}get(){return O5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t,e){Gr(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{static initialize(e,r,i){this.fetchImpl=e,r&&(this.headersImpl=r),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=new Cu(3e4,6e4);function ku(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ga(t,e,r,i,s={}){return kk(t,s,async()=>{let o={},a={};i&&(e==="GET"?a=i:o={body:JSON.stringify(i)});const u=Su(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),Ck.fetch()(Ek(t,t.config.apiHost,r,u),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))})}async function kk(t,e,r){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},N5),e);try{const s=new M5(t),o=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw kc(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw kc(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw kc(t,"user-disabled",a);const f=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw T5(t,f,h);ar(t,f)}}catch(s){if(s instanceof Tr)throw s;ar(t,"network-request-failed")}}async function Eu(t,e,r,i,s={}){const o=await ga(t,e,r,i,s);return"mfaPendingCredential"in o&&ar(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Ek(t,e,r,i){const s=`${e}${r}?${i}`;return t.config.emulator?$y(t.config,s):`${t.config.apiScheme}://${s}`}class M5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,i)=>{this.timer=setTimeout(()=>i(Sr(this.auth,"network-request-failed")),D5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kc(t,e,r){const i={appName:t.name};r.email&&(i.email=r.email),r.phoneNumber&&(i.phoneNumber=r.phoneNumber);const s=Sr(t,e,i);return s.customData._tokenResponse=r,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L5(t,e){return ga(t,"POST","/v1/accounts:delete",e)}async function U5(t,e){return ga(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $5(t,e=!1){const r=ot(t),i=await r.getIdToken(e),s=Fy(i);_e(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:wl(Qp(s.auth_time)),issuedAtTime:wl(Qp(s.iat)),expirationTime:wl(Qp(s.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Qp(t){return Number(t)*1e3}function Fy(t){const[e,r,i]=t.split(".");if(e===void 0||r===void 0||i===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const s=hk(r);return s?JSON.parse(s):(nh("Failed to decode base64 JWT payload"),null)}catch(s){return nh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function F5(t){const e=Fy(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t,e,r=!1){if(r)return e;try{return await e}catch(i){throw i instanceof Tr&&j5(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function j5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(t){var e;const r=t.auth,i=await t.getIdToken(),s=await Qo(t,U5(r,{idToken:i}));_e(s==null?void 0:s.users.length,r,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?G5(o.providerUserInfo):[],u=V5(t.providerData,a),c=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),f=c?h:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new xk(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function z5(t){const e=ot(t);await Wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function V5(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function G5(t){return t.map(e=>{var{providerId:r}=e,i=Ly(e,["providerId"]);return{providerId:r,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(t,e){const r=await kk(t,{},async()=>{const i=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,a=Ek(t,s,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Ck.fetch()(a,{method:"POST",headers:u,body:i})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}async getToken(e,r=!1){return _e(!this.accessToken||this.refreshToken,e,"user-token-expired"),!r&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:i,refreshToken:s,expiresIn:o}=await H5(e,r);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,r,i){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,r){const{refreshToken:i,accessToken:s,expirationTime:o}=r,a=new Kl;return i&&(_e(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(_e(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),o&&(_e(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kl,this.toJSON())}_performRefresh(){return Lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Is{constructor(e){var{uid:r,auth:i,stsTokenManager:s}=e,o=Ly(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xk(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const r=await Qo(this,this.stsTokenManager.getToken(this.auth,e));return _e(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return $5(this,e)}reload(){return z5(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Is(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),r&&await Wh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Qo(this,L5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var i,s,o,a,u,c,h,f;const m=(i=r.displayName)!==null&&i!==void 0?i:void 0,y=(s=r.email)!==null&&s!==void 0?s:void 0,S=(o=r.phoneNumber)!==null&&o!==void 0?o:void 0,C=(a=r.photoURL)!==null&&a!==void 0?a:void 0,T=(u=r.tenantId)!==null&&u!==void 0?u:void 0,A=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,g=(h=r.createdAt)!==null&&h!==void 0?h:void 0,w=(f=r.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:_,emailVerified:P,isAnonymous:k,providerData:j,stsTokenManager:O}=r;_e(_&&O,e,"internal-error");const N=Kl.fromJSON(this.name,O);_e(typeof _=="string",e,"internal-error"),ri(m,e.name),ri(y,e.name),_e(typeof P=="boolean",e,"internal-error"),_e(typeof k=="boolean",e,"internal-error"),ri(S,e.name),ri(C,e.name),ri(T,e.name),ri(A,e.name),ri(g,e.name),ri(w,e.name);const F=new Is({uid:_,auth:e,email:y,emailVerified:P,displayName:m,isAnonymous:k,photoURL:C,phoneNumber:S,tenantId:T,stsTokenManager:N,createdAt:g,lastLoginAt:w});return j&&Array.isArray(j)&&(F.providerData=j.map($=>Object.assign({},$))),A&&(F._redirectEventId=A),F}static async _fromIdTokenResponse(e,r,i=!1){const s=new Kl;s.updateFromServerResponse(r);const o=new Is({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Wh(o),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Tk.type="NONE";const k_=Tk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t,e,r){return`firebase:${t}:${e}:${r}`}class Mo{constructor(e,r,i){this.persistence=e,this.auth=r,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=rh(this.userKey,s.apiKey,o),this.fullPersistenceKey=rh("persistence",s.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Is._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,i="authUser"){if(!r.length)return new Mo(Ur(k_),e,i);const s=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=s[0]||Ur(k_);const a=rh(i,e.config.apiKey,e.name);let u=null;for(const h of r)try{const f=await h._get(a);if(f){const m=Is._fromJSON(e,f);h!==o&&(u=m),o=h;break}}catch{}const c=s.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Mo(o,e,i):(o=c[0],u&&await o._set(a,u.toJSON()),await Promise.all(r.map(async h=>{if(h!==o)try{await h._remove(a)}catch{}})),new Mo(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ak(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ik(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rk(e))return"Blackberry";if(Nk(e))return"Webos";if(jy(e))return"Safari";if((e.includes("chrome/")||Pk(e))&&!e.includes("edge/"))return"Chrome";if(Ok(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(r);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Ik(t=rn()){return/firefox\//i.test(t)}function jy(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pk(t=rn()){return/crios\//i.test(t)}function Ak(t=rn()){return/iemobile/i.test(t)}function Ok(t=rn()){return/android/i.test(t)}function Rk(t=rn()){return/blackberry/i.test(t)}function Nk(t=rn()){return/webos/i.test(t)}function Hd(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function W5(t=rn()){var e;return Hd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function q5(){return hO()&&document.documentMode===10}function Dk(t=rn()){return Hd(t)||Ok(t)||Nk(t)||Rk(t)||/windows phone/i.test(t)||Ak(t)}function Y5(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t,e=[]){let r;switch(t){case"Browser":r=E_(rn());break;case"Worker":r=`${E_(rn())}-${t}`;break;default:r=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${ma}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const i=o=>new Promise((a,u)=>{try{const c=e(o);a(c)}catch(c){u(c)}});i.onAbort=r,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,r,i){this.app=e,this.heartbeatServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x_(this),this.idTokenSubscription=new x_(this),this.beforeStateQueue=new K5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sk,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ur(r)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var r;const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(s=c.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Wh(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const r=e?ot(e):null;return r&&_e(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,r,i){return this.registerStateListener(this.authStateSubscription,e,r,i)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,i){return this.registerStateListener(this.idTokenSubscription,e,r,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const i=await this.getOrInitRedirectPersistenceManager(r);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ur(e)||this._popupRedirectResolver;_e(r,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[Ur(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,i;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,i,s){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r),a=this._isInitialized?Promise.resolve():this._initializationPromise;return _e(a,this,"internal-error"),a.then(()=>o(this.currentUser)),typeof r=="function"?e.addObserver(r,i,s):e.addObserver(r)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return i&&(r["X-Firebase-Client"]=i),r}}function xu(t){return ot(t)}class x_{constructor(e){this.auth=e,this.observer=null,this.addObserver=yO(r=>this.observer=r)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function X5(t,e,r){const i=xu(t);_e(i._canInitEmulator,i,"emulator-config-failed"),_e(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!(r!=null&&r.disableWarnings),o=Lk(e),{host:a,port:u}=J5(e),c=u===null?"":`:${u}`;i.config.emulator={url:`${o}//${a}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||Z5()}function Lk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function J5(t){const e=Lk(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const i=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:T_(i.substr(o.length+1))}}else{const[o,a]=i.split(":");return{host:o,port:T_(a)}}}function T_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Z5(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,r){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}}async function eR(t,e){return ga(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(t,e){return Eu(t,"POST","/v1/accounts:signInWithPassword",ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(t,e){return Eu(t,"POST","/v1/accounts:signInWithEmailLink",ku(t,e))}async function rR(t,e){return Eu(t,"POST","/v1/accounts:signInWithEmailLink",ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends By{constructor(e,r,i,s=null){super("password",i),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new Ql(e,r,"password")}static _fromEmailAndCode(e,r,i=null){return new Ql(e,r,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return tR(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return nR(e,{email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":return eR(e,{idToken:r,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return rR(e,{idToken:r,email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(t,e){return Eu(t,"POST","/v1/accounts:signInWithIdp",ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="http://localhost";class Fs extends By{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ar("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=r,o=Ly(r,["providerId","signInMethod"]);if(!i||!s)return null;const a=new Fs(i,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return Lo(e,r)}_linkToIdToken(e,r){const i=this.buildRequest();return i.idToken=r,Lo(e,i)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Lo(e,r)}buildRequest(){const e={requestUri:iR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Su(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oR(t){const e=nl(rl(t)).link,r=e?nl(rl(e)).deep_link_id:null,i=nl(rl(t)).deep_link_id;return(i?nl(rl(i)).link:null)||i||r||e||t}class zy{constructor(e){var r,i,s,o,a,u;const c=nl(rl(e)),h=(r=c.apiKey)!==null&&r!==void 0?r:null,f=(i=c.oobCode)!==null&&i!==void 0?i:null,m=sR((s=c.mode)!==null&&s!==void 0?s:null);_e(h&&f&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=f,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=oR(e);try{return new zy(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.providerId=va.PROVIDER_ID}static credential(e,r){return Ql._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const i=zy.parseLink(r);return _e(i,"argument-error"),Ql._fromEmailAndCode(e,i.code,i.tenantId)}}va.PROVIDER_ID="password";va.EMAIL_PASSWORD_SIGN_IN_METHOD="password";va.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends Uk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Tu{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Fs._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:i}=e;if(!r&&!i)return null;try{return pi.credential(r,i)}catch{return null}}}pi.GOOGLE_SIGN_IN_METHOD="google.com";pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Tu{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.GITHUB_SIGN_IN_METHOD="github.com";mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Tu{constructor(){super("twitter.com")}static credential(e,r){return Fs._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:i}=e;if(!r||!i)return null;try{return gi.credential(r,i)}catch{return null}}}gi.TWITTER_SIGN_IN_METHOD="twitter.com";gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(t,e){return Eu(t,"POST","/v1/accounts:signUp",ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,i,s=!1){const o=await Is._fromIdTokenResponse(e,i,s),a=I_(i);return new js({user:o,providerId:a,_tokenResponse:i,operationType:r})}static async _forOperation(e,r,i){await e._updateTokensIfNecessary(i,!0);const s=I_(i);return new js({user:e,providerId:s,_tokenResponse:i,operationType:r})}}function I_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends Tr{constructor(e,r,i,s){var o;super(r.code,r.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:r.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,r,i,s){return new qh(e,r,i,s)}}function $k(t,e,r,i){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(t,o,e,i):o})}async function lR(t,e,r=!1){const i=await Qo(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return js._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(t,e,r=!1){const{auth:i}=t,s="reauthenticate";try{const o=await Qo(t,$k(i,s,e,t),r);_e(o.idToken,i,"internal-error");const a=Fy(o.idToken);_e(a,i,"internal-error");const{sub:u}=a;return _e(t.uid===u,i,"user-mismatch"),js._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ar(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fk(t,e,r=!1){const i="signIn",s=await $k(t,i,e),o=await js._fromIdTokenResponse(t,i,s);return r||await t._updateCurrentUser(o.user),o}async function cR(t,e){return Fk(xu(t),e)}async function hR(t,e,r){const i=xu(t),s=await aR(i,{returnSecureToken:!0,email:e,password:r}),o=await js._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(o.user),o}function dR(t,e,r){return cR(ot(t),va.credential(e,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(t,e){return ga(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const i=ot(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},a=await Qo(i,fR(i.auth,o));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const u=i.providerData.find(({providerId:c})=>c==="password");u&&(u.displayName=i.displayName,u.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function mR(t,e,r,i){return ot(t).onIdTokenChanged(e,r,i)}function gR(t,e,r){return ot(t).beforeAuthStateChanged(e,r)}function vR(t,e,r,i){return ot(t).onAuthStateChanged(e,r,i)}const Yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(){const t=rn();return jy(t)||Hd(t)}const wR=1e3,_R=10;class Bk extends jk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=yR()&&Y5(),this.fallbackToPolling=Dk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&e(r,s,i)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const i=e.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);q5()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,_R):s()}notifyListeners(e,r){this.localCache[e]=r;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:i}),!0)})},wR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Bk.type="LOCAL";const bR=Bk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk extends jk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}zk.type="SESSION";const Vk=zk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const i=new Wd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(a).map(async h=>h(r.origin,o)),c=await SR(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t="",e=10){let r="";for(let i=0;i<e;i++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const h=Vy("",20);s.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(m){const y=m;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(y.data.response);break;default:clearTimeout(f),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function kR(t){Cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function ER(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TR(){return Gk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="firebaseLocalStorageDb",IR=1,Kh="firebaseLocalStorage",Wk="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function qd(t,e){return t.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function PR(){const t=indexedDB.deleteDatabase(Hk);return new Iu(t).toPromise()}function Dg(){const t=indexedDB.open(Hk,IR);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Kh,{keyPath:Wk})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Kh)?e(i):(i.close(),await PR(),e(await Dg()))})})}async function P_(t,e,r){const i=qd(t,!0).put({[Wk]:e,value:r});return new Iu(i).toPromise()}async function AR(t,e){const r=qd(t,!1).get(e),i=await new Iu(r).toPromise();return i===void 0?null:i.value}function A_(t,e){const r=qd(t,!0).delete(e);return new Iu(r).toPromise()}const OR=800,RR=3;class qk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dg(),this.db)}async _withRetries(e){let r=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(r++>RR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wd._getInstance(TR()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await ER(),!this.activeServiceWorker)return;this.sender=new CR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dg();return await P_(e,Yh,"1"),await A_(e,Yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>P_(i,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(i=>AR(i,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>A_(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=qd(s,!1).getAll();return new Iu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],i=new Set;for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qk.type="LOCAL";const NR=qk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function MR(t){return new Promise((e,r)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const o=Sr("internal-error");o.customData=s,r(o)},i.type="text/javascript",i.charset="UTF-8",DR().appendChild(i)})}function LR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(t,e){return e?Ur(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy extends By{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Lo(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function $R(t){return Fk(t.auth,new Gy(t),t.bypassAuthState)}function FR(t){const{auth:e,user:r}=t;return _e(r,e,"internal-error"),uR(r,new Gy(t),t.bypassAuthState)}async function jR(t){const{auth:e,user:r}=t;return _e(r,e,"internal-error"),lR(r,new Gy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,r,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $R;case"linkViaPopup":case"linkViaRedirect":return jR;case"reauthViaPopup":case"reauthViaRedirect":return FR;default:ar(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=new Cu(2e3,1e4);class ko extends Yk{constructor(e,r,i,s,o){super(e,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=Vy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,BR.get())};e()}}ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="pendingRedirect",ih=new Map;class VR extends Yk{constructor(e,r,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,i),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const i=await GR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(r){e=()=>Promise.reject(r)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GR(t,e){const r=qR(e),i=WR(t);if(!await i._isAvailable())return!1;const s=await i._get(r)==="true";return await i._remove(r),s}function HR(t,e){ih.set(t._key(),e)}function WR(t){return Ur(t._redirectPersistence)}function qR(t){return rh(zR,t.config.apiKey,t.name)}async function YR(t,e,r=!1){const i=xu(t),s=UR(i,e),a=await new VR(i,s,r).execute();return a&&!r&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=10*60*1e3;class QR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(r=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XR(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var i;if(e.error&&!Kk(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";r.onError(Sr(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const i=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KR&&this.cachedEventUids.clear(),this.cachedEventUids.has(O_(e))}saveEventToCache(e){this.cachedEventUids.add(O_(e)),this.lastProcessedEventTime=Date.now()}}function O_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Kk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(t,e={}){return ga(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eN=/^https?/;async function tN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JR(t);for(const r of e)try{if(nN(r))return}catch{}ar(t,"unauthorized-domain")}function nN(t){const e=Ng(),{protocol:r,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===i}if(!eN.test(r))return!1;if(ZR.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new Cu(3e4,6e4);function R_(){const t=Cr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function iN(t){return new Promise((e,r)=>{var i,s,o;function a(){R_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R_(),r(Sr(t,"network-request-failed"))},timeout:rN.get()})}if(!((s=(i=Cr().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Cr().gapi)===null||o===void 0)&&o.load)a();else{const u=LR("iframefcb");return Cr()[u]=()=>{gapi.load?a():r(Sr(t,"network-request-failed"))},MR(`https://apis.google.com/js/api.js?onload=${u}`).catch(c=>r(c))}}).catch(e=>{throw sh=null,e})}let sh=null;function sN(t){return sh=sh||iN(t),sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=new Cu(5e3,15e3),aN="__/auth/iframe",lN="emulator/auth/iframe",uN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hN(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?$y(e,lN):`https://${t.config.authDomain}/${aN}`,i={apiKey:e.apiKey,appName:t.name,v:ma},s=cN.get(t.config.apiHost);s&&(i.eid=s);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${r}?${Su(i).slice(1)}`}async function dN(t){const e=await sN(t),r=Cr().gapi;return _e(r,t,"internal-error"),e.open({where:document.body,url:hN(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uN,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const a=Sr(t,"network-request-failed"),u=Cr().setTimeout(()=>{o(a)},oN.get());function c(){Cr().clearTimeout(u),s(i)}i.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pN=500,mN=600,gN="_blank",vN="http://localhost";class N_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yN(t,e,r,i=pN,s=mN){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const c=Object.assign(Object.assign({},fN),{width:i.toString(),height:s.toString(),top:o,left:a}),h=rn().toLowerCase();r&&(u=Pk(h)?gN:r),Ik(h)&&(e=e||vN,c.scrollbars="yes");const f=Object.entries(c).reduce((y,[S,C])=>`${y}${S}=${C},`,"");if(W5(h)&&u!=="_self")return wN(e||"",u),new N_(null);const m=window.open(e||"",u,f);_e(m,t,"popup-blocked");try{m.focus()}catch{}return new N_(m)}function wN(t,e){const r=document.createElement("a");r.href=t,r.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="__/auth/handler",bN="emulator/auth/handler";function D_(t,e,r,i,s,o){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:ma,eventId:s};if(e instanceof Uk){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",vO(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(o||{}))a[c]=h}if(e instanceof Tu){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const c of Object.keys(u))u[c]===void 0&&delete u[c];return`${SN(t)}?${Su(u).slice(1)}`}function SN({config:t}){return t.emulator?$y(t,bN):`https://${t.authDomain}/${_N}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="webStorageSupport";class CN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vk,this._completeRedirectFn=YR,this._overrideRedirectResult=HR}async _openPopup(e,r,i,s){var o;Gr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=D_(e,r,i,Ng(),s);return yN(e,a,Vy())}async _openRedirect(e,r,i,s){return await this._originValidation(e),kR(D_(e,r,i,Ng(),s)),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:o}=this.eventManagers[r];return s?Promise.resolve(s):(Gr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[r]={promise:i},i.catch(()=>{delete this.eventManagers[r]}),i}async initAndGetManager(e){const r=await dN(e),i=new QR(e);return r.register("authEvent",s=>(_e(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=r,i}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Xp,{type:Xp},s=>{var o;const a=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Xp];a!==void 0&&r(!!a),ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=tN(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Dk()||jy()||Hd()}}const kN=CN;var M_="@firebase/auth",L_="0.21.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function TN(t){$s(new zi("auth",(e,{options:r})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),{apiKey:o,authDomain:a}=i.options;return((u,c)=>{_e(o&&!o.includes(":"),"invalid-api-key",{appName:u.name}),_e(!(a!=null&&a.includes(":")),"argument-error",{appName:u.name});const h={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mk(t)},f=new Q5(u,c,h);return P5(f,r),f})(i,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,i)=>{e.getProvider("auth-internal").initialize()})),$s(new zi("auth-internal",e=>{const r=xu(e.getProvider("auth").getImmediate());return(i=>new EN(i))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),br(M_,L_,xN(t)),br(M_,L_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=5*60,PN=pk("authIdTokenMaxAge")||IN;let U_=null;const AN=t=>async e=>{const r=e&&await e.getIdTokenResult(),i=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>PN)return;const s=r==null?void 0:r.token;U_!==s&&(U_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ON(t=My()){const e=Gd(t,"auth");if(e.isInitialized())return e.getImmediate();const r=I5(t,{popupRedirectResolver:kN,persistence:[NR,bR,Vk]}),i=pk("authTokenSyncURL");if(i){const o=AN(i);gR(r,o,()=>o(r.currentUser)),mR(r,a=>o(a))}const s=dk("auth");return s&&X5(r,`http://${s}`),r}TN("Browser");var RN="firebase",NN="9.16.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br(RN,NN,"app");var DN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pe,Hy=Hy||{},Se=DN||self;function Qh(){}function Yd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Pu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function MN(t){return Object.prototype.hasOwnProperty.call(t,Jp)&&t[Jp]||(t[Jp]=++LN)}var Jp="closure_uid_"+(1e9*Math.random()>>>0),LN=0;function UN(t,e,r){return t.call.apply(t.bind,arguments)}function $N(t,e,r){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Zt(t,e,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Zt=UN:Zt=$N,Zt.apply(null,arguments)}function Ec(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var i=r.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Vt(t,e){function r(){}r.prototype=e.prototype,t.X=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.Wb=function(i,s,o){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return e.prototype[s].apply(i,a)}}function rs(){this.s=this.s,this.o=this.o}var FN=0;rs.prototype.s=!1;rs.prototype.na=function(){!this.s&&(this.s=!0,this.M(),FN!=0)&&MN(this)};rs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Qk=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let r=0;r<t.length;r++)if(r in t&&t[r]===e)return r;return-1};function Wy(t){const e=t.length;if(0<e){const r=Array(e);for(let i=0;i<e;i++)r[i]=t[i];return r}return[]}function $_(t,e){for(let r=1;r<arguments.length;r++){const i=arguments[r];if(Yd(i)){const s=t.length||0,o=i.length||0;t.length=s+o;for(let a=0;a<o;a++)t[s+a]=i[a]}else t.push(i)}}function en(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}en.prototype.h=function(){this.defaultPrevented=!0};var jN=function(){if(!Se.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Se.addEventListener("test",Qh,e),Se.removeEventListener("test",Qh,e)}catch{}return t}();function Xh(t){return/^[\s\xa0]*$/.test(t)}var F_=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Zp(t,e){return t<e?-1:t>e?1:0}function Kd(){var t=Se.navigator;return t&&(t=t.userAgent)?t:""}function vr(t){return Kd().indexOf(t)!=-1}function qy(t){return qy[" "](t),t}qy[" "]=Qh;function BN(t){var e=GN;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var zN=vr("Opera"),Xo=vr("Trident")||vr("MSIE"),Xk=vr("Edge"),Mg=Xk||Xo,Jk=vr("Gecko")&&!(Kd().toLowerCase().indexOf("webkit")!=-1&&!vr("Edge"))&&!(vr("Trident")||vr("MSIE"))&&!vr("Edge"),VN=Kd().toLowerCase().indexOf("webkit")!=-1&&!vr("Edge");function Zk(){var t=Se.document;return t?t.documentMode:void 0}var Jh;e:{var em="",tm=function(){var t=Kd();if(Jk)return/rv:([^\);]+)(\)|;)/.exec(t);if(Xk)return/Edge\/([\d\.]+)/.exec(t);if(Xo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(VN)return/WebKit\/(\S+)/.exec(t);if(zN)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(tm&&(em=tm?tm[1]:""),Xo){var nm=Zk();if(nm!=null&&nm>parseFloat(em)){Jh=String(nm);break e}}Jh=em}var GN={};function HN(){return BN(function(){let t=0;const e=F_(String(Jh)).split("."),r=F_("9").split("."),i=Math.max(e.length,r.length);for(let a=0;t==0&&a<i;a++){var s=e[a]||"",o=r[a]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s[0].length==0&&o[0].length==0)break;t=Zp(s[1].length==0?0:parseInt(s[1],10),o[1].length==0?0:parseInt(o[1],10))||Zp(s[2].length==0,o[2].length==0)||Zp(s[2],o[2]),s=s[3],o=o[3]}while(t==0)}return 0<=t})}var Lg;if(Se.document&&Xo){var j_=Zk();Lg=j_||parseInt(Jh,10)||void 0}else Lg=void 0;var WN=Lg;function Xl(t,e){if(en.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var r=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Jk){e:{try{qy(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else r=="mouseover"?e=t.fromElement:r=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:qN[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Xl.X.h.call(this)}}Vt(Xl,en);var qN={2:"touch",3:"pen",4:"mouse"};Xl.prototype.h=function(){Xl.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Au="closure_listenable_"+(1e6*Math.random()|0),YN=0;function KN(t,e,r,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=r,this.capture=!!i,this.ha=s,this.key=++YN,this.ba=this.ea=!1}function Qd(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Yy(t,e,r){for(const i in t)e.call(r,t[i],i,t)}function eE(t){const e={};for(const r in t)e[r]=t[r];return e}const B_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tE(t,e){let r,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(r in i)t[r]=i[r];for(let o=0;o<B_.length;o++)r=B_[o],Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}}function Xd(t){this.src=t,this.g={},this.h=0}Xd.prototype.add=function(t,e,r,i,s){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=$g(t,e,i,s);return-1<a?(e=t[a],r||(e.ea=!1)):(e=new KN(e,this.src,o,!!i,s),e.ea=r,t.push(e)),e};function Ug(t,e){var r=e.type;if(r in t.g){var i=t.g[r],s=Qk(i,e),o;(o=0<=s)&&Array.prototype.splice.call(i,s,1),o&&(Qd(e),t.g[r].length==0&&(delete t.g[r],t.h--))}}function $g(t,e,r,i){for(var s=0;s<t.length;++s){var o=t[s];if(!o.ba&&o.listener==e&&o.capture==!!r&&o.ha==i)return s}return-1}var Ky="closure_lm_"+(1e6*Math.random()|0),rm={};function nE(t,e,r,i,s){if(i&&i.once)return iE(t,e,r,i,s);if(Array.isArray(e)){for(var o=0;o<e.length;o++)nE(t,e[o],r,i,s);return null}return r=Jy(r),t&&t[Au]?t.N(e,r,Pu(i)?!!i.capture:!!i,s):rE(t,e,r,!1,i,s)}function rE(t,e,r,i,s,o){if(!e)throw Error("Invalid event type");var a=Pu(s)?!!s.capture:!!s,u=Xy(t);if(u||(t[Ky]=u=new Xd(t)),r=u.add(e,r,i,a,o),r.proxy)return r;if(i=QN(),r.proxy=i,i.src=t,i.listener=r,t.addEventListener)jN||(s=a),s===void 0&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(oE(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return r}function QN(){function t(r){return e.call(t.src,t.listener,r)}const e=XN;return t}function iE(t,e,r,i,s){if(Array.isArray(e)){for(var o=0;o<e.length;o++)iE(t,e[o],r,i,s);return null}return r=Jy(r),t&&t[Au]?t.O(e,r,Pu(i)?!!i.capture:!!i,s):rE(t,e,r,!0,i,s)}function sE(t,e,r,i,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)sE(t,e[o],r,i,s);else i=Pu(i)?!!i.capture:!!i,r=Jy(r),t&&t[Au]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],r=$g(o,r,i,s),-1<r&&(Qd(o[r]),Array.prototype.splice.call(o,r,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Xy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=$g(e,r,i,s)),(r=-1<t?e[t]:null)&&Qy(r))}function Qy(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Au])Ug(e.i,t);else{var r=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(r,i,t.capture):e.detachEvent?e.detachEvent(oE(r),i):e.addListener&&e.removeListener&&e.removeListener(i),(r=Xy(e))?(Ug(r,t),r.h==0&&(r.src=null,e[Ky]=null)):Qd(t)}}}function oE(t){return t in rm?rm[t]:rm[t]="on"+t}function XN(t,e){if(t.ba)t=!0;else{e=new Xl(e,this);var r=t.listener,i=t.ha||t.src;t.ea&&Qy(t),t=r.call(i,e)}return t}function Xy(t){return t=t[Ky],t instanceof Xd?t:null}var im="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jy(t){return typeof t=="function"?t:(t[im]||(t[im]=function(e){return t.handleEvent(e)}),t[im])}function Mt(){rs.call(this),this.i=new Xd(this),this.P=this,this.I=null}Vt(Mt,rs);Mt.prototype[Au]=!0;Mt.prototype.removeEventListener=function(t,e,r,i){sE(this,t,e,r,i)};function Bt(t,e){var r,i=t.I;if(i)for(r=[];i;i=i.I)r.push(i);if(t=t.P,i=e.type||e,typeof e=="string")e=new en(e,t);else if(e instanceof en)e.target=e.target||t;else{var s=e;e=new en(i,t),tE(e,s)}if(s=!0,r)for(var o=r.length-1;0<=o;o--){var a=e.g=r[o];s=xc(a,i,!0,e)&&s}if(a=e.g=t,s=xc(a,i,!0,e)&&s,s=xc(a,i,!1,e)&&s,r)for(o=0;o<r.length;o++)a=e.g=r[o],s=xc(a,i,!1,e)&&s}Mt.prototype.M=function(){if(Mt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var r=t.g[e],i=0;i<r.length;i++)Qd(r[i]);delete t.g[e],t.h--}}this.I=null};Mt.prototype.N=function(t,e,r,i){return this.i.add(String(t),e,!1,r,i)};Mt.prototype.O=function(t,e,r,i){return this.i.add(String(t),e,!0,r,i)};function xc(t,e,r,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ba&&a.capture==r){var u=a.listener,c=a.ha||a.src;a.ea&&Ug(t.i,a),s=u.call(c,i)!==!1&&s}}return s&&!i.defaultPrevented}var Zy=Se.JSON.stringify;function JN(){var t=uE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class ZN{constructor(){this.h=this.g=null}add(e,r){const i=aE.get();i.set(e,r),this.h?this.h.next=i:this.g=i,this.h=i}}var aE=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new eD,t=>t.reset());class eD{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function tD(t){Se.setTimeout(()=>{throw t},0)}function lE(t,e){Fg||nD(),jg||(Fg(),jg=!0),uE.add(t,e)}var Fg;function nD(){var t=Se.Promise.resolve(void 0);Fg=function(){t.then(rD)}}var jg=!1,uE=new ZN;function rD(){for(var t;t=JN();){try{t.h.call(t.g)}catch(r){tD(r)}var e=aE;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}jg=!1}function Jd(t,e){Mt.call(this),this.h=t||1,this.g=e||Se,this.j=Zt(this.lb,this),this.l=Date.now()}Vt(Jd,Mt);pe=Jd.prototype;pe.ca=!1;pe.R=null;pe.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Bt(this,"tick"),this.ca&&(e0(this),this.start()))}};pe.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function e0(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}pe.M=function(){Jd.X.M.call(this),e0(this),delete this.g};function t0(t,e,r){if(typeof t=="function")r&&(t=Zt(t,r));else if(t&&typeof t.handleEvent=="function")t=Zt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Se.setTimeout(t,e||0)}function cE(t){t.g=t0(()=>{t.g=null,t.i&&(t.i=!1,cE(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class iD extends rs{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cE(this)}M(){super.M(),this.g&&(Se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jl(t){rs.call(this),this.h=t,this.g={}}Vt(Jl,rs);var z_=[];function hE(t,e,r,i){Array.isArray(r)||(r&&(z_[0]=r.toString()),r=z_);for(var s=0;s<r.length;s++){var o=nE(e,r[s],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function dE(t){Yy(t.g,function(e,r){this.g.hasOwnProperty(r)&&Qy(e)},t),t.g={}}Jl.prototype.M=function(){Jl.X.M.call(this),dE(this)};Jl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Zd(){this.g=!0}Zd.prototype.Aa=function(){this.g=!1};function sD(t,e,r,i,s,o){t.info(function(){if(t.g)if(o)for(var a="",u=o.split("&"),c=0;c<u.length;c++){var h=u[c].split("=");if(1<h.length){var f=h[0];h=h[1];var m=f.split("_");a=2<=m.length&&m[1]=="type"?a+(f+"="+h+"&"):a+(f+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+`
`+r+`
`+a})}function oD(t,e,r,i,s,o,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+`
`+r+`
`+o+" "+a})}function Eo(t,e,r,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+lD(t,r)+(i?" "+i:"")})}function aD(t,e){t.info(function(){return"TIMEOUT: "+e})}Zd.prototype.info=function(){};function lD(t,e){if(!t.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r){for(t=0;t<r.length;t++)if(Array.isArray(r[t])){var i=r[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<s.length;a++)s[a]=""}}}}return Zy(r)}catch{return e}}var Zs={},V_=null;function ef(){return V_=V_||new Mt}Zs.Pa="serverreachability";function fE(t){en.call(this,Zs.Pa,t)}Vt(fE,en);function Zl(t){const e=ef();Bt(e,new fE(e))}Zs.STAT_EVENT="statevent";function pE(t,e){en.call(this,Zs.STAT_EVENT,t),this.stat=e}Vt(pE,en);function dn(t){const e=ef();Bt(e,new pE(e,t))}Zs.Qa="timingevent";function mE(t,e){en.call(this,Zs.Qa,t),this.size=e}Vt(mE,en);function Ou(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Se.setTimeout(function(){t()},e)}var tf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},gE={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function n0(){}n0.prototype.h=null;function G_(t){return t.h||(t.h=t.i())}function vE(){}var Ru={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function r0(){en.call(this,"d")}Vt(r0,en);function i0(){en.call(this,"c")}Vt(i0,en);var Bg;function nf(){}Vt(nf,n0);nf.prototype.g=function(){return new XMLHttpRequest};nf.prototype.i=function(){return{}};Bg=new nf;function Nu(t,e,r,i){this.l=t,this.j=e,this.m=r,this.U=i||1,this.S=new Jl(this),this.O=uD,t=Mg?125:void 0,this.T=new Jd(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new yE}function yE(){this.i=null,this.g="",this.h=!1}var uD=45e3,zg={},Zh={};pe=Nu.prototype;pe.setTimeout=function(t){this.O=t};function Vg(t,e,r){t.K=1,t.v=sf(Hr(e)),t.s=r,t.P=!0,wE(t,null)}function wE(t,e){t.F=Date.now(),Du(t),t.A=Hr(t.v);var r=t.A,i=t.U;Array.isArray(i)||(i=[String(i)]),TE(r.i,"t",i),t.C=0,r=t.l.H,t.h=new yE,t.g=YE(t.l,r?e:null,!t.s),0<t.N&&(t.L=new iD(Zt(t.La,t,t.g),t.N)),hE(t.S,t.g,"readystatechange",t.ib),e=t.H?eE(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Zl(),sD(t.j,t.u,t.A,t.m,t.U,t.s)}pe.ib=function(t){t=t.target;const e=this.L;e&&$r(t)==3?e.l():this.La(t)};pe.La=function(t){try{if(t==this.g)e:{const f=$r(this.g);var e=this.g.Ea();const m=this.g.aa();if(!(3>f)&&(f!=3||Mg||this.g&&(this.h.h||this.g.fa()||Y_(this.g)))){this.I||f!=4||e==7||(e==8||0>=m?Zl(3):Zl(2)),rf(this);var r=this.g.aa();this.Y=r;t:if(_E(this)){var i=Y_(this.g);t="";var s=i.length,o=$r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bs(this),_l(this);var a="";break t}this.h.i=new Se.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==s-1});i.splice(0,s),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.fa();if(this.i=r==200,oD(this.j,this.u,this.A,this.m,this.U,f,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xh(u)){var h=u;break t}}h=null}if(r=h)Eo(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Gg(this,r);else{this.i=!1,this.o=3,dn(12),bs(this),_l(this);break e}}this.P?(bE(this,f,a),Mg&&this.i&&f==3&&(hE(this.S,this.T,"tick",this.hb),this.T.start())):(Eo(this.j,this.m,a,null),Gg(this,a)),f==4&&bs(this),this.i&&!this.I&&(f==4?GE(this.l,this):(this.i=!1,Du(this)))}else r==400&&0<a.indexOf("Unknown SID")?(this.o=3,dn(12)):(this.o=0,dn(13)),bs(this),_l(this)}}}catch{}finally{}};function _E(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function bE(t,e,r){let i=!0,s;for(;!t.I&&t.C<r.length;)if(s=cD(t,r),s==Zh){e==4&&(t.o=4,dn(14),i=!1),Eo(t.j,t.m,null,"[Incomplete Response]");break}else if(s==zg){t.o=4,dn(15),Eo(t.j,t.m,r,"[Invalid Chunk]"),i=!1;break}else Eo(t.j,t.m,s,null),Gg(t,s);_E(t)&&s!=Zh&&s!=zg&&(t.h.g="",t.C=0),e!=4||r.length!=0||t.h.h||(t.o=1,dn(16),i=!1),t.i=t.i&&i,i?0<r.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+r.length),h0(e),e.K=!0,dn(11))):(Eo(t.j,t.m,r,"[Invalid Chunked Response]"),bs(t),_l(t))}pe.hb=function(){if(this.g){var t=$r(this.g),e=this.g.fa();this.C<e.length&&(rf(this),bE(this,t,e),this.i&&t!=4&&Du(this))}};function cD(t,e){var r=t.C,i=e.indexOf(`
`,r);return i==-1?Zh:(r=Number(e.substring(r,i)),isNaN(r)?zg:(i+=1,i+r>e.length?Zh:(e=e.substr(i,r),t.C=i+r,e)))}pe.cancel=function(){this.I=!0,bs(this)};function Du(t){t.V=Date.now()+t.O,SE(t,t.O)}function SE(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ou(Zt(t.gb,t),e)}function rf(t){t.B&&(Se.clearTimeout(t.B),t.B=null)}pe.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(aD(this.j,this.A),this.K!=2&&(Zl(),dn(17)),bs(this),this.o=2,_l(this)):SE(this,this.V-t)};function _l(t){t.l.G==0||t.I||GE(t.l,t)}function bs(t){rf(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,e0(t.T),dE(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Gg(t,e){try{var r=t.l;if(r.G!=0&&(r.g==t||Hg(r.h,t))){if(!t.J&&Hg(r.h,t)&&r.G==3){try{var i=r.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!r.u){if(r.g)if(r.g.F+3e3<t.F)nd(r),lf(r);else break e;c0(r),dn(18)}}else r.Ba=s[1],0<r.Ba-r.T&&37500>s[2]&&r.L&&r.A==0&&!r.v&&(r.v=Ou(Zt(r.cb,r),6e3));if(1>=AE(r.h)&&r.ja){try{r.ja()}catch{}r.ja=void 0}}else Ss(r,11)}else if((t.J||r.g==t)&&nd(r),!Xh(e))for(s=r.Fa.g.parse(e),e=0;e<s.length;e++){let h=s[e];if(r.T=h[0],h=h[1],r.G==2)if(h[0]=="c"){r.I=h[1],r.ka=h[2];const f=h[3];f!=null&&(r.ma=f,r.j.info("VER="+r.ma));const m=h[4];m!=null&&(r.Ca=m,r.j.info("SVER="+r.Ca));const y=h[5];y!=null&&typeof y=="number"&&0<y&&(i=1.5*y,r.J=i,r.j.info("backChannelRequestTimeoutMs_="+i)),i=r;const S=t.g;if(S){const C=S.g?S.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var o=i.h;o.g||C.indexOf("spdy")==-1&&C.indexOf("quic")==-1&&C.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(s0(o,o.h),o.h=null))}if(i.D){const T=S.g?S.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(i.za=T,it(i.F,i.D,T))}}r.G=3,r.l&&r.l.xa(),r.$&&(r.P=Date.now()-t.F,r.j.info("Handshake RTT: "+r.P+"ms")),i=r;var a=t;if(i.sa=qE(i,i.H?i.ka:null,i.V),a.J){OE(i.h,a);var u=a,c=i.J;c&&u.setTimeout(c),u.B&&(rf(u),Du(u)),i.g=a}else zE(i);0<r.i.length&&uf(r)}else h[0]!="stop"&&h[0]!="close"||Ss(r,7);else r.G==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?Ss(r,7):u0(r):h[0]!="noop"&&r.l&&r.l.wa(h),r.A=0)}}Zl(4)}catch{}}function hD(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Yd(t)){for(var e=[],r=t.length,i=0;i<r;i++)e.push(t[i]);return e}e=[],r=0;for(i in t)e[r++]=t[i];return e}function dD(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Yd(t)||typeof t=="string"){var e=[];t=t.length;for(var r=0;r<t;r++)e.push(r);return e}e=[],r=0;for(const i in t)e[r++]=i;return e}}}function CE(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Yd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var r=dD(t),i=hD(t),s=i.length,o=0;o<s;o++)e.call(void 0,i[o],r&&r[o],t)}var kE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fD(t,e){if(t){t=t.split("&");for(var r=0;r<t.length;r++){var i=t[r].indexOf("="),s=null;if(0<=i){var o=t[r].substring(0,i);s=t[r].substring(i+1)}else o=t[r];e(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ps(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ps){this.h=e!==void 0?e:t.h,ed(this,t.j),this.s=t.s,this.g=t.g,td(this,t.m),this.l=t.l,e=t.i;var r=new eu;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),H_(this,r),this.o=t.o}else t&&(r=String(t).match(kE))?(this.h=!!e,ed(this,r[1]||"",!0),this.s=il(r[2]||""),this.g=il(r[3]||"",!0),td(this,r[4]),this.l=il(r[5]||"",!0),H_(this,r[6]||"",!0),this.o=il(r[7]||"")):(this.h=!!e,this.i=new eu(null,this.h))}Ps.prototype.toString=function(){var t=[],e=this.j;e&&t.push(sl(e,W_,!0),":");var r=this.g;return(r||e=="file")&&(t.push("//"),(e=this.s)&&t.push(sl(e,W_,!0),"@"),t.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.m,r!=null&&t.push(":",String(r))),(r=this.l)&&(this.g&&r.charAt(0)!="/"&&t.push("/"),t.push(sl(r,r.charAt(0)=="/"?gD:mD,!0))),(r=this.i.toString())&&t.push("?",r),(r=this.o)&&t.push("#",sl(r,yD)),t.join("")};function Hr(t){return new Ps(t)}function ed(t,e,r){t.j=r?il(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function td(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function H_(t,e,r){e instanceof eu?(t.i=e,wD(t.i,t.h)):(r||(e=sl(e,vD)),t.i=new eu(e,t.h))}function it(t,e,r){t.i.set(e,r)}function sf(t){return it(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function il(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sl(t,e,r){return typeof t=="string"?(t=encodeURI(t).replace(e,pD),r&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pD(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var W_=/[#\/\?@]/g,mD=/[#\?:]/g,gD=/[#\?]/g,vD=/[#\?@]/g,yD=/#/g;function eu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function is(t){t.g||(t.g=new Map,t.h=0,t.i&&fD(t.i,function(e,r){t.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}pe=eu.prototype;pe.add=function(t,e){is(this),this.i=null,t=ya(this,t);var r=this.g.get(t);return r||this.g.set(t,r=[]),r.push(e),this.h+=1,this};function EE(t,e){is(t),e=ya(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function xE(t,e){return is(t),e=ya(t,e),t.g.has(e)}pe.forEach=function(t,e){is(this),this.g.forEach(function(r,i){r.forEach(function(s){t.call(e,s,i,this)},this)},this)};pe.oa=function(){is(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let i=0;i<e.length;i++){const s=t[i];for(let o=0;o<s.length;o++)r.push(e[i])}return r};pe.W=function(t){is(this);let e=[];if(typeof t=="string")xE(this,t)&&(e=e.concat(this.g.get(ya(this,t))));else{t=Array.from(this.g.values());for(let r=0;r<t.length;r++)e=e.concat(t[r])}return e};pe.set=function(t,e){return is(this),this.i=null,t=ya(this,t),xE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};pe.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function TE(t,e,r){EE(t,e),0<r.length&&(t.i=null,t.g.set(ya(t,e),Wy(r)),t.h+=r.length)}pe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var i=e[r];const o=encodeURIComponent(String(i)),a=this.W(i);for(i=0;i<a.length;i++){var s=o;a[i]!==""&&(s+="="+encodeURIComponent(String(a[i]))),t.push(s)}}return this.i=t.join("&")};function ya(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function wD(t,e){e&&!t.j&&(is(t),t.i=null,t.g.forEach(function(r,i){var s=i.toLowerCase();i!=s&&(EE(this,i),TE(this,s,r))},t)),t.j=e}var _D=class{constructor(e,r){this.h=e,this.g=r}};function IE(t){this.l=t||bD,Se.PerformanceNavigationTiming?(t=Se.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Se.g&&Se.g.Ga&&Se.g.Ga()&&Se.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bD=10;function PE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function AE(t){return t.h?1:t.g?t.g.size:0}function Hg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function s0(t,e){t.g?t.g.add(e):t.h=e}function OE(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}IE.prototype.cancel=function(){if(this.i=RE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function RE(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const r of t.g.values())e=e.concat(r.D);return e}return Wy(t.i)}function o0(){}o0.prototype.stringify=function(t){return Se.JSON.stringify(t,void 0)};o0.prototype.parse=function(t){return Se.JSON.parse(t,void 0)};function SD(){this.g=new o0}function CD(t,e,r){const i=r||"";try{CE(t,function(s,o){let a=s;Pu(s)&&(a=Zy(s)),e.push(i+o+"="+encodeURIComponent(a))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function kD(t,e){const r=new Zd;if(Se.Image){const i=new Image;i.onload=Ec(Tc,r,i,"TestLoadImage: loaded",!0,e),i.onerror=Ec(Tc,r,i,"TestLoadImage: error",!1,e),i.onabort=Ec(Tc,r,i,"TestLoadImage: abort",!1,e),i.ontimeout=Ec(Tc,r,i,"TestLoadImage: timeout",!1,e),Se.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Tc(t,e,r,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function Mu(t){this.l=t.ac||null,this.j=t.jb||!1}Vt(Mu,n0);Mu.prototype.g=function(){return new of(this.l,this.j)};Mu.prototype.i=function(t){return function(){return t}}({});function of(t,e){Mt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=a0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vt(of,Mt);var a0=0;pe=of.prototype;pe.open=function(t,e){if(this.readyState!=a0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,tu(this)};pe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Se).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};pe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lu(this)),this.readyState=a0};pe.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,tu(this)),this.g&&(this.readyState=3,tu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Se.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;NE(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function NE(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}pe.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Lu(this):tu(this),this.readyState==3&&NE(this)}};pe.Va=function(t){this.g&&(this.response=this.responseText=t,Lu(this))};pe.Ua=function(t){this.g&&(this.response=t,Lu(this))};pe.ga=function(){this.g&&Lu(this)};function Lu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,tu(t)}pe.setRequestHeader=function(t,e){this.v.append(t,e)};pe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};pe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var r=e.next();!r.done;)r=r.value,t.push(r[0]+": "+r[1]),r=e.next();return t.join(`\r
`)};function tu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(of.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var ED=Se.JSON.parse;function dt(t){Mt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=DE,this.K=this.L=!1}Vt(dt,Mt);var DE="",xD=/^https?$/i,TD=["POST","PUT"];pe=dt.prototype;pe.Ka=function(t){this.L=t};pe.da=function(t,e,r,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Bg.g(),this.C=this.u?G_(this.u):G_(Bg),this.g.onreadystatechange=Zt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){q_(this,o);return}if(t=r||"",r=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)r.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const o of i.keys())r.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(r.keys()).find(o=>o.toLowerCase()=="content-type"),s=Se.FormData&&t instanceof Se.FormData,!(0<=Qk(TD,e))||i||s||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of r)this.g.setRequestHeader(o,a);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{UE(this),0<this.B&&((this.K=ID(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zt(this.qa,this)):this.A=t0(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){q_(this,o)}};function ID(t){return Xo&&HN()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}pe.qa=function(){typeof Hy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bt(this,"timeout"),this.abort(8))};function q_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ME(t),af(t)}function ME(t){t.D||(t.D=!0,Bt(t,"complete"),Bt(t,"error"))}pe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Bt(this,"complete"),Bt(this,"abort"),af(this))};pe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),af(this,!0)),dt.X.M.call(this)};pe.Ha=function(){this.s||(this.F||this.v||this.l?LE(this):this.fb())};pe.fb=function(){LE(this)};function LE(t){if(t.h&&typeof Hy<"u"&&(!t.C[1]||$r(t)!=4||t.aa()!=2)){if(t.v&&$r(t)==4)t0(t.Ha,0,t);else if(Bt(t,"readystatechange"),$r(t)==4){t.h=!1;try{const u=t.aa();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var i;if(i=u===0){var s=String(t.H).match(kE)[1]||null;if(!s&&Se.self&&Se.self.location){var o=Se.self.location.protocol;s=o.substr(0,o.length-1)}i=!xD.test(s?s.toLowerCase():"")}r=i}if(r)Bt(t,"complete"),Bt(t,"success");else{t.m=6;try{var a=2<$r(t)?t.g.statusText:""}catch{a=""}t.j=a+" ["+t.aa()+"]",ME(t)}}finally{af(t)}}}}function af(t,e){if(t.g){UE(t);const r=t.g,i=t.C[0]?Qh:null;t.g=null,t.C=null,e||Bt(t,"ready");try{r.onreadystatechange=i}catch{}}}function UE(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Se.clearTimeout(t.A),t.A=null)}function $r(t){return t.g?t.g.readyState:0}pe.aa=function(){try{return 2<$r(this)?this.g.status:-1}catch{return-1}};pe.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};pe.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),ED(e)}};function Y_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case DE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}pe.Ea=function(){return this.m};pe.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function $E(t){let e="";return Yy(t,function(r,i){e+=i,e+=":",e+=r,e+=`\r
`}),e}function l0(t,e,r){e:{for(i in r){var i=!1;break e}i=!0}i||(r=$E(r),typeof t=="string"?r!=null&&encodeURIComponent(String(r)):it(t,e,r))}function Wa(t,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[t]||e}function FE(t){this.Ca=0,this.i=[],this.j=new Zd,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Wa("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Wa("baseRetryDelayMs",5e3,t),this.bb=Wa("retryDelaySeedMs",1e4,t),this.$a=Wa("forwardChannelMaxRetries",2,t),this.ta=Wa("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new IE(t&&t.concurrentRequestLimit),this.Fa=new SD,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}pe=FE.prototype;pe.ma=8;pe.G=1;function u0(t){if(jE(t),t.G==3){var e=t.U++,r=Hr(t.F);it(r,"SID",t.I),it(r,"RID",e),it(r,"TYPE","terminate"),Uu(t,r),e=new Nu(t,t.j,e,void 0),e.K=2,e.v=sf(Hr(r)),r=!1,Se.navigator&&Se.navigator.sendBeacon&&(r=Se.navigator.sendBeacon(e.v.toString(),"")),!r&&Se.Image&&(new Image().src=e.v,r=!0),r||(e.g=YE(e.l,null),e.g.da(e.v)),e.F=Date.now(),Du(e)}WE(t)}function lf(t){t.g&&(h0(t),t.g.cancel(),t.g=null)}function jE(t){lf(t),t.u&&(Se.clearTimeout(t.u),t.u=null),nd(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Se.clearTimeout(t.m),t.m=null)}function uf(t){PE(t.h)||t.m||(t.m=!0,lE(t.Ja,t),t.C=0)}function PD(t,e){return AE(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Ou(Zt(t.Ja,t,e),HE(t,t.C)),t.C++,!0)}pe.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const s=new Nu(this,this.j,t,void 0);let o=this.s;if(this.S&&(o?(o=eE(o),tE(o,this.S)):o=this.S),this.o!==null||this.N||(s.H=o,o=null),this.O)e:{for(var e=0,r=0;r<this.i.length;r++){t:{var i=this.i[r];if("__data__"in i.g&&(i=i.g.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=r;break e}if(e===4096||r===this.i.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=BE(this,s,e),r=Hr(this.F),it(r,"RID",t),it(r,"CVER",22),this.D&&it(r,"X-HTTP-Session-Id",this.D),Uu(this,r),o&&(this.N?e="headers="+encodeURIComponent(String($E(o)))+"&"+e:this.o&&l0(r,this.o,o)),s0(this.h,s),this.Ya&&it(r,"TYPE","init"),this.O?(it(r,"$req",e),it(r,"SID","null"),s.Z=!0,Vg(s,r,null)):Vg(s,r,e),this.G=2}}else this.G==3&&(t?K_(this,t):this.i.length==0||PE(this.h)||K_(this))};function K_(t,e){var r;e?r=e.m:r=t.U++;const i=Hr(t.F);it(i,"SID",t.I),it(i,"RID",r),it(i,"AID",t.T),Uu(t,i),t.o&&t.s&&l0(i,t.o,t.s),r=new Nu(t,t.j,r,t.C+1),t.o===null&&(r.H=t.s),e&&(t.i=e.D.concat(t.i)),e=BE(t,r,1e3),r.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),s0(t.h,r),Vg(r,i,e)}function Uu(t,e){t.ia&&Yy(t.ia,function(r,i){it(e,i,r)}),t.l&&CE({},function(r,i){it(e,i,r)})}function BE(t,e,r){r=Math.min(t.i.length,r);var i=t.l?Zt(t.l.Ra,t.l,t):null;e:{var s=t.i;let o=-1;for(;;){const a=["count="+r];o==-1?0<r?(o=s[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);let u=!0;for(let c=0;c<r;c++){let h=s[c].h;const f=s[c].g;if(h-=o,0>h)o=Math.max(0,s[c].h-100),u=!1;else try{CD(f,a,"req"+h+"_")}catch{i&&i(f)}}if(u){i=a.join("&");break e}}}return t=t.i.splice(0,r),e.D=t,i}function zE(t){t.g||t.u||(t.Z=1,lE(t.Ia,t),t.A=0)}function c0(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Ou(Zt(t.Ia,t),HE(t,t.A)),t.A++,!0)}pe.Ia=function(){if(this.u=null,VE(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Ou(Zt(this.eb,this),t)}};pe.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,dn(10),lf(this),VE(this))};function h0(t){t.B!=null&&(Se.clearTimeout(t.B),t.B=null)}function VE(t){t.g=new Nu(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Hr(t.sa);it(e,"RID","rpc"),it(e,"SID",t.I),it(e,"CI",t.L?"0":"1"),it(e,"AID",t.T),it(e,"TYPE","xmlhttp"),Uu(t,e),t.o&&t.s&&l0(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var r=t.g;t=t.ka,r.K=1,r.v=sf(Hr(e)),r.s=null,r.P=!0,wE(r,t)}pe.cb=function(){this.v!=null&&(this.v=null,lf(this),c0(this),dn(19))};function nd(t){t.v!=null&&(Se.clearTimeout(t.v),t.v=null)}function GE(t,e){var r=null;if(t.g==e){nd(t),h0(t),t.g=null;var i=2}else if(Hg(t.h,e))r=e.D,OE(t.h,e),i=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(i==1){r=e.s?e.s.length:0,e=Date.now()-e.F;var s=t.C;i=ef(),Bt(i,new mE(i,r)),uf(t)}else zE(t);else if(s=e.o,s==3||s==0&&0<t.pa||!(i==1&&PD(t,e)||i==2&&c0(t)))switch(r&&0<r.length&&(e=t.h,e.i=e.i.concat(r)),s){case 1:Ss(t,5);break;case 4:Ss(t,10);break;case 3:Ss(t,6);break;default:Ss(t,2)}}}function HE(t,e){let r=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(r*=2),r*e}function Ss(t,e){if(t.j.info("Error code "+e),e==2){var r=null;t.l&&(r=null);var i=Zt(t.kb,t);r||(r=new Ps("//www.google.com/images/cleardot.gif"),Se.location&&Se.location.protocol=="http"||ed(r,"https"),sf(r)),kD(r.toString(),i)}else dn(2);t.G=0,t.l&&t.l.va(e),WE(t),jE(t)}pe.kb=function(t){t?(this.j.info("Successfully pinged google.com"),dn(2)):(this.j.info("Failed to ping google.com"),dn(1))};function WE(t){if(t.G=0,t.la=[],t.l){const e=RE(t.h);(e.length!=0||t.i.length!=0)&&($_(t.la,e),$_(t.la,t.i),t.h.i.length=0,Wy(t.i),t.i.length=0),t.l.ua()}}function qE(t,e,r){var i=r instanceof Ps?Hr(r):new Ps(r,void 0);if(i.g!="")e&&(i.g=e+"."+i.g),td(i,i.m);else{var s=Se.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new Ps(null,void 0);i&&ed(o,i),e&&(o.g=e),s&&td(o,s),r&&(o.l=r),i=o}return r=t.D,e=t.za,r&&e&&it(i,r,e),it(i,"VER",t.ma),Uu(t,i),i}function YE(t,e,r){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=r&&t.Da&&!t.ra?new dt(new Mu({jb:!0})):new dt(t.ra),e.Ka(t.H),e}function KE(){}pe=KE.prototype;pe.xa=function(){};pe.wa=function(){};pe.va=function(){};pe.ua=function(){};pe.Ra=function(){};function rd(){if(Xo&&!(10<=Number(WN)))throw Error("Environmental error: no available transport.")}rd.prototype.g=function(t,e){return new On(t,e)};function On(t,e){Mt.call(this),this.g=new FE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Xh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xh(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new wa(this)}Vt(On,Mt);On.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,r=this.h||void 0;dn(0),t.V=e,t.ia=r||{},t.L=t.Y,t.F=qE(t,null,t.V),uf(t)};On.prototype.close=function(){u0(this.g)};On.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var r={};r.__data__=t,t=r}else this.v&&(r={},r.__data__=Zy(t),t=r);e.i.push(new _D(e.ab++,t)),e.G==3&&uf(e)};On.prototype.M=function(){this.g.l=null,delete this.j,u0(this.g),delete this.g,On.X.M.call(this)};function QE(t){r0.call(this);var e=t.__sm__;if(e){e:{for(const r in e){t=r;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Vt(QE,r0);function XE(){i0.call(this),this.status=1}Vt(XE,i0);function wa(t){this.g=t}Vt(wa,KE);wa.prototype.xa=function(){Bt(this.g,"a")};wa.prototype.wa=function(t){Bt(this.g,new QE(t))};wa.prototype.va=function(t){Bt(this.g,new XE)};wa.prototype.ua=function(){Bt(this.g,"b")};rd.prototype.createWebChannel=rd.prototype.g;On.prototype.send=On.prototype.u;On.prototype.open=On.prototype.m;On.prototype.close=On.prototype.close;tf.NO_ERROR=0;tf.TIMEOUT=8;tf.HTTP_ERROR=6;gE.COMPLETE="complete";vE.EventType=Ru;Ru.OPEN="a";Ru.CLOSE="b";Ru.ERROR="c";Ru.MESSAGE="d";Mt.prototype.listen=Mt.prototype.N;dt.prototype.listenOnce=dt.prototype.O;dt.prototype.getLastError=dt.prototype.Oa;dt.prototype.getLastErrorCode=dt.prototype.Ea;dt.prototype.getStatus=dt.prototype.aa;dt.prototype.getResponseJson=dt.prototype.Sa;dt.prototype.getResponseText=dt.prototype.fa;dt.prototype.send=dt.prototype.da;dt.prototype.setWithCredentials=dt.prototype.Ka;var AD=function(){return new rd},OD=function(){return ef()},sm=tf,RD=gE,ND=Zs,Q_={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},DD=Mu,Ic=vE,MD=dt;const X_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _a="9.16.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Ny("@firebase/firestore");function J_(){return Bs.logLevel}function ve(t,...e){if(Bs.logLevel<=Le.DEBUG){const r=e.map(d0);Bs.debug(`Firestore (${_a}): ${t}`,...r)}}function Wr(t,...e){if(Bs.logLevel<=Le.ERROR){const r=e.map(d0);Bs.error(`Firestore (${_a}): ${t}`,...r)}}function Wg(t,...e){if(Bs.logLevel<=Le.WARN){const r=e.map(d0);Bs.warn(`Firestore (${_a}): ${t}`,...r)}}function d0(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t="Unexpected state"){const e=`FIRESTORE (${_a}) INTERNAL ASSERTION FAILED: `+t;throw Wr(e),new Error(e)}function Ye(t,e){t||be()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let de=class extends Tr{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Li=class{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JE=class{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}};class LD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Yt.UNAUTHENTICATED))}shutdown(){}}let UD=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}},$D=class{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){let i=this.i;const s=c=>this.i!==i?(i=this.i,r(c)):Promise.resolve();let o=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Li,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},u=c=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Li)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(i=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ye(typeof i.accessToken=="string"),new JE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new Yt(e)}},FD=class{constructor(e,r,i,s){this.h=e,this.l=r,this.m=i,this.g=s,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ye(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}},jD=class{constructor(e,r,i,s){this.h=e,this.l=r,this.m=i,this.g=s}getToken(){return Promise.resolve(new FD(this.h,this.l,this.m,this.g))}start(e,r){e.enqueueRetryable(()=>r(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},BD=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},zD=class{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,r){const i=o=>{o.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.A;return this.A=o.token,ve("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?s(o):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ye(typeof r.token=="string"),this.A=r.token,new BD(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let i=0;i<t;i++)r[i]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZE=class{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=VD(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<r&&(i+=e.charAt(s[o]%e.length))}return i}};function Ue(t,e){return t<e?-1:t>e?1:0}function Jo(t,e,r){return t.length===e.length&&t.every((i,s)=>r(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*r));return new Tt(r,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Tt(0,0))}static max(){return new ke(new Tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,r,i){r===void 0?r=0:r>e.length&&be(),i===void 0?i=e.length-r:i>e.length-r&&be(),this.segments=e,this.offset=r,this.len=i}get length(){return this.len}isEqual(e){return nu.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof nu?e.forEach(i=>{r.push(i)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,i=this.limit();r<i;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const i=Math.min(e.length,r.length);for(let s=0;s<i;s++){const o=e.get(s),a=r.get(s);if(o<a)return-1;if(o>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Je extends nu{construct(e,r,i){return new Je(e,r,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);r.push(...i.split("/").filter(s=>s.length>0))}return new Je(r)}static emptyPath(){return new Je([])}}const GD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends nu{construct(e,r,i){return new Xt(e,r,i)}static isValidIdentifier(e){return GD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xt(["__name__"])}static fromServerFormat(e){const r=[];let i="",s=0;const o=()=>{if(i.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(i),i=""};let a=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,s+=2}else u==="`"?(a=!a,s++):u!=="."||a?(i+=u,s++):(o(),s++)}if(o(),a)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(r)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Je.fromString(e))}static fromName(e){return new ye(Je.fromString(e).popFirst(5))}static empty(){return new ye(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Je.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Je(e.slice()))}}function HD(t,e){const r=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=ke.fromTimestamp(i===1e9?new Tt(r+1,0):new Tt(r,i));return new Vi(s,ye.empty(),e)}function WD(t){return new Vi(t.readTime,t.key,-1)}class Vi{constructor(e,r,i){this.readTime=e,this.documentKey=r,this.largestBatchId=i}static min(){return new Vi(ke.min(),ye.empty(),-1)}static max(){return new Vi(ke.max(),ye.empty(),-1)}}function qD(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ye.comparator(t.documentKey,e.documentKey),r!==0?r:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==YD)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ie((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(r,o).next(i,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ie?r:ie.resolve(r)}catch(r){return ie.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ie.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ie.reject(r)}static resolve(e){return new ie((r,i)=>{r(e)})}static reject(e){return new ie((r,i)=>{i(e)})}static waitFor(e){return new ie((r,i)=>{let s=0,o=0,a=!1;e.forEach(u=>{++s,u.next(()=>{++o,a&&o===s&&r()},c=>i(c))}),a=!0,o===s&&r()})}static or(e){let r=ie.resolve(!1);for(const i of e)r=r.next(s=>s?ie.resolve(s):i());return r}static forEach(e,r){const i=[];return e.forEach((s,o)=>{i.push(r.call(this,s,o))}),this.waitFor(i)}static mapArray(e,r){return new ie((i,s)=>{const o=e.length,a=new Array(o);let u=0;for(let c=0;c<o;c++){const h=c;r(e[h]).next(f=>{a[h]=f,++u,u===o&&i(a)},f=>s(f))}})}static doWhile(e,r){return new ie((i,s)=>{const o=()=>{e()===!0?r().next(()=>{o()},s):i()};o()})}}function Fu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}f0.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,r,i,s,o,a,u,c){this.databaseId=e,this.appId=r,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.useFetchStreams=c}}class ru{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function eo(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function ex(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t){return t==null}function id(t){return t===0&&1/t==-1/0}function XD(t){return typeof t=="number"&&Number.isInteger(t)&&!id(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new sn(r)}static fromUint8Array(e){const r=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new sn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const JD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(t){if(Ye(!!t),typeof t=="string"){let e=0;const r=JD.exec(t);if(Ye(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bt(t.seconds),nanos:bt(t.nanos)}}function bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zo(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function nx(t){const e=t.mapValue.fields.__previous_value__;return tx(e)?nx(e):e}function iu(t){const e=Gi(t.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tx(t)?4:ZD(t)?9007199254740991:10:be()}function xr(t,e){if(t===e)return!0;const r=zs(t);if(r!==zs(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return iu(t).isEqual(iu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Gi(i.timestampValue),a=Gi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Zo(i.bytesValue).isEqual(Zo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return bt(i.geoPointValue.latitude)===bt(s.geoPointValue.latitude)&&bt(i.geoPointValue.longitude)===bt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return bt(i.integerValue)===bt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=bt(i.doubleValue),a=bt(s.doubleValue);return o===a?id(o)===id(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Jo(t.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Z_(o)!==Z_(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!xr(o[u],a[u])))return!1;return!0}(t,e);default:return be()}}function su(t,e){return(t.values||[]).find(r=>xr(r,e))!==void 0}function ea(t,e){if(t===e)return 0;const r=zs(t),i=zs(e);if(r!==i)return Ue(r,i);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=bt(s.integerValue||s.doubleValue),u=bt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return e2(t.timestampValue,e.timestampValue);case 4:return e2(iu(t),iu(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Zo(s),u=Zo(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=Ue(a[c],u[c]);if(h!==0)return h}return Ue(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ue(bt(s.latitude),bt(o.latitude));return a!==0?a:Ue(bt(s.longitude),bt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let c=0;c<a.length&&c<u.length;++c){const h=ea(a[c],u[c]);if(h)return h}return Ue(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Pc.mapValue&&o===Pc.mapValue)return 0;if(s===Pc.mapValue)return 1;if(o===Pc.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const m=Ue(u[f],h[f]);if(m!==0)return m;const y=ea(a[u[f]],c[h[f]]);if(y!==0)return y}return Ue(u.length,h.length)}(t.mapValue,e.mapValue);default:throw be()}}function e2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const r=Gi(t),i=Gi(e),s=Ue(r.seconds,i.seconds);return s!==0?s:Ue(r.nanos,i.nanos)}function ta(t){return qg(t)}function qg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){const s=Gi(i);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Zo(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,ye.fromName(r).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(i){let s="[",o=!0;for(const a of i.values||[])o?o=!1:s+=",",s+=qg(a);return s+"]"}(t.arrayValue):"mapValue"in t?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",a=!0;for(const u of s)a?a=!1:o+=",",o+=`${u}:${qg(i.fields[u])}`;return o+"}"}(t.mapValue):be();var e,r}function t2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Yg(t){return!!t&&"integerValue"in t}function p0(t){return!!t&&"arrayValue"in t}function n2(t){return!!t&&"nullValue"in t}function r2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function oh(t){return!!t&&"mapValue"in t}function bl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return eo(t.mapValue.fields,(r,i)=>e.mapValue.fields[r]=bl(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=bl(t.arrayValue.values[r]);return e}return Object.assign({},t)}function ZD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,r){this.position=e,this.inclusive=r}}function i2(t,e,r){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],a=t.position[s];if(o.field.isKeyField()?i=ye.comparator(ye.fromName(a.referenceValue),r.key):i=ea(a,r.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function s2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!xr(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{}class Ct extends rx{constructor(e,r,i){super(),this.field=e,this.op=r,this.value=i}static create(e,r,i){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,i):new tM(e,r,i):r==="array-contains"?new iM(e,i):r==="in"?new sM(e,i):r==="not-in"?new oM(e,i):r==="array-contains-any"?new aM(e,i):new Ct(e,r,i)}static createKeyFieldInFilter(e,r,i){return r==="in"?new nM(e,i):new rM(e,i)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(ea(r,this.value)):r!==null&&zs(this.value)===zs(r)&&this.matchesComparison(ea(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class lr extends rx{constructor(e,r){super(),this.filters=e,this.op=r,this.ht=null}static create(e,r){return new lr(e,r)}matches(e){return ix(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(r=>r.isInequality());return e!==null?e.field:null}lt(e){for(const r of this.getFlattenedFilters())if(e(r))return r;return null}}function ix(t){return t.op==="and"}function sx(t){return eM(t)&&ix(t)}function eM(t){for(const e of t.filters)if(e instanceof lr)return!1;return!0}function Kg(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+ta(t.value);if(sx(t))return t.filters.map(e=>Kg(e)).join(",");{const e=t.filters.map(r=>Kg(r)).join(",");return`${t.op}(${e})`}}function ox(t,e){return t instanceof Ct?function(r,i){return i instanceof Ct&&r.op===i.op&&r.field.isEqual(i.field)&&xr(r.value,i.value)}(t,e):t instanceof lr?function(r,i){return i instanceof lr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&ox(o,i.filters[a]),!0):!1}(t,e):void be()}function ax(t){return t instanceof Ct?function(e){return`${e.field.canonicalString()} ${e.op} ${ta(e.value)}`}(t):t instanceof lr?function(e){return e.op.toString()+" {"+e.getFilters().map(ax).join(" ,")+"}"}(t):"Filter"}class tM extends Ct{constructor(e,r,i){super(e,r,i),this.key=ye.fromName(i.referenceValue)}matches(e){const r=ye.comparator(e.key,this.key);return this.matchesComparison(r)}}class nM extends Ct{constructor(e,r){super(e,"in",r),this.keys=lx("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class rM extends Ct{constructor(e,r){super(e,"not-in",r),this.keys=lx("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function lx(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(i=>ye.fromName(i.referenceValue))}class iM extends Ct{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return p0(r)&&su(r.arrayValue,this.value)}}class sM extends Ct{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&su(this.value.arrayValue,r)}}class oM extends Ct{constructor(e,r){super(e,"not-in",r)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!su(this.value.arrayValue,r)}}class aM extends Ct{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!p0(r)||!r.arrayValue.values)&&r.arrayValue.values.some(i=>su(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,r="asc"){this.field=e,this.dir=r}}function lM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,r){this.comparator=e,this.root=r||$t.EMPTY}insert(e,r){return new Pt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}indexOf(e){let r=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return r+i.left.size;s<0?i=i.left:(r+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,i)=>(e(r,i),!1))}toString(){const e=[];return this.inorderTraversal((r,i)=>(e.push(`${r}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ac(this.root,e,this.comparator,!0)}}class Ac{constructor(e,r,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=r?i(e.key,r):1,r&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,r,i,s,o){this.key=e,this.value=r,this.color=i??$t.RED,this.left=s??$t.EMPTY,this.right=o??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,i,s,o){return new $t(e??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,r,i),null):o===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let i,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return $t.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(t,e,r,i,s){return this}insert(t,e,r){return new $t(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,i)=>(e(r),!1))}forEachInRange(e,r){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let i;for(i=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new o2(this.data.getIterator())}getIteratorFrom(e){return new o2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(i=>{r=r.add(i)}),r}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const r=this.data.getIterator(),i=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new It(this.comparator);return r.data=e,r}}class o2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Tn([])}unionWith(e){let r=new It(Xt.comparator);for(const i of this.fields)r=r.add(i);for(const i of e)r=r.add(i);return new Tn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,(r,i)=>r.isEqual(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let i=0;i<e.length-1;++i)if(r=(r.mapValue.fields||{})[e.get(i)],!oh(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(r)}setAll(e){let r=Xt.emptyPath(),i={},s=[];e.forEach((a,u)=>{if(!r.isImmediateParentOf(u)){const c=this.getFieldsMap(r);this.applyChanges(c,i,s),i={},s=[],r=u.popLast()}a?i[u.lastSegment()]=bl(a):s.push(u.lastSegment())});const o=this.getFieldsMap(r);this.applyChanges(o,i,s)}delete(e){const r=this.field(e.popLast());oh(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=r.mapValue.fields[e.get(i)];oh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(i)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,i){eo(r,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new yn(bl(this.value))}}function ux(t){const e=[];return eo(t.fields,(r,i)=>{const s=new Xt([r]);if(oh(i)){const o=ux(i.mapValue).fields;if(o.length===0)e.push(s);else for(const a of o)e.push(s.child(a))}else e.push(s)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,r,i,s,o,a,u){this.key=e,this.documentType=r,this.version=i,this.readTime=s,this.createTime=o,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Qt(e,0,ke.min(),ke.min(),ke.min(),yn.empty(),0)}static newFoundDocument(e,r,i,s){return new Qt(e,1,r,ke.min(),i,s,0)}static newNoDocument(e,r){return new Qt(e,2,r,ke.min(),ke.min(),yn.empty(),0)}static newUnknownDocument(e,r){return new Qt(e,3,r,ke.min(),ke.min(),yn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uM=class{constructor(e,r=null,i=[],s=[],o=null,a=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=a,this.endAt=u,this.ft=null}};function a2(t,e=null,r=[],i=[],s=null,o=null,a=null){return new uM(t,e,r,i,s,o,a)}function m0(t){const e=Ee(t);if(e.ft===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(i=>Kg(i)).join(","),r+="|ob:",r+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),cf(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(i=>ta(i)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(i=>ta(i)).join(",")),e.ft=r}return e.ft}function g0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!lM(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!ox(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!s2(t.startAt,e.startAt)&&s2(t.endAt,e.endAt)}function Qg(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba=class{constructor(e,r=null,i=[],s=[],o=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=c,this.dt=null,this._t=null,this.startAt,this.endAt}};function cM(t,e,r,i,s,o,a,u){return new ba(t,e,r,i,s,o,a,u)}function hf(t){return new ba(t)}function l2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function v0(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function df(t){for(const e of t.filters){const r=e.getFirstInequalityField();if(r!==null)return r}return null}function cx(t){return t.collectionGroup!==null}function $o(t){const e=Ee(t);if(e.dt===null){e.dt=[];const r=df(e),i=v0(e);if(r!==null&&i===null)r.isKeyField()||e.dt.push(new Uo(r)),e.dt.push(new Uo(Xt.keyField(),"asc"));else{let s=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(s=!0);if(!s){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Uo(Xt.keyField(),o))}}}return e.dt}function qr(t){const e=Ee(t);if(!e._t)if(e.limitType==="F")e._t=a2(e.path,e.collectionGroup,$o(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const o of $o(e)){const a=o.dir==="desc"?"asc":"desc";r.push(new Uo(o.field,a))}const i=e.endAt?new sd(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new sd(e.startAt.position,e.startAt.inclusive):null;e._t=a2(e.path,e.collectionGroup,r,e.filters,e.limit,i,s)}return e._t}function Xg(t,e){e.getFirstInequalityField(),df(t);const r=t.filters.concat([e]);return new ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Jg(t,e,r){return new ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function ff(t,e){return g0(qr(t),qr(e))&&t.limitType===e.limitType}function hx(t){return`${m0(qr(t))}|lt:${t.limitType}`}function Zg(t){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(i=>ax(i)).join(", ")}]`),cf(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(i=>ta(i)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(i=>ta(i)).join(",")),`Target(${r})`}(qr(t))}; limitType=${t.limitType})`}function y0(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ye.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of $o(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,a){const u=i2(s,o,a);return s.inclusive?u<=0:u<0}(r.startAt,$o(r),i)||r.endAt&&!function(s,o,a){const u=i2(s,o,a);return s.inclusive?u>=0:u>0}(r.endAt,$o(r),i))}(t,e)}function hM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dx(t){return(e,r)=>{let i=!1;for(const s of $o(t)){const o=dM(s,e,r);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function dM(t,e,r){const i=t.field.isKeyField()?ye.comparator(e.key,r.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?ea(u,c):be()}(t.field,e,r);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:id(e)?"-0":e}}function px(t){return{integerValue:""+t}}function fM(t,e){return XD(e)?px(e):fx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(){this._=void 0}}function pM(t,e,r){return t instanceof od?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&(o.fields.__previous_value__=s),{mapValue:o}}(r,e):t instanceof na?gx(t,e):t instanceof ra?vx(t,e):function(i,s){const o=mx(i,s),a=u2(o)+u2(i.gt);return Yg(o)&&Yg(i.gt)?px(a):fx(i.yt,a)}(t,e)}function mM(t,e,r){return t instanceof na?gx(t,e):t instanceof ra?vx(t,e):r}function mx(t,e){return t instanceof ad?Yg(r=e)||function(i){return!!i&&"doubleValue"in i}(r)?e:{integerValue:0}:null;var r}class od extends pf{}class na extends pf{constructor(e){super(),this.elements=e}}function gx(t,e){const r=yx(e);for(const i of t.elements)r.some(s=>xr(s,i))||r.push(i);return{arrayValue:{values:r}}}class ra extends pf{constructor(e){super(),this.elements=e}}function vx(t,e){let r=yx(e);for(const i of t.elements)r=r.filter(s=>!xr(s,i));return{arrayValue:{values:r}}}class ad extends pf{constructor(e,r){super(),this.yt=e,this.gt=r}}function u2(t){return bt(t.integerValue||t.doubleValue)}function yx(t){return p0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,r){this.field=e,this.transform=r}}function gM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof na&&i instanceof na||r instanceof ra&&i instanceof ra?Jo(r.elements,i.elements,xr):r instanceof ad&&i instanceof ad?xr(r.gt,i.gt):r instanceof od&&i instanceof od}(t.transform,e.transform)}class vM{constructor(e,r){this.version=e,this.transformResults=r}}class Vn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mf{}function _x(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new w0(t.key,Vn.none()):new ju(t.key,t.data,Vn.none());{const r=t.data,i=yn.empty();let s=new It(Xt.comparator);for(let o of e.fields)if(!s.has(o)){let a=r.field(o);a===null&&o.length>1&&(o=o.popLast(),a=r.field(o)),a===null?i.delete(o):i.set(o,a),s=s.add(o)}return new ss(t.key,i,new Tn(s.toArray()),Vn.none())}}function yM(t,e,r){t instanceof ju?function(i,s,o){const a=i.value.clone(),u=h2(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,r):t instanceof ss?function(i,s,o){if(!ah(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=h2(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(bx(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,r):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Sl(t,e,r,i){return t instanceof ju?function(s,o,a,u){if(!ah(s.precondition,o))return a;const c=s.value.clone(),h=d2(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,r,i):t instanceof ss?function(s,o,a,u){if(!ah(s.precondition,o))return a;const c=d2(s.fieldTransforms,u,o),h=o.data;return h.setAll(bx(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,r,i):function(s,o,a){return ah(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,r)}function wM(t,e){let r=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=mx(i.transform,s||null);o!=null&&(r===null&&(r=yn.empty()),r.set(i.field,o))}return r||null}function c2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Jo(r,i,(s,o)=>gM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ju extends mf{constructor(e,r,i,s=[]){super(),this.key=e,this.value=r,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ss extends mf{constructor(e,r,i,s,o=[]){super(),this.key=e,this.data=r,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function bx(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const i=t.data.field(r);e.set(r,i)}}),e}function h2(t,e,r){const i=new Map;Ye(t.length===r.length);for(let s=0;s<r.length;s++){const o=t[s],a=o.transform,u=e.data.field(o.field);i.set(o.field,mM(a,u,r[s]))}return i}function d2(t,e,r){const i=new Map;for(const s of t){const o=s.transform,a=r.data.field(s.field);i.set(s.field,pM(o,a,e))}return i}class w0 extends mf{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _M extends mf{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Ne;function SM(t){switch(t){default:return be();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function Sx(t){if(t===void 0)return Wr("GRPC error has no .code"),J.UNKNOWN;switch(t){case _t.OK:return J.OK;case _t.CANCELLED:return J.CANCELLED;case _t.UNKNOWN:return J.UNKNOWN;case _t.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case _t.INTERNAL:return J.INTERNAL;case _t.UNAVAILABLE:return J.UNAVAILABLE;case _t.UNAUTHENTICATED:return J.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case _t.NOT_FOUND:return J.NOT_FOUND;case _t.ALREADY_EXISTS:return J.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return J.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case _t.ABORTED:return J.ABORTED;case _t.OUT_OF_RANGE:return J.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return J.UNIMPLEMENTED;case _t.DATA_LOSS:return J.DATA_LOSS;default:return be()}}(Ne=_t||(_t={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,r){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,r]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[r]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(r,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return ex(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=new Pt(ye.comparator);function Yr(){return CM}const Cx=new Pt(ye.comparator);function ol(...t){let e=Cx;for(const r of t)e=e.insert(r.key,r);return e}function kx(t){let e=Cx;return t.forEach((r,i)=>e=e.insert(r,i.overlayedDocument)),e}function Cs(){return Cl()}function Ex(){return Cl()}function Cl(){return new Sa(t=>t.toString(),(t,e)=>t.isEqual(e))}const kM=new Pt(ye.comparator),EM=new It(ye.comparator);function Pe(...t){let e=EM;for(const r of t)e=e.add(r);return e}const xM=new It(Ue);function xx(){return xM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,r,i,s,o){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,r,i){const s=new Map;return s.set(e,Bu.createSynthesizedTargetChangeForCurrentChange(e,r,i)),new gf(ke.min(),s,xx(),Yr(),Pe())}}class Bu{constructor(e,r,i,s,o){this.resumeToken=e,this.current=r,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,r,i){return new Bu(i,r,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,r,i,s){this.It=e,this.removedTargetIds=r,this.key=i,this.Tt=s}}class Tx{constructor(e,r){this.targetId=e,this.Et=r}}class Ix{constructor(e,r,i=sn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=i,this.cause=s}}class f2{constructor(){this.At=0,this.Rt=m2(),this.bt=sn.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Pe(),r=Pe(),i=Pe();return this.Rt.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:i=i.add(s);break;default:be()}}),new Bu(this.bt,this.Pt,e,r,i)}xt(){this.vt=!1,this.Rt=m2()}Nt(e,r){this.vt=!0,this.Rt=this.Rt.insert(e,r)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class TM{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Yr(),this.qt=p2(),this.Ut=new It(Ue)}Kt(e){for(const r of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt);for(const r of e.removedTargetIds)this.Qt(r,e.key,e.Tt)}jt(e){this.forEachTarget(e,r=>{const i=this.Wt(r);switch(e.state){case 0:this.zt(r)&&i.Dt(e.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(r);break;case 3:this.zt(r)&&(i.Ft(),i.Dt(e.resumeToken));break;case 4:this.zt(r)&&(this.Ht(r),i.Dt(e.resumeToken));break;default:be()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Bt.forEach((i,s)=>{this.zt(s)&&r(s)})}Jt(e){const r=e.targetId,i=e.Et.count,s=this.Yt(r);if(s){const o=s.target;if(Qg(o))if(i===0){const a=new ye(o.path);this.Qt(r,a,Qt.newNoDocument(a,ke.min()))}else Ye(i===1);else this.Xt(r)!==i&&(this.Ht(r),this.Ut=this.Ut.add(r))}}Zt(e){const r=new Map;this.Bt.forEach((o,a)=>{const u=this.Yt(a);if(u){if(o.current&&Qg(u.target)){const c=new ye(u.target.path);this.Lt.get(c)!==null||this.te(a,c)||this.Qt(a,c,Qt.newNoDocument(c,e))}o.St&&(r.set(a,o.Ct()),o.xt())}});let i=Pe();this.qt.forEach((o,a)=>{let u=!0;a.forEachWhile(c=>{const h=this.Yt(c);return!h||h.purpose===2||(u=!1,!1)}),u&&(i=i.add(o))}),this.Lt.forEach((o,a)=>a.setReadTime(e));const s=new gf(e,r,this.Ut,this.Lt,i);return this.Lt=Yr(),this.qt=p2(),this.Ut=new It(Ue),s}Gt(e,r){if(!this.zt(e))return;const i=this.te(e,r.key)?2:0;this.Wt(e).Nt(r.key,i),this.Lt=this.Lt.insert(r.key,r),this.qt=this.qt.insert(r.key,this.ee(r.key).add(e))}Qt(e,r,i){if(!this.zt(e))return;const s=this.Wt(e);this.te(e,r)?s.Nt(r,1):s.kt(r),this.qt=this.qt.insert(r,this.ee(r).delete(e)),i&&(this.Lt=this.Lt.insert(r,i))}removeTarget(e){this.Bt.delete(e)}Xt(e){const r=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let r=this.Bt.get(e);return r||(r=new f2,this.Bt.set(e,r)),r}ee(e){let r=this.qt.get(e);return r||(r=new It(Ue),this.qt=this.qt.insert(e,r)),r}zt(e){const r=this.Yt(e)!==null;return r||ve("WatchChangeAggregator","Detected inactive target",e),r}Yt(e){const r=this.Bt.get(e);return r&&r.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new f2),this.$t.getRemoteKeysForTarget(e).forEach(r=>{this.Qt(e,r,null)})}te(e,r){return this.$t.getRemoteKeysForTarget(e).has(r)}}function p2(){return new Pt(ye.comparator)}function m2(){return new Pt(ye.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),PM=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),AM=(()=>({and:"AND",or:"OR"}))();class OM{constructor(e,r){this.databaseId=e,this.wt=r}}function ld(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Px(t,e){return t.wt?e.toBase64():e.toUint8Array()}function RM(t,e){return ld(t,e.toTimestamp())}function kr(t){return Ye(!!t),ke.fromTimestamp(function(e){const r=Gi(e);return new Tt(r.seconds,r.nanos)}(t))}function _0(t,e){return function(r){return new Je(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function Ax(t){const e=Je.fromString(t);return Ye(Dx(e)),e}function ev(t,e){return _0(t.databaseId,e.path)}function om(t,e){const r=Ax(e);if(r.get(1)!==t.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ye(Ox(r))}function tv(t,e){return _0(t.databaseId,e)}function NM(t){const e=Ax(t);return e.length===4?Je.emptyPath():Ox(e)}function nv(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ox(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function g2(t,e,r){return{name:ev(t,e),fields:r.value.mapValue.fields}}function DM(t,e){let r;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(c,h){return c.wt?(Ye(h===void 0||typeof h=="string"),sn.fromBase64String(h||"")):(Ye(h===void 0||h instanceof Uint8Array),sn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(c){const h=c.code===void 0?J.UNKNOWN:Sx(c.code);return new de(h,c.message||"")}(a);r=new Ix(i,s,o,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=om(t,i.document.name),o=kr(i.document.updateTime),a=i.document.createTime?kr(i.document.createTime):ke.min(),u=new yn({mapValue:{fields:i.document.fields}}),c=Qt.newFoundDocument(s,o,a,u),h=i.targetIds||[],f=i.removedTargetIds||[];r=new lh(h,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=om(t,i.document),o=i.readTime?kr(i.readTime):ke.min(),a=Qt.newNoDocument(s,o),u=i.removedTargetIds||[];r=new lh([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=om(t,i.document),o=i.removedTargetIds||[];r=new lh([],o,s,null)}else{if(!("filter"in e))return be();{e.filter;const i=e.filter;i.targetId;const s=i.count||0,o=new bM(s),a=i.targetId;r=new Tx(a,o)}}return r}function MM(t,e){let r;if(e instanceof ju)r={update:g2(t,e.key,e.value)};else if(e instanceof w0)r={delete:ev(t,e.key)};else if(e instanceof ss)r={update:g2(t,e.key,e.data),updateMask:GM(e.fieldMask)};else{if(!(e instanceof _M))return be();r={verify:ev(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof od)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof na)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ra)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ad)return{fieldPath:o.field.canonicalString(),increment:a.gt};throw be()}(0,i))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:RM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:be()}(t,e.precondition)),r}function LM(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(r=>function(i,s){let o=i.updateTime?kr(i.updateTime):kr(s);return o.isEqual(ke.min())&&(o=kr(s)),new vM(o,i.transformResults||[])}(r,e))):[]}function UM(t,e){return{documents:[tv(t,e.path)]}}function $M(t,e){const r={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(r.parent=tv(t,i),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=tv(t,i.popLast()),r.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(c){if(c.length!==0)return Nx(lr.create(c,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:uo(f.field),direction:BM(f.dir)}}(h))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const a=function(c,h){return c.wt||cf(h)?h:{value:h}}(t,e.limit);var u;return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),r}function FM(t){let e=NM(t.parent);const r=t.structuredQuery,i=r.from?r.from.length:0;let s=null;if(i>0){Ye(i===1);const f=r.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let o=[];r.where&&(o=function(f){const m=Rx(f);return m instanceof lr&&sx(m)?m.getFilters():[m]}(r.where));let a=[];r.orderBy&&(a=r.orderBy.map(f=>function(m){return new Uo(co(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f)));let u=null;r.limit&&(u=function(f){let m;return m=typeof f=="object"?f.value:f,cf(m)?null:m}(r.limit));let c=null;r.startAt&&(c=function(f){const m=!!f.before,y=f.values||[];return new sd(y,m)}(r.startAt));let h=null;return r.endAt&&(h=function(f){const m=!f.before,y=f.values||[];return new sd(y,m)}(r.endAt)),cM(e,s,a,o,u,"F",c,h)}function jM(t,e){const r=function(i,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return be()}}(0,e.purpose);return r==null?null:{"goog-listen-tags":r}}function Rx(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=co(e.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=co(e.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=co(e.unaryFilter.field);return Ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=co(e.unaryFilter.field);return Ct.create(o,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):t.fieldFilter!==void 0?function(e){return Ct.create(co(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return lr.create(e.compositeFilter.filters.map(r=>Rx(r)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return be()}}(e.compositeFilter.op))}(t):be()}function BM(t){return IM[t]}function zM(t){return PM[t]}function VM(t){return AM[t]}function uo(t){return{fieldPath:t.canonicalString()}}function co(t){return Xt.fromServerFormat(t.fieldPath)}function Nx(t){return t instanceof Ct?function(e){if(e.op==="=="){if(r2(e.value))return{unaryFilter:{field:uo(e.field),op:"IS_NAN"}};if(n2(e.value))return{unaryFilter:{field:uo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(r2(e.value))return{unaryFilter:{field:uo(e.field),op:"IS_NOT_NAN"}};if(n2(e.value))return{unaryFilter:{field:uo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(e.field),op:zM(e.op),value:e.value}}}(t):t instanceof lr?function(e){const r=e.getFilters().map(i=>Nx(i));return r.length===1?r[0]:{compositeFilter:{op:VM(e.op),filters:r}}}(t):be()}function GM(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Dx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,r,i,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,r){const i=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&yM(o,e,i[s])}}applyToLocalView(e,r){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(r=Sl(i,e,r,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(r=Sl(i,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const i=Ex();return this.mutations.forEach(s=>{const o=e.get(s.key),a=o.overlayedDocument;let u=this.applyToLocalView(a,o.mutatedFields);u=r.has(s.key)?null:u;const c=_x(a,u);c!==null&&i.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(ke.min())}),i}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(r,i)=>c2(r,i))&&Jo(this.baseMutations,e.baseMutations,(r,i)=>c2(r,i))}}class b0{constructor(e,r,i,s){this.batch=e,this.commitVersion=r,this.mutationResults=i,this.docVersions=s}static from(e,r,i){Ye(e.mutations.length===i.length);let s=kM;const o=e.mutations;for(let a=0;a<o.length;a++)s=s.insert(o[a].key,i[a].version);return new b0(e,r,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,r,i,s,o=ke.min(),a=ke.min(),u=sn.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.ie=e}}function YM(t){const e=FM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.Je=new QM}addToCollectionParentIndex(e,r){return this.Je.add(r),ie.resolve()}getCollectionParents(e,r){return ie.resolve(this.Je.getEntries(r))}addFieldIndex(e,r){return ie.resolve()}deleteFieldIndex(e,r){return ie.resolve()}getDocumentsMatchingTarget(e,r){return ie.resolve(null)}getIndexType(e,r){return ie.resolve(0)}getFieldIndexes(e,r){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,r){return ie.resolve(Vi.min())}getMinOffsetFromCollectionGroup(e,r){return ie.resolve(Vi.min())}updateCollectionGroup(e,r,i){return ie.resolve()}updateIndexEntries(e,r){return ie.resolve()}}class QM{constructor(){this.index={}}add(e){const r=e.lastSegment(),i=e.popLast(),s=this.index[r]||new It(Je.comparator),o=!s.has(i);return this.index[r]=s.add(i),o}has(e){const r=e.lastSegment(),i=e.popLast(),s=this.index[r];return s&&s.has(i)}getEntries(e){return(this.index[e]||new It(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ia(0)}static vn(){return new ia(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(){this.changes=new Sa(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const i=this.changes.get(r);return i!==void 0?ie.resolve(i):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,r,i,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,r){let i=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(i!==null&&Sl(i.mutation,s,Tn.empty(),Tt.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(i=>this.getLocalViewOfDocuments(e,i,Pe()).next(()=>i))}getLocalViewOfDocuments(e,r,i=Pe()){const s=Cs();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,i).next(o=>{let a=ol();return o.forEach((u,c)=>{a=a.insert(u,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const i=Cs();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,Pe()))}populateOverlays(e,r,i){const s=[];return i.forEach(o=>{r.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((a,u)=>{r.set(a,u)})})}computeViews(e,r,i,s){let o=Yr();const a=Cl(),u=Cl();return r.forEach((c,h)=>{const f=i.get(h.key);s.has(h.key)&&(f===void 0||f.mutation instanceof ss)?o=o.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),Sl(f.mutation,h,f.mutation.getFieldMask(),Tt.now())):a.set(h.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((h,f)=>a.set(h,f)),r.forEach((h,f)=>{var m;return u.set(h,new JM(f,(m=a.get(h))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,r){const i=Cl();let s=new Pt((a,u)=>a-u),o=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const u of a)u.keys().forEach(c=>{const h=r.get(c);if(h===null)return;let f=i.get(c)||Tn.empty();f=u.applyToLocalView(h,f),i.set(c,f);const m=(s.get(u.batchId)||Pe()).add(c);s=s.insert(u.batchId,m)})}).next(()=>{const a=[],u=s.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,f=c.value,m=Ex();f.forEach(y=>{if(!o.has(y)){const S=_x(r.get(y),i.get(y));S!==null&&m.set(y,S),o=o.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,m))}return ie.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,r,i){return function(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):cx(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,i):this.getDocumentsMatchingCollectionQuery(e,r,i)}getNextDocuments(e,r,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,i,s).next(o=>{const a=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,i.largestBatchId,s-o.size):ie.resolve(Cs());let u=-1,c=o;return a.next(h=>ie.forEach(h,(f,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),o.get(f)?ie.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{c=c.insert(f,y)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,c,h,Pe())).next(f=>({batchId:u,changes:kx(f)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ye(r)).next(i=>{let s=ol();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,i){const s=r.collectionGroup;let o=ol();return this.indexManager.getCollectionParents(e,s).next(a=>ie.forEach(a,u=>{const c=function(h,f){return new ba(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,i){let s;return this.remoteDocumentCache.getAllFromCollection(e,r.path,i).next(o=>(s=o,this.documentOverlayCache.getOverlaysForCollection(e,r.path,i.largestBatchId))).next(o=>{o.forEach((u,c)=>{const h=c.getKey();s.get(h)===null&&(s=s.insert(h,Qt.newInvalidDocument(h)))});let a=ol();return s.forEach((u,c)=>{const h=o.get(u);h!==void 0&&Sl(h.mutation,c,Tn.empty(),Tt.now()),y0(r,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,r){return ie.resolve(this.Zn.get(r))}saveBundleMetadata(e,r){var i;return this.Zn.set(r.id,{id:(i=r).id,version:i.version,createTime:kr(i.createTime)}),ie.resolve()}getNamedQuery(e,r){return ie.resolve(this.ts.get(r))}saveNamedQuery(e,r){return this.ts.set(r.name,function(i){return{name:i.name,query:YM(i.bundledQuery),readTime:kr(i.readTime)}}(r)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(){this.overlays=new Pt(ye.comparator),this.es=new Map}getOverlay(e,r){return ie.resolve(this.overlays.get(r))}getOverlays(e,r){const i=Cs();return ie.forEach(r,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,r,i){return i.forEach((s,o)=>{this.oe(e,r,o)}),ie.resolve()}removeOverlaysForBatchId(e,r,i){const s=this.es.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(i)),ie.resolve()}getOverlaysForCollection(e,r,i){const s=Cs(),o=r.length+1,a=new ye(r.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===o&&c.largestBatchId>i&&s.set(c.getKey(),c)}return ie.resolve(s)}getOverlaysForCollectionGroup(e,r,i,s){let o=new Pt((h,f)=>h-f);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>i){let f=o.get(h.largestBatchId);f===null&&(f=Cs(),o=o.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const u=Cs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,f)=>u.set(h,f)),!(u.size()>=s)););return ie.resolve(u)}oe(e,r,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.es.get(s.largestBatchId).delete(i.key);this.es.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new WM(r,i));let o=this.es.get(r);o===void 0&&(o=Pe(),this.es.set(r,o)),this.es.set(r,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.ns=new It(Rt.ss),this.rs=new It(Rt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,r){const i=new Rt(e,r);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,r){e.forEach(i=>this.addReference(i,r))}removeReference(e,r){this.cs(new Rt(e,r))}hs(e,r){e.forEach(i=>this.removeReference(i,r))}ls(e){const r=new ye(new Je([])),i=new Rt(r,e),s=new Rt(r,e+1),o=[];return this.rs.forEachInRange([i,s],a=>{this.cs(a),o.push(a.key)}),o}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const r=new ye(new Je([])),i=new Rt(r,e),s=new Rt(r,e+1);let o=Pe();return this.rs.forEachInRange([i,s],a=>{o=o.add(a.key)}),o}containsKey(e){const r=new Rt(e,0),i=this.ns.firstAfterOrEqual(r);return i!==null&&e.isEqual(i.key)}}class Rt{constructor(e,r){this.key=e,this._s=r}static ss(e,r){return ye.comparator(e.key,r.key)||Ue(e._s,r._s)}static os(e,r){return Ue(e._s,r._s)||ye.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.ws=1,this.gs=new It(Rt.ss)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,i,s){const o=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new HM(o,r,i,s);this.mutationQueue.push(a);for(const u of s)this.gs=this.gs.add(new Rt(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ie.resolve(a)}lookupMutationBatch(e,r){return ie.resolve(this.ys(r))}getNextMutationBatchAfterBatchId(e,r){const i=r+1,s=this.ps(i),o=s<0?0:s;return ie.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const i=new Rt(r,0),s=new Rt(r,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([i,s],a=>{const u=this.ys(a._s);o.push(u)}),ie.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,r){let i=new It(Ue);return r.forEach(s=>{const o=new Rt(s,0),a=new Rt(s,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,a],u=>{i=i.add(u._s)})}),ie.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,r){const i=r.path,s=i.length+1;let o=i;ye.isDocumentKey(o)||(o=o.child(""));const a=new Rt(new ye(o),0);let u=new It(Ue);return this.gs.forEachWhile(c=>{const h=c.key.path;return!!i.isPrefixOf(h)&&(h.length===s&&(u=u.add(c._s)),!0)},a),ie.resolve(this.Is(u))}Is(e){const r=[];return e.forEach(i=>{const s=this.ys(i);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){Ye(this.Ts(r.batchId,"removed")===0),this.mutationQueue.shift();let i=this.gs;return ie.forEach(r.mutations,s=>{const o=new Rt(s.key,r.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,r){const i=new Rt(r,0),s=this.gs.firstAfterOrEqual(i);return ie.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Ts(e,r){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const r=this.ps(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.Es=e,this.docs=new Pt(ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const i=r.key,s=this.docs.get(i),o=s?s.size:0,a=this.Es(r);return this.docs=this.docs.insert(i,{document:r.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const i=this.docs.get(r);return ie.resolve(i?i.document.mutableCopy():Qt.newInvalidDocument(r))}getEntries(e,r){let i=Yr();return r.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Qt.newInvalidDocument(s))}),ie.resolve(i)}getAllFromCollection(e,r,i){let s=Yr();const o=new ye(r.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:u,value:{document:c}}=a.getNext();if(!r.isPrefixOf(u.path))break;u.path.length>r.length+1||qD(WD(c),i)<=0||(s=s.insert(c.key,c.mutableCopy()))}return ie.resolve(s)}getAllFromCollectionGroup(e,r,i,s){be()}As(e,r){return ie.forEach(this.docs,i=>r(i))}newChangeBuffer(e){return new i6(this)}getSize(e){return ie.resolve(this.size)}}class i6 extends XM{constructor(e){super(),this.Yn=e}applyChanges(e){const r=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?r.push(this.Yn.addEntry(e,s)):this.Yn.removeEntry(i)}),ie.waitFor(r)}getFromCache(e,r){return this.Yn.getEntry(e,r)}getAllFromCache(e,r){return this.Yn.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.persistence=e,this.Rs=new Sa(r=>m0(r),g0),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.bs=0,this.Ps=new S0,this.targetCount=0,this.vs=ia.Pn()}forEachTarget(e,r){return this.Rs.forEach((i,s)=>r(s)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,r,i){return i&&(this.lastRemoteSnapshotVersion=i),r>this.bs&&(this.bs=r),ie.resolve()}Dn(e){this.Rs.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.vs=new ia(r),this.highestTargetId=r),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,r){return this.Dn(r),this.targetCount+=1,ie.resolve()}updateTargetData(e,r){return this.Dn(r),ie.resolve()}removeTargetData(e,r){return this.Rs.delete(r.target),this.Ps.ls(r.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,r,i){let s=0;const o=[];return this.Rs.forEach((a,u)=>{u.sequenceNumber<=r&&i.get(u.targetId)===null&&(this.Rs.delete(a),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)}),ie.waitFor(o).next(()=>s)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,r){const i=this.Rs.get(r)||null;return ie.resolve(i)}addMatchingKeys(e,r,i){return this.Ps.us(r,i),ie.resolve()}removeMatchingKeys(e,r,i){this.Ps.hs(r,i);const s=this.persistence.referenceDelegate,o=[];return s&&r.forEach(a=>{o.push(s.markPotentiallyOrphaned(e,a))}),ie.waitFor(o)}removeMatchingKeysForTargetId(e,r){return this.Ps.ls(r),ie.resolve()}getMatchingKeysForTargetId(e,r){const i=this.Ps.ds(r);return ie.resolve(i)}containsKey(e,r){return ie.resolve(this.Ps.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,r){this.Vs={},this.overlays={},this.Ss=new f0(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new s6(this),this.indexManager=new KM,this.remoteDocumentCache=function(i){return new r6(i)}(i=>this.referenceDelegate.xs(i)),this.yt=new qM(r),this.Ns=new e6(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new t6,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let i=this.Vs[e.toKey()];return i||(i=new n6(r,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,r,i){ve("MemoryPersistence","Starting transaction:",e);const s=new a6(this.Ss.next());return this.referenceDelegate.ks(),i(s).next(o=>this.referenceDelegate.Os(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ms(e,r){return ie.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,r)))}}class a6 extends KD{constructor(e){super(),this.currentSequenceNumber=e}}class C0{constructor(e){this.persistence=e,this.Fs=new S0,this.$s=null}static Bs(e){return new C0(e)}get Ls(){if(this.$s)return this.$s;throw be()}addReference(e,r,i){return this.Fs.addReference(i,r),this.Ls.delete(i.toString()),ie.resolve()}removeReference(e,r,i){return this.Fs.removeReference(i,r),this.Ls.add(i.toString()),ie.resolve()}markPotentiallyOrphaned(e,r){return this.Ls.add(r.toString()),ie.resolve()}removeTarget(e,r){this.Fs.ls(r.targetId).forEach(s=>this.Ls.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(o=>this.Ls.add(o.toString()))}).next(()=>i.removeTargetData(e,r))}ks(){this.$s=new Set}Os(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Ls,i=>{const s=ye.fromPath(i);return this.qs(e,s).next(o=>{o||r.removeEntry(s,ke.min())})}).next(()=>(this.$s=null,r.apply(e)))}updateLimboDocument(e,r){return this.qs(e,r).next(i=>{i?this.Ls.delete(r.toString()):this.Ls.add(r.toString())})}xs(e){return 0}qs(e,r){return ie.or([()=>ie.resolve(this.Fs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ms(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,r,i,s){this.targetId=e,this.fromCache=r,this.Si=i,this.Di=s}static Ci(e,r){let i=Pe(),s=Pe();for(const o of r.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new k0(e,r.fromCache,i,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(){this.xi=!1}initialize(e,r){this.Ni=e,this.indexManager=r,this.xi=!0}getDocumentsMatchingQuery(e,r,i,s){return this.ki(e,r).next(o=>o||this.Oi(e,r,s,i)).next(o=>o||this.Mi(e,r))}ki(e,r){if(l2(r))return ie.resolve(null);let i=qr(r);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=Jg(r,null,"F"),i=qr(r)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const a=Pe(...o);return this.Ni.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,i).next(c=>{const h=this.Fi(r,u);return this.$i(r,h,a,c.readTime)?this.ki(e,Jg(r,null,"F")):this.Bi(e,h,r,c)}))})))}Oi(e,r,i,s){return l2(r)||s.isEqual(ke.min())?this.Mi(e,r):this.Ni.getDocuments(e,i).next(o=>{const a=this.Fi(r,o);return this.$i(r,a,i,s)?this.Mi(e,r):(J_()<=Le.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Zg(r)),this.Bi(e,a,r,HD(s,-1)))})}Fi(e,r){let i=new It(dx(e));return r.forEach((s,o)=>{y0(e,o)&&(i=i.add(o))}),i}$i(e,r,i,s){if(e.limit===null)return!1;if(i.size!==r.size)return!0;const o=e.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Mi(e,r){return J_()<=Le.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Zg(r)),this.Ni.getDocumentsMatchingQuery(e,r,Vi.min())}Bi(e,r,i,s){return this.Ni.getDocumentsMatchingQuery(e,i,s).next(o=>(r.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,r,i,s){this.persistence=e,this.Li=r,this.yt=s,this.qi=new Pt(Ue),this.Ui=new Sa(o=>m0(o),g0),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZM(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.qi))}}function c6(t,e,r,i){return new u6(t,e,r,i)}async function Mx(t,e){const r=Ee(t);return await r.persistence.runTransaction("Handle user change","readonly",i=>{let s;return r.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,r.Qi(e),r.mutationQueue.getAllMutationBatches(i))).next(o=>{const a=[],u=[];let c=Pe();for(const h of s){a.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}for(const h of o){u.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}return r.localDocuments.getDocuments(i,c).next(h=>({ji:h,removedBatchIds:a,addedBatchIds:u}))})})}function h6(t,e){const r=Ee(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=r.Gi.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,m=f.keys();let y=ie.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(u,S)).next(C=>{const T=c.docVersions.get(S);Ye(T!==null),C.version.compareTo(T)<0&&(f.applyToRemoteDocument(C,c),C.isValidDocument()&&(C.setReadTime(c.commitVersion),h.addEntry(C)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(r,i,e,o).next(()=>o.apply(i)).next(()=>r.mutationQueue.performConsistencyCheck(i)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let u=Pe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>r.localDocuments.getDocuments(i,s))})}function Lx(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Cs.getLastRemoteSnapshotVersion(r))}function d6(t,e){const r=Ee(t),i=e.snapshotVersion;let s=r.qi;return r.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=r.Gi.newChangeBuffer({trackRemovals:!0});s=r.qi;const u=[];e.targetChanges.forEach((f,m)=>{const y=s.get(m);if(!y)return;u.push(r.Cs.removeMatchingKeys(o,f.removedDocuments,m).next(()=>r.Cs.addMatchingKeys(o,f.addedDocuments,m)));let S=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.has(m)?S=S.withResumeToken(sn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):f.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(f.resumeToken,i)),s=s.insert(m,S),function(C,T,A){return C.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(y,S,f)&&u.push(r.Cs.updateTargetData(o,S))});let c=Yr(),h=Pe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(o,f))}),u.push(f6(o,a,e.documentUpdates).next(f=>{c=f.Wi,h=f.zi})),!i.isEqual(ke.min())){const f=r.Cs.getLastRemoteSnapshotVersion(o).next(m=>r.Cs.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(f)}return ie.waitFor(u).next(()=>a.apply(o)).next(()=>r.localDocuments.getLocalViewOfDocuments(o,c,h)).next(()=>c)}).then(o=>(r.qi=s,o))}function f6(t,e,r){let i=Pe(),s=Pe();return r.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let a=Yr();return r.forEach((u,c)=>{const h=o.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(u)),c.isNoDocument()&&c.version.isEqual(ke.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):ve("LocalStore","Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)}),{Wi:a,zi:s}})}function p6(t,e){const r=Ee(t);return r.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function m6(t,e){const r=Ee(t);return r.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return r.Cs.getTargetData(i,e).next(o=>o?(s=o,ie.resolve(s)):r.Cs.allocateTargetId(i).next(a=>(s=new As(e,a,0,i.currentSequenceNumber),r.Cs.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=r.qi.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.qi=r.qi.insert(i.targetId,i),r.Ui.set(e,i.targetId)),i})}async function rv(t,e,r){const i=Ee(t),s=i.qi.get(e),o=r?"readwrite":"readwrite-primary";try{r||await i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Fu(a))throw a;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.qi=i.qi.remove(e),i.Ui.delete(s.target)}function v2(t,e,r){const i=Ee(t);let s=ke.min(),o=Pe();return i.persistence.runTransaction("Execute query","readonly",a=>function(u,c,h){const f=Ee(u),m=f.Ui.get(h);return m!==void 0?ie.resolve(f.qi.get(m)):f.Cs.getTargetData(c,h)}(i,a,qr(e)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(a,u.targetId).next(c=>{o=c})}).next(()=>i.Li.getDocumentsMatchingQuery(a,e,r?s:ke.min(),r?o:Pe())).next(u=>(g6(i,hM(e),u),{documents:u,Hi:o})))}function g6(t,e,r){let i=t.Ki.get(e)||ke.min();r.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.Ki.set(e,i)}class y2{constructor(){this.activeTargetIds=xx()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v6{constructor(){this.Lr=new y2,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,r,i){this.qr[e]=r}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new y2,Promise.resolve()}handleUserChange(e,r,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http";this.oo=r+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,r,i,s,o){const a=this.ho(e,r);ve("RestConnection","Sending: ",a,i);const u={};return this.lo(u,s,o),this.fo(e,a,u,i).then(c=>(ve("RestConnection","Received: ",c),c),c=>{throw Wg("RestConnection",`${e} failed with error: `,c,"url: ",a,"request:",i),c})}_o(e,r,i,s,o,a){return this.ao(e,r,i,s,o)}lo(e,r,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+_a,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>e[o]=s),i&&i.headers.forEach((s,o)=>e[o]=s)}ho(e,r){const i=w6[e];return`${this.oo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,r,i,s){return new Promise((o,a)=>{const u=new MD;u.setWithCredentials(!0),u.listenOnce(RD.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case sm.NO_ERROR:const h=u.getResponseJson();ve("Connection","XHR received:",JSON.stringify(h)),o(h);break;case sm.TIMEOUT:ve("Connection",'RPC "'+e+'" timed out'),a(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case sm.HTTP_ERROR:const f=u.getStatus();if(ve("Connection",'RPC "'+e+'" failed with status:',f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const S=function(C){const T=C.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(T)>=0?T:J.UNKNOWN}(y.status);a(new de(S,y.message))}else a(new de(J.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new de(J.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{ve("Connection",'RPC "'+e+'" completed.')}});const c=JSON.stringify(s);u.send(r,"POST",c,i,15)})}wo(e,r,i){const s=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=AD(),a=OD(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new DD({})),this.lo(u.initMessageHeaders,r,i),u.encodeInitMessageHeaders=!0;const c=s.join("");ve("Connection","Creating WebChannel: "+c,u);const h=o.createWebChannel(c,u);let f=!1,m=!1;const y=new _6({Hr:C=>{m?ve("Connection","Not sending because WebChannel is closed:",C):(f||(ve("Connection","Opening WebChannel transport."),h.open(),f=!0),ve("Connection","WebChannel sending:",C),h.send(C))},Jr:()=>h.close()}),S=(C,T,A)=>{C.listen(T,g=>{try{A(g)}catch(w){setTimeout(()=>{throw w},0)}})};return S(h,Ic.EventType.OPEN,()=>{m||ve("Connection","WebChannel transport opened.")}),S(h,Ic.EventType.CLOSE,()=>{m||(m=!0,ve("Connection","WebChannel transport closed"),y.io())}),S(h,Ic.EventType.ERROR,C=>{m||(m=!0,Wg("Connection","WebChannel transport errored:",C),y.io(new de(J.UNAVAILABLE,"The operation could not be completed")))}),S(h,Ic.EventType.MESSAGE,C=>{var T;if(!m){const A=C.data[0];Ye(!!A);const g=A,w=g.error||((T=g[0])===null||T===void 0?void 0:T.error);if(w){ve("Connection","WebChannel received error:",w);const _=w.status;let P=function(j){const O=_t[j];if(O!==void 0)return Sx(O)}(_),k=w.message;P===void 0&&(P=J.INTERNAL,k="Unknown error status: "+_+" with message "+w.message),m=!0,y.io(new de(P,k)),h.close()}else ve("Connection","WebChannel received:",A),y.ro(A)}}),S(a,ND.STAT_EVENT,C=>{C.stat===Q_.PROXY?ve("Connection","Detected buffering proxy"):C.stat===Q_.NOPROXY&&ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{y.so()},0),y}}function am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t){return new OM(t,!0)}class Ux{constructor(e,r,i=1e3,s=1.5,o=6e4){this.Hs=e,this.timerId=r,this.mo=i,this.yo=s,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const r=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),s=Math.max(0,r-i);s>0&&ve("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Io} ms, delay with jitter: ${r} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,s,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,r,i,s,o,a,u,c){this.Hs=e,this.vo=i,this.Vo=s,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Ux(e,r)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,r){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():r&&r.code===J.RESOURCE_EXHAUSTED?(Wr(r.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):r&&r.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(r)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),r=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.So===r&&this.Go(i,s)},i=>{e(()=>{const s=new de(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(s)})})}Go(e,r){const i=this.Ko(this.So);this.stream=this.jo(e,r),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(s=>{i(()=>this.Qo(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return r=>{this.Hs.enqueueAndForget(()=>this.So===e?r():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class S6 extends $x{constructor(e,r,i,s,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,s,a),this.yt=o}jo(e,r){return this.connection.wo("Listen",e,r)}onMessage(e){this.xo.reset();const r=DM(this.yt,e),i=function(s){if(!("targetChange"in s))return ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?kr(o.readTime):ke.min()}(e);return this.listener.Wo(r,i)}zo(e){const r={};r.database=nv(this.yt),r.addTarget=function(s,o){let a;const u=o.target;return a=Qg(u)?{documents:UM(s,u)}:{query:$M(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?a.resumeToken=Px(s,o.resumeToken):o.snapshotVersion.compareTo(ke.min())>0&&(a.readTime=ld(s,o.snapshotVersion.toTimestamp())),a}(this.yt,e);const i=jM(this.yt,e);i&&(r.labels=i),this.Bo(r)}Ho(e){const r={};r.database=nv(this.yt),r.removeTarget=e,this.Bo(r)}}class C6 extends $x{constructor(e,r,i,s,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,s,a),this.yt=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,r){return this.connection.wo("Write",e,r)}onMessage(e){if(Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const r=LM(e.writeResults,e.commitTime),i=kr(e.commitTime);return this.listener.Zo(i,r)}return Ye(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=nv(this.yt),this.Bo(e)}Xo(e){const r={streamToken:this.lastStreamToken,writes:e.map(i=>MM(this.yt,i))};this.Bo(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6 extends class{}{constructor(e,r,i,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=i,this.yt=s,this.nu=!1}su(){if(this.nu)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.ao(e,r,i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(J.UNKNOWN,s.toString())})}_o(e,r,i,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection._o(e,r,i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(J.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class E6{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Wr(r),this.ou=!1):ve("OnlineStateTracker",r)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,r,i,s,o){this.localStore=e,this.datastore=r,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.Ur(a=>{i.enqueueAndForget(async()=>{to(this)&&(ve("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Ee(u);c._u.add(4),await zu(c),c.gu.set("Unknown"),c._u.delete(4),await yf(c)}(this))})}),this.gu=new E6(i,s)}}async function yf(t){if(to(t))for(const e of t.wu)await e(!0)}async function zu(t){for(const e of t.wu)await e(!1)}function Fx(t,e){const r=Ee(t);r.du.has(e.targetId)||(r.du.set(e.targetId,e),T0(r)?x0(r):Ca(r).ko()&&E0(r,e))}function jx(t,e){const r=Ee(t),i=Ca(r);r.du.delete(e),i.ko()&&Bx(r,e),r.du.size===0&&(i.ko()?i.Fo():to(r)&&r.gu.set("Unknown"))}function E0(t,e){t.yu.Ot(e.targetId),Ca(t).zo(e)}function Bx(t,e){t.yu.Ot(e),Ca(t).Ho(e)}function x0(t){t.yu=new TM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),Ca(t).start(),t.gu.uu()}function T0(t){return to(t)&&!Ca(t).No()&&t.du.size>0}function to(t){return Ee(t)._u.size===0}function zx(t){t.yu=void 0}async function T6(t){t.du.forEach((e,r)=>{E0(t,e)})}async function I6(t,e){zx(t),T0(t)?(t.gu.hu(e),x0(t)):t.gu.set("Unknown")}async function P6(t,e,r){if(t.gu.set("Online"),e instanceof Ix&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}(t,e)}catch(i){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ud(t,i)}else if(e instanceof lh?t.yu.Kt(e):e instanceof Tx?t.yu.Jt(e):t.yu.jt(e),!r.isEqual(ke.min()))try{const i=await Lx(t.localStore);r.compareTo(i)>=0&&await function(s,o){const a=s.yu.Zt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.du.get(c);h&&s.du.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach(u=>{const c=s.du.get(u);if(!c)return;s.du.set(u,c.withResumeToken(sn.EMPTY_BYTE_STRING,c.snapshotVersion)),Bx(s,u);const h=new As(c.target,u,1,c.sequenceNumber);E0(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(i){ve("RemoteStore","Failed to raise snapshot:",i),await ud(t,i)}}async function ud(t,e,r){if(!Fu(e))throw e;t._u.add(1),await zu(t),t.gu.set("Offline"),r||(r=()=>Lx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve("RemoteStore","Retrying IndexedDB access"),await r(),t._u.delete(1),await yf(t)})}function Vx(t,e){return e().catch(r=>ud(t,r,e))}async function wf(t){const e=Ee(t),r=Hi(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;A6(e);)try{const s=await p6(e.localStore,i);if(s===null){e.fu.length===0&&r.Fo();break}i=s.batchId,O6(e,s)}catch(s){await ud(e,s)}Gx(e)&&Hx(e)}function A6(t){return to(t)&&t.fu.length<10}function O6(t,e){t.fu.push(e);const r=Hi(t);r.ko()&&r.Yo&&r.Xo(e.mutations)}function Gx(t){return to(t)&&!Hi(t).No()&&t.fu.length>0}function Hx(t){Hi(t).start()}async function R6(t){Hi(t).eu()}async function N6(t){const e=Hi(t);for(const r of t.fu)e.Xo(r.mutations)}async function D6(t,e,r){const i=t.fu.shift(),s=b0.from(i,e,r);await Vx(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await wf(t)}async function M6(t,e){e&&Hi(t).Yo&&await async function(r,i){if(s=i.code,SM(s)&&s!==J.ABORTED){const o=r.fu.shift();Hi(r).Mo(),await Vx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await wf(r)}var s}(t,e),Gx(t)&&Hx(t)}async function _2(t,e){const r=Ee(t);r.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const i=to(r);r._u.add(3),await zu(r),i&&r.gu.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r._u.delete(3),await yf(r)}async function L6(t,e){const r=Ee(t);e?(r._u.delete(2),await yf(r)):e||(r._u.add(2),await zu(r),r.gu.set("Unknown"))}function Ca(t){return t.pu||(t.pu=function(e,r,i){const s=Ee(e);return s.su(),new S6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.yt,i)}(t.datastore,t.asyncQueue,{Yr:T6.bind(null,t),Zr:I6.bind(null,t),Wo:P6.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),T0(t)?x0(t):t.gu.set("Unknown")):(await t.pu.stop(),zx(t))})),t.pu}function Hi(t){return t.Iu||(t.Iu=function(e,r,i){const s=Ee(e);return s.su(),new C6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.yt,i)}(t.datastore,t.asyncQueue,{Yr:R6.bind(null,t),Zr:M6.bind(null,t),tu:N6.bind(null,t),Zo:D6.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await wf(t)):(await t.Iu.stop(),t.fu.length>0&&(ve("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,r,i,s,o){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,r,i,s,o){const a=Date.now()+i,u=new I0(e,r,a,s,o);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P0(t,e){if(Wr("AsyncQueue",`${e}: ${t}`),Fu(t))return new de(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.comparator=e?(r,i)=>e(r,i)||ye.comparator(r.key,i.key):(r,i)=>ye.comparator(r.key,i.key),this.keyedMap=ol(),this.sortedSet=new Pt(this.comparator)}static emptySet(e){return new Fo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,i)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const i=new Fo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=r,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.Tu=new Pt(ye.comparator)}track(e){const r=e.doc.key,i=this.Tu.get(r);i?e.type!==0&&i.type===3?this.Tu=this.Tu.insert(r,e):e.type===3&&i.type!==1?this.Tu=this.Tu.insert(r,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Tu=this.Tu.insert(r,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Tu=this.Tu.insert(r,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Tu=this.Tu.remove(r):e.type===1&&i.type===2?this.Tu=this.Tu.insert(r,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Tu=this.Tu.insert(r,{type:2,doc:e.doc}):be():this.Tu=this.Tu.insert(r,e)}Eu(){const e=[];return this.Tu.inorderTraversal((r,i)=>{e.push(i)}),e}}class sa{constructor(e,r,i,s,o,a,u,c,h){this.query=e,this.docs=r,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,r,i,s,o){const a=[];return r.forEach(u=>{a.push({type:0,doc:u})}),new sa(e,r,Fo.emptySet(r),a,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,i=e.docChanges;if(r.length!==i.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==i[s].type||!r[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(){this.Au=void 0,this.listeners=[]}}class $6{constructor(){this.queries=new Sa(e=>hx(e),ff),this.onlineState="Unknown",this.Ru=new Set}}async function Wx(t,e){const r=Ee(t),i=e.query;let s=!1,o=r.queries.get(i);if(o||(s=!0,o=new U6),s)try{o.Au=await r.onListen(i)}catch(a){const u=P0(a,`Initialization of query '${Zg(e.query)}' failed`);return void e.onError(u)}r.queries.set(i,o),o.listeners.push(e),e.bu(r.onlineState),o.Au&&e.Pu(o.Au)&&A0(r)}async function qx(t,e){const r=Ee(t),i=e.query;let s=!1;const o=r.queries.get(i);if(o){const a=o.listeners.indexOf(e);a>=0&&(o.listeners.splice(a,1),s=o.listeners.length===0)}if(s)return r.queries.delete(i),r.onUnlisten(i)}function F6(t,e){const r=Ee(t);let i=!1;for(const s of e){const o=s.query,a=r.queries.get(o);if(a){for(const u of a.listeners)u.Pu(s)&&(i=!0);a.Au=s}}i&&A0(r)}function j6(t,e,r){const i=Ee(t),s=i.queries.get(e);if(s)for(const o of s.listeners)o.onError(r);i.queries.delete(e)}function A0(t){t.Ru.forEach(e=>{e.next()})}class Yx{constructor(e,r,i){this.query=e,this.vu=r,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new sa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),r=!0):this.Cu(e,this.onlineState)&&(this.xu(e),r=!0),this.Su=e,r}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let r=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),r=!0),r}Cu(e,r){if(!e.fromCache)return!0;const i=r!=="Offline";return(!this.options.Nu||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const r=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}xu(e){e=sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.key=e}}class Qx{constructor(e){this.key=e}}class B6{constructor(e,r){this.query=e,this.qu=r,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Pe(),this.mutatedKeys=Pe(),this.Gu=dx(e),this.Qu=new Fo(this.Gu)}get ju(){return this.qu}Wu(e,r){const i=r?r.zu:new b2,s=r?r.Qu:this.Qu;let o=r?r.mutatedKeys:this.mutatedKeys,a=s,u=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,m)=>{const y=s.get(f),S=y0(this.query,m)?m:null,C=!!y&&this.mutatedKeys.has(y.key),T=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let A=!1;y&&S?y.data.isEqual(S.data)?C!==T&&(i.track({type:3,doc:S}),A=!0):this.Hu(y,S)||(i.track({type:2,doc:S}),A=!0,(c&&this.Gu(S,c)>0||h&&this.Gu(S,h)<0)&&(u=!0)):!y&&S?(i.track({type:0,doc:S}),A=!0):y&&!S&&(i.track({type:1,doc:y}),A=!0,(c||h)&&(u=!0)),A&&(S?(a=a.add(S),o=T?o.add(f):o.delete(f)):(a=a.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),o=o.delete(f.key),i.track({type:1,doc:f})}return{Qu:a,zu:i,$i:u,mutatedKeys:o}}Hu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,i){const s=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const o=e.zu.Eu();o.sort((h,f)=>function(m,y){const S=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return S(m)-S(y)}(h.type,f.type)||this.Gu(h.doc,f.doc)),this.Ju(i);const a=r?this.Yu():[],u=this.Ku.size===0&&this.current?1:0,c=u!==this.Uu;return this.Uu=u,o.length!==0||c?{snapshot:new sa(this.query,e.Qu,s,o,e.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:a}:{Xu:a}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new b2,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(r=>this.qu=this.qu.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.qu=this.qu.delete(r)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Pe(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const r=[];return e.forEach(i=>{this.Ku.has(i)||r.push(new Qx(i))}),this.Ku.forEach(i=>{e.has(i)||r.push(new Kx(i))}),r}tc(e){this.qu=e.Hi,this.Ku=Pe();const r=this.Wu(e.documents);return this.applyChanges(r,!0)}ec(){return sa.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class z6{constructor(e,r,i){this.query=e,this.targetId=r,this.view=i}}class V6{constructor(e){this.key=e,this.nc=!1}}class G6{constructor(e,r,i,s,o,a){this.localStore=e,this.remoteStore=r,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.sc={},this.ic=new Sa(u=>hx(u),ff),this.rc=new Map,this.oc=new Set,this.uc=new Pt(ye.comparator),this.cc=new Map,this.ac=new S0,this.hc={},this.lc=new Map,this.fc=ia.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function H6(t,e){const r=tL(t);let i,s;const o=r.ic.get(e);if(o)i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),s=o.view.ec();else{const a=await m6(r.localStore,qr(e));r.isPrimaryClient&&Fx(r.remoteStore,a);const u=r.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,s=await W6(r,e,i,u==="current",a.resumeToken)}return s}async function W6(t,e,r,i,s){t._c=(m,y,S)=>async function(C,T,A,g){let w=T.view.Wu(A);w.$i&&(w=await v2(C.localStore,T.query,!1).then(({documents:k})=>T.view.Wu(k,w)));const _=g&&g.targetChanges.get(T.targetId),P=T.view.applyChanges(w,C.isPrimaryClient,_);return C2(C,T.targetId,P.Xu),P.snapshot}(t,m,y,S);const o=await v2(t.localStore,e,!0),a=new B6(e,o.Hi),u=a.Wu(o.documents),c=Bu.createSynthesizedTargetChangeForCurrentChange(r,i&&t.onlineState!=="Offline",s),h=a.applyChanges(u,t.isPrimaryClient,c);C2(t,r,h.Xu);const f=new z6(e,r,a);return t.ic.set(e,f),t.rc.has(r)?t.rc.get(r).push(e):t.rc.set(r,[e]),h.snapshot}async function q6(t,e){const r=Ee(t),i=r.ic.get(e),s=r.rc.get(i.targetId);if(s.length>1)return r.rc.set(i.targetId,s.filter(o=>!ff(o,e))),void r.ic.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),jx(r.remoteStore,i.targetId),iv(r,i.targetId)}).catch($u)):(iv(r,i.targetId),await rv(r.localStore,i.targetId,!0))}async function Y6(t,e,r){const i=nL(t);try{const s=await function(o,a){const u=Ee(o),c=Tt.now(),h=a.reduce((y,S)=>y.add(S.key),Pe());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Yr(),C=Pe();return u.Gi.getEntries(y,h).next(T=>{S=T,S.forEach((A,g)=>{g.isValidDocument()||(C=C.add(A))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(T=>{f=T;const A=[];for(const g of a){const w=wM(g,f.get(g.key).overlayedDocument);w!=null&&A.push(new ss(g.key,w,ux(w.value.mapValue),Vn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,A,a)}).next(T=>{m=T;const A=T.applyToLocalDocumentSet(f,C);return u.documentOverlayCache.saveOverlays(y,T.batchId,A)})}).then(()=>({batchId:m.batchId,changes:kx(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.hc[o.currentUser.toKey()];c||(c=new Pt(Ue)),c=c.insert(a,u),o.hc[o.currentUser.toKey()]=c}(i,s.batchId,r),await Vu(i,s.changes),await wf(i.remoteStore)}catch(s){const o=P0(s,"Failed to persist write");r.reject(o)}}async function Xx(t,e){const r=Ee(t);try{const i=await d6(r.localStore,e);e.targetChanges.forEach((s,o)=>{const a=r.cc.get(o);a&&(Ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.nc=!0:s.modifiedDocuments.size>0?Ye(a.nc):s.removedDocuments.size>0&&(Ye(a.nc),a.nc=!1))}),await Vu(r,i,e)}catch(i){await $u(i)}}function S2(t,e,r){const i=Ee(t);if(i.isPrimaryClient&&r===0||!i.isPrimaryClient&&r===1){const s=[];i.ic.forEach((o,a)=>{const u=a.view.bu(e);u.snapshot&&s.push(u.snapshot)}),function(o,a){const u=Ee(o);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const m of f.listeners)m.bu(a)&&(c=!0)}),c&&A0(u)}(i.eventManager,e),s.length&&i.sc.Wo(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function K6(t,e,r){const i=Ee(t);i.sharedClientState.updateQueryState(e,"rejected",r);const s=i.cc.get(e),o=s&&s.key;if(o){let a=new Pt(ye.comparator);a=a.insert(o,Qt.newNoDocument(o,ke.min()));const u=Pe().add(o),c=new gf(ke.min(),new Map,new It(Ue),a,u);await Xx(i,c),i.uc=i.uc.remove(o),i.cc.delete(e),O0(i)}else await rv(i.localStore,e,!1).then(()=>iv(i,e,r)).catch($u)}async function Q6(t,e){const r=Ee(t),i=e.batch.batchId;try{const s=await h6(r.localStore,e);Zx(r,i,null),Jx(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),await Vu(r,s)}catch(s){await $u(s)}}async function X6(t,e,r){const i=Ee(t);try{const s=await function(o,a){const u=Ee(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ye(f!==null),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(i.localStore,e);Zx(i,e,r),Jx(i,e),i.sharedClientState.updateMutationState(e,"rejected",r),await Vu(i,s)}catch(s){await $u(s)}}function Jx(t,e){(t.lc.get(e)||[]).forEach(r=>{r.resolve()}),t.lc.delete(e)}function Zx(t,e,r){const i=Ee(t);let s=i.hc[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(r?o.reject(r):o.resolve(),s=s.remove(e)),i.hc[i.currentUser.toKey()]=s}}function iv(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.rc.get(e))t.ic.delete(i),r&&t.sc.wc(i,r);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(i=>{t.ac.containsKey(i)||eT(t,i)})}function eT(t,e){t.oc.delete(e.path.canonicalString());const r=t.uc.get(e);r!==null&&(jx(t.remoteStore,r),t.uc=t.uc.remove(e),t.cc.delete(r),O0(t))}function C2(t,e,r){for(const i of r)i instanceof Kx?(t.ac.addReference(i.key,e),J6(t,i)):i instanceof Qx?(ve("SyncEngine","Document no longer in limbo: "+i.key),t.ac.removeReference(i.key,e),t.ac.containsKey(i.key)||eT(t,i.key)):be()}function J6(t,e){const r=e.key,i=r.path.canonicalString();t.uc.get(r)||t.oc.has(i)||(ve("SyncEngine","New document in limbo: "+r),t.oc.add(i),O0(t))}function O0(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const r=new ye(Je.fromString(e)),i=t.fc.next();t.cc.set(i,new V6(r)),t.uc=t.uc.insert(r,i),Fx(t.remoteStore,new As(qr(hf(r.path)),i,2,f0.at))}}async function Vu(t,e,r){const i=Ee(t),s=[],o=[],a=[];i.ic.isEmpty()||(i.ic.forEach((u,c)=>{a.push(i._c(c,e,r).then(h=>{if((h||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,h!=null&&h.fromCache?"not-current":"current"),h){s.push(h);const f=k0.Ci(c.targetId,h);o.push(f)}}))}),await Promise.all(a),i.sc.Wo(s),await async function(u,c){const h=Ee(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ie.forEach(c,m=>ie.forEach(m.Si,y=>h.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>ie.forEach(m.Di,y=>h.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!Fu(f))throw f;ve("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const y=h.qi.get(m),S=y.snapshotVersion,C=y.withLastLimboFreeSnapshotVersion(S);h.qi=h.qi.insert(m,C)}}}(i.localStore,o))}async function Z6(t,e){const r=Ee(t);if(!r.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const i=await Mx(r.localStore,e);r.currentUser=e,function(s,o){s.lc.forEach(a=>{a.forEach(u=>{u.reject(new de(J.CANCELLED,o))})}),s.lc.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Vu(r,i.ji)}}function eL(t,e){const r=Ee(t),i=r.cc.get(e);if(i&&i.nc)return Pe().add(i.key);{let s=Pe();const o=r.rc.get(e);if(!o)return s;for(const a of o){const u=r.ic.get(a);s=s.unionWith(u.view.ju)}return s}}function tL(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K6.bind(null,e),e.sc.Wo=F6.bind(null,e.eventManager),e.sc.wc=j6.bind(null,e.eventManager),e}function nL(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X6.bind(null,e),e}class rL{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=vf(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,r){return null}Ec(e,r){return null}Ic(e){return c6(this.persistence,new l6,e.initialUser,this.yt)}yc(e){return new o6(C0.Bs,this.yt)}gc(e){return new v6}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class iL{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>S2(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z6.bind(null,this.syncEngine),await L6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new $6}createDatastore(e){const r=vf(e.databaseInfo.databaseId),i=(s=e.databaseInfo,new b6(s));var s;return function(o,a,u,c){return new k6(o,a,u,c)}(e.authCredentials,e.appCheckCredentials,i,r)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=u=>S2(this.syncEngine,u,0),a=w2.C()?new w2:new y6,new x6(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,r){return function(i,s,o,a,u,c,h){const f=new G6(i,s,o,a,u,c);return h&&(f.dc=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return async function(e){const r=Ee(e);ve("RemoteStore","RemoteStore shutting down."),r._u.add(5),await zu(r),r.mu.shutdown(),r.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e,r){if(!r)throw new de(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sL(t,e,r,i){if(e===!0&&i===!0)throw new de(J.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function k2(t){if(!ye.isDocumentKey(t))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function E2(t){if(ye.isDocumentKey(t))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _f(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be()}function Gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=_f(t);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=new Map;class T2{constructor(e){var r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,sL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,r,i,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T2(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LD;switch(r.type){case"gapi":const i=r.client;return new jD(i,r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=x2.get(e);r&&(ve("ComponentProvider","Removing Datastore"),x2.delete(e),r.terminate())}(this),Promise.resolve()}}function oL(t,e,r,i={}){var s;const o=(t=Gn(t,bf))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==e&&Wg("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${r}`,ssl:!1})),i.mockUserToken){let a,u;if(typeof i.mockUserToken=="string")a=i.mockUserToken,u=Yt.MOCK_USER;else{a=mk(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Yt(c)}t._authCredentials=new UD(new JE(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,r,i){this.converter=r,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}}class no{constructor(e,r,i){this.converter=r,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new no(this.firestore,e,this._query)}}class Ui extends no{constructor(e,r,i){super(e,r,hf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new ye(e))}withConverter(e){return new Ui(this.firestore,e,this._path)}}function Nr(t,e,...r){if(t=ot(t),tT("collection","path",e),t instanceof bf){const i=Je.fromString(e,...r);return E2(i),new Ui(t,null,i)}{if(!(t instanceof tn||t instanceof Ui))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Je.fromString(e,...r));return E2(i),new Ui(t.firestore,null,i)}}function st(t,e,...r){if(t=ot(t),arguments.length===1&&(e=ZE.R()),tT("doc","path",e),t instanceof bf){const i=Je.fromString(e,...r);return k2(i),new tn(t,null,new ye(i))}{if(!(t instanceof tn||t instanceof Ui))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Je.fromString(e,...r));return k2(i),new tn(t.firestore,t instanceof Ui?t.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,r,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=i,this.databaseInfo=s,this.user=Yt.UNAUTHENTICATED,this.clientId=ZE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{ve("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(ve("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=P0(r,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function lL(t,e){t.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const r=await t.getConfiguration();await e.initialize(r);let i=r.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await Mx(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function uL(t,e){t.asyncQueue.verifyOperationInProgress();const r=await cL(t);ve("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(r,i),t.setCredentialChangeListener(s=>_2(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>_2(e.remoteStore,o)),t.onlineComponents=e}async function cL(t){return t.offlineComponents||(ve("FirestoreClient","Using default OfflineComponentProvider"),await lL(t,new rL)),t.offlineComponents}async function rT(t){return t.onlineComponents||(ve("FirestoreClient","Using default OnlineComponentProvider"),await uL(t,new iL)),t.onlineComponents}function hL(t){return rT(t).then(e=>e.syncEngine)}async function sv(t){const e=await rT(t),r=e.eventManager;return r.onListen=H6.bind(null,e.syncEngine),r.onUnlisten=q6.bind(null,e.syncEngine),r}function dL(t,e,r={}){const i=new Li;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const h=new nT({next:m=>{o.enqueueAndForget(()=>qx(s,f));const y=m.docs.has(a);!y&&m.fromCache?c.reject(new de(J.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?c.reject(new de(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new Yx(hf(a.path),h,{includeMetadataChanges:!0,Nu:!0});return Wx(s,f)}(await sv(t),t.asyncQueue,e,r,i)),i.promise}class fL{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Ux(this,"async_queue_retry"),this.Wc=()=>{const r=am();r&&ve("AsyncQueue","Visibility state changed to "+r.visibilityState),this.xo.Po()};const e=am();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const r=am();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const r=new Li;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!Fu(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const r=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{this.Kc=i,this.Gc=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Wr("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Gc=!1,i))));return this.Bc=r,r}enqueueAfterDelay(e,r,i){this.zc(),this.jc.indexOf(e)>-1&&(r=0);const s=I0.createAndSchedule(this,e,r,i,o=>this.Yc(o));return this.Uc.push(s),s}zc(){this.Kc&&be()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const r of this.Uc)if(r.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((r,i)=>r.targetTimeMs-i.targetTimeMs);for(const r of this.Uc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const r=this.Uc.indexOf(e);this.Uc.splice(r,1)}}function I2(t){return function(e,r){if(typeof e!="object"||e===null)return!1;const i=e;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Wi extends bf{constructor(e,r,i,s){super(e,r,i,s),this.type="firestore",this._queue=new fL,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||iT(this),this._firestoreClient.terminate()}}function pL(t,e){const r=typeof t=="object"?t:My(),i=typeof t=="string"?t:e||"(default)",s=Gd(r,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=fk("firestore");o&&oL(s,...o)}return s}function R0(t){return t._firestoreClient||iT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function iT(t){var e;const r=t._freezeSettings(),i=function(s,o,a,u){return new QD(s,o,a,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new aL(t._authCredentials,t._appCheckCredentials,t._queue,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oa(sn.fromBase64String(e))}catch(r){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new oa(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=/^__.*__$/;class gL{constructor(e,r,i){this.data=e,this.fieldMask=r,this.fieldTransforms=i}toMutation(e,r){return this.fieldMask!==null?new ss(e,this.data,this.fieldMask,r,this.fieldTransforms):new ju(e,this.data,r,this.fieldTransforms)}}class sT{constructor(e,r,i){this.data=e,this.fieldMask=r,this.fieldTransforms=i}toMutation(e,r){return new ss(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function oT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Cf{constructor(e,r,i,s,o,a){this.settings=e,this.databaseId=r,this.yt=i,this.ignoreUndefinedProperties=s,o===void 0&&this.na(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Cf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var r;const i=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.ia({path:i,oa:!1});return s.ua(e),s}ca(e){var r;const i=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.ia({path:i,oa:!1});return s.na(),s}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return cd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(oT(this.sa)&&mL.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class vL{constructor(e,r,i){this.databaseId=e,this.ignoreUndefinedProperties=r,this.yt=i||vf(e)}da(e,r,i,s=!1){return new Cf({sa:e,methodName:r,fa:i,path:Xt.emptyPath(),oa:!1,la:s},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function kf(t){const e=t._freezeSettings(),r=vf(t._databaseId);return new vL(t._databaseId,!!e.ignoreUndefinedProperties,r)}function aT(t,e,r,i,s,o={}){const a=t.da(o.merge||o.mergeFields?2:0,e,r,s);D0("Data must be an object, but it was:",a,i);const u=uT(i,a);let c,h;if(o.merge)c=new Tn(a.fieldMask),h=a.fieldTransforms;else if(o.mergeFields){const f=[];for(const m of o.mergeFields){const y=ov(e,m,r);if(!a.contains(y))throw new de(J.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);hT(f,y)||f.push(y)}c=new Tn(f),h=a.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,h=a.fieldTransforms;return new gL(new yn(u),c,h)}class Ef extends Gu{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ef}}function lT(t,e,r){return new Cf({sa:3,fa:e.settings.fa,methodName:t._methodName,oa:r},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class yL extends Gu{constructor(e,r){super(e),this._a=r}_toFieldTransform(e){const r=lT(this,e,!0),i=this._a.map(o=>ro(o,r)),s=new na(i);return new wx(e.path,s)}isEqual(e){return this===e}}class wL extends Gu{constructor(e,r){super(e),this._a=r}_toFieldTransform(e){const r=lT(this,e,!0),i=this._a.map(o=>ro(o,r)),s=new ra(i);return new wx(e.path,s)}isEqual(e){return this===e}}function _L(t,e,r,i){const s=t.da(1,e,r);D0("Data must be an object, but it was:",s,i);const o=[],a=yn.empty();eo(i,(c,h)=>{const f=M0(e,c,r);h=ot(h);const m=s.ca(f);if(h instanceof Ef)o.push(f);else{const y=ro(h,m);y!=null&&(o.push(f),a.set(f,y))}});const u=new Tn(o);return new sT(a,u,s.fieldTransforms)}function bL(t,e,r,i,s,o){const a=t.da(1,e,r),u=[ov(e,i,r)],c=[s];if(o.length%2!=0)throw new de(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)u.push(ov(e,o[y])),c.push(o[y+1]);const h=[],f=yn.empty();for(let y=u.length-1;y>=0;--y)if(!hT(h,u[y])){const S=u[y];let C=c[y];C=ot(C);const T=a.ca(S);if(C instanceof Ef)h.push(S);else{const A=ro(C,T);A!=null&&(h.push(S),f.set(S,A))}}const m=new Tn(h);return new sT(f,m,a.fieldTransforms)}function SL(t,e,r,i=!1){return ro(r,t.da(i?4:3,e))}function ro(t,e){if(cT(t=ot(t)))return D0("Unsupported field value:",e,t),uT(t,e);if(t instanceof Gu)return function(r,i){if(!oT(i.sa))throw i.ha(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=ro(a,i.aa(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fM(i.yt,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Tt.fromDate(r);return{timestampValue:ld(i.yt,s)}}if(r instanceof Tt){const s=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ld(i.yt,s)}}if(r instanceof N0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oa)return{bytesValue:Px(i.yt,r._byteString)};if(r instanceof tn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:_0(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.ha(`Unsupported field value: ${_f(r)}`)}(t,e)}function uT(t,e){const r={};return ex(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(t,(i,s)=>{const o=ro(s,e.ra(i));o!=null&&(r[i]=o)}),{mapValue:{fields:r}}}function cT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof N0||t instanceof oa||t instanceof tn||t instanceof Gu)}function D0(t,e,r){if(!cT(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const i=_f(r);throw i==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+i)}}function ov(t,e,r){if((e=ot(e))instanceof Sf)return e._internalPath;if(typeof e=="string")return M0(t,e);throw cd("Field path arguments must be of type string or ",t,!1,void 0,r)}const CL=new RegExp("[~\\*/\\[\\]]");function M0(t,e,r){if(e.search(CL)>=0)throw cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Sf(...e.split("."))._internalPath}catch{throw cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function cd(t,e,r,i,s){const o=i&&!i.isEmpty(),a=s!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${i}`),a&&(c+=` in document ${s}`),c+=")"),new de(J.INVALID_ARGUMENT,u+t+c)}function hT(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,r,i,s,o){this._firestore=e,this._userDataWriter=r,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(xf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class kL extends dT{data(){return super.data()}}function xf(t,e){return typeof e=="string"?M0(t,e):e instanceof Sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L0{}class fT extends L0{}function ou(t,e,...r){let i=[];e instanceof L0&&i.push(e),i=i.concat(r),function(s){const o=s.filter(u=>u instanceof U0).length,a=s.filter(u=>u instanceof Tf).length;if(o>1||o>0&&a>0)throw new de(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class Tf extends fT{constructor(e,r,i){super(),this._field=e,this._op=r,this._value=i,this.type="where"}static _create(e,r,i){return new Tf(e,r,i)}_apply(e){const r=this._parse(e);return pT(e._query,r),new no(e.firestore,e.converter,Xg(e._query,r))}_parse(e){const r=kf(e.firestore);return function(s,o,a,u,c,h,f){let m;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new de(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){A2(f,h);const y=[];for(const S of f)y.push(P2(u,s,S));m={arrayValue:{values:y}}}else m=P2(u,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||A2(f,h),m=SL(a,o,f,h==="in"||h==="not-in");return Ct.create(c,h,m)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function vs(t,e,r){const i=e,s=xf("where",t);return Tf._create(s,i,r)}class U0 extends L0{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new U0(e,r)}_parse(e){const r=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return r.length===1?r[0]:lr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)pT(o,u),o=Xg(o,u)}(e._query,r),new no(e.firestore,e.converter,Xg(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $0 extends fT{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new $0(e,r)}_apply(e){const r=function(i,s,o){if(i.startAt!==null)throw new de(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new de(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Uo(s,o);return function(u,c){if(v0(u)===null){const h=df(u);h!==null&&mT(u,h,c.field)}}(i,a),a}(e._query,this._field,this._direction);return new no(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ba(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function av(t,e="asc"){const r=e,i=xf("orderBy",t);return $0._create(i,r)}function P2(t,e,r){if(typeof(r=ot(r))=="string"){if(r==="")throw new de(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cx(e)&&r.indexOf("/")!==-1)throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const i=e.path.child(Je.fromString(r));if(!ye.isDocumentKey(i))throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return t2(t,new ye(i))}if(r instanceof tn)return t2(t,r._key);throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_f(r)}.`)}function A2(t,e){if(!Array.isArray(t)||t.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new de(J.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function pT(t,e){if(e.isInequality()){const i=df(t),s=e.field;if(i!==null&&!i.isEqual(s))throw new de(J.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${s.toString()}'`);const o=v0(t);o!==null&&mT(t,s,o)}const r=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}function mT(t,e,r){if(!r.isEqual(e))throw new de(J.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class xL{convertValue(e,r="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw be()}}convertObject(e,r){const i={};return eo(e.fields,(s,o)=>{i[s]=this.convertValue(o,r)}),i}convertGeoPoint(e){return new N0(bt(e.latitude),bt(e.longitude))}convertArray(e,r){return(e.values||[]).map(i=>this.convertValue(i,r))}convertServerTimestamp(e,r){switch(r){case"previous":const i=nx(e);return i==null?null:this.convertValue(i,r);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const r=Gi(e);return new Tt(r.seconds,r.nanos)}convertDocumentKey(e,r){const i=Je.fromString(e);Ye(Dx(i));const s=new ru(i.get(1),i.get(3)),o=new ye(i.popFirst(5));return s.isEqual(r)||Wr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t,e,r){let i;return i=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vT extends dT{constructor(e,r,i,s,o,a){super(e,r,i,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const i=this._document.data.field(xf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}}}class uh extends vT{data(e={}){return super.data(e)}}class TL{constructor(e,r,i,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new al(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(i=>{e.call(r,new uh(this._firestore,this._userDataWriter,i.key,i,new al(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new uh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new al(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new uh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new al(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:IL(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function IL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){t=Gn(t,tn);const e=Gn(t.firestore,Wi);return dL(R0(e),t._key).then(r=>wT(e,t,r))}class yT extends xL{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,r)}}function lv(t,e,r){t=Gn(t,tn);const i=Gn(t.firestore,Wi),s=gT(t.converter,e,r);return If(i,[aT(kf(i),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,Vn.none())])}function Jt(t,e,r,...i){t=Gn(t,tn);const s=Gn(t.firestore,Wi),o=kf(s);let a;return a=typeof(e=ot(e))=="string"||e instanceof Sf?bL(o,"updateDoc",t._key,e,r,i):_L(o,"updateDoc",t._key,e),If(s,[a.toMutation(t._key,Vn.exists(!0))])}function AL(t){return If(Gn(t.firestore,Wi),[new w0(t._key,Vn.none())])}function ch(t,e){const r=Gn(t.firestore,Wi),i=st(t),s=gT(t.converter,e);return If(r,[aT(kf(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,Vn.exists(!1))]).then(()=>i)}function Vs(t,...e){var r,i,s;t=ot(t);let o={includeMetadataChanges:!1},a=0;typeof e[a]!="object"||I2(e[a])||(o=e[a],a++);const u={includeMetadataChanges:o.includeMetadataChanges};if(I2(e[a])){const m=e[a];e[a]=(r=m.next)===null||r===void 0?void 0:r.bind(m),e[a+1]=(i=m.error)===null||i===void 0?void 0:i.bind(m),e[a+2]=(s=m.complete)===null||s===void 0?void 0:s.bind(m)}let c,h,f;if(t instanceof tn)h=Gn(t.firestore,Wi),f=hf(t._key.path),c={next:m=>{e[a]&&e[a](wT(h,t,m))},error:e[a+1],complete:e[a+2]};else{const m=Gn(t,no);h=Gn(m.firestore,Wi),f=m._query;const y=new yT(h);c={next:S=>{e[a]&&e[a](new TL(h,y,m,S))},error:e[a+1],complete:e[a+2]},EL(t._query)}return function(m,y,S,C){const T=new nT(C),A=new Yx(y,T,S);return m.asyncQueue.enqueueAndForget(async()=>Wx(await sv(m),A)),()=>{T.bc(),m.asyncQueue.enqueueAndForget(async()=>qx(await sv(m),A))}}(R0(h),f,u,c)}function If(t,e){return function(r,i){const s=new Li;return r.asyncQueue.enqueueAndForget(async()=>Y6(await hL(r),i,s)),s.promise}(R0(t),e)}function wT(t,e,r){const i=r.docs.get(e._key),s=new yT(t);return new vT(t,s,e._key,i,new al(r.hasPendingWrites,r.fromCache),e.converter)}function aa(...t){return new yL("arrayUnion",t)}function la(...t){return new wL("arrayRemove",t)}(function(t,e=!0){(function(r){_a=r})(ma),$s(new zi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Wi(new $D(r.getProvider("auth-internal")),new zD(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:e},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),br(X_,"3.8.1",t),br(X_,"3.8.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="firebasestorage.googleapis.com",bT="storageBucket",OL=2*60*1e3,RL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft extends Tr{constructor(e,r,i=0){super(lm(e),`Firebase Storage: ${r} (${lm(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function lm(t){return"storage/"+t}function F0(){const t="An unknown error occurred, please check the error payload for server response.";return new ft("unknown",t)}function NL(t){return new ft("object-not-found","Object '"+t+"' does not exist.")}function DL(t){return new ft("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ML(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ft("unauthenticated",t)}function LL(){return new ft("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function UL(t){return new ft("unauthorized","User does not have permission to access '"+t+"'.")}function $L(){return new ft("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function FL(){return new ft("canceled","User canceled the upload/download.")}function jL(t){return new ft("invalid-url","Invalid URL '"+t+"'.")}function BL(t){return new ft("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function zL(){return new ft("no-default-bucket","No default bucket found. Did you set the '"+bT+"' property when initializing the app?")}function VL(){return new ft("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function GL(){return new ft("no-download-url","The given file does not have any download URLs.")}function HL(t){return new ft("unsupported-environment",`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function uv(t){return new ft("invalid-argument",t)}function ST(){return new ft("app-deleted","The Firebase app was deleted.")}function WL(t){return new ft("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function kl(t,e){return new ft("invalid-format","String does not match format '"+t+"': "+e)}function qa(t){throw new ft("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let i;try{i=In.makeFromUrl(e,r)}catch{return new In(e,"")}if(i.path==="")return i;throw BL(e)}static makeFromUrl(e,r){let i=null;const s="([A-Za-z0-9.\\-_]+)";function o(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function h(P){P.path_=decodeURIComponent(P.path)}const f="v[A-Za-z0-9_]+",m=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",S=new RegExp(`^https?://${m}/${f}/b/${s}/o${y}`,"i"),C={bucket:1,path:3},T=r===_T?"(?:storage.googleapis.com|storage.cloud.google.com)":r,A="([^?#]*)",g=new RegExp(`^https?://${T}/${s}/${A}`,"i"),_=[{regex:u,indices:c,postModify:o},{regex:S,indices:C,postModify:h},{regex:g,indices:{bucket:1,path:2},postModify:h}];for(let P=0;P<_.length;P++){const k=_[P],j=k.regex.exec(e);if(j){const O=j[k.indices.bucket];let N=j[k.indices.path];N||(N=""),i=new In(O,N),k.postModify(i);break}}if(i==null)throw jL(e);return i}}class qL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t,e,r){let i=1,s=null,o=null,a=!1,u=0;function c(){return u===2}let h=!1;function f(...A){h||(h=!0,e.apply(null,A))}function m(A){s=setTimeout(()=>{s=null,t(S,c())},A)}function y(){o&&clearTimeout(o)}function S(A,...g){if(h){y();return}if(A){y(),f.call(null,A,...g);return}if(c()||a){y(),f.call(null,A,...g);return}i<64&&(i*=2);let _;u===1?(u=2,_=0):_=(i+Math.random())*1e3,m(_)}let C=!1;function T(A){C||(C=!0,y(),!h&&(s!==null?(A||(u=2),clearTimeout(s),m(0)):A||(u=1)))}return m(0),o=setTimeout(()=>{a=!0,T(!0)},r),T}function KL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){return t!==void 0}function XL(t){return typeof t=="object"&&!Array.isArray(t)}function j0(t){return typeof t=="string"||t instanceof String}function O2(t){return B0()&&t instanceof Blob}function B0(){return typeof Blob<"u"&&!lO()}function R2(t,e,r,i){if(i<e)throw uv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>r)throw uv(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t,e,r){let i=e;return r==null&&(i=`https://${e}`),`${r}://${i}/v0${t}`}function CT(t){const e=encodeURIComponent;let r="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);r=r+s+"&"}return r=r.slice(0,-1),r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Os;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Os||(Os={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t,e){const r=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return r||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,r,i,s,o,a,u,c,h,f,m,y=!0){this.url_=e,this.method_=r,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=m,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,C)=>{this.resolve_=S,this.reject_=C,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new Oc(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=u=>{const c=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const u=o.getErrorCode()===Os.NO_ERROR,c=o.getStatus();if(!u||JL(c,this.additionalRetryCodes_)&&this.retry){const f=o.getErrorCode()===Os.ABORT;i(!1,new Oc(!1,null,f));return}const h=this.successCodes_.indexOf(c)!==-1;i(!0,new Oc(h,o))})},r=(i,s)=>{const o=this.resolve_,a=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());QL(c)?o(c):o()}catch(c){a(c)}else if(u!==null){const c=F0();c.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,c)):a(c)}else if(s.canceled){const c=this.appDelete_?ST():FL();a(c)}else{const c=$L();a(c)}};this.canceled_?r(!1,new Oc(!1,null,!0)):this.backoffId_=YL(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Oc{constructor(e,r,i){this.wasSuccessCode=e,this.connection=r,this.canceled=!!i}}function e8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function t8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function n8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function r8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function i8(t,e,r,i,s,o,a=!0){const u=CT(t.urlParams),c=t.url+u,h=Object.assign({},t.headers);return n8(h,e),e8(h,r),t8(h,o),r8(h,i),new ZL(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function o8(...t){const e=s8();if(e!==void 0){const r=new e;for(let i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}else{if(B0())return new Blob(t);throw new ft("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function a8(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t){if(typeof atob>"u")throw HL("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class um{constructor(e,r){this.data=e,this.contentType=r||null}}function kT(t,e){switch(t){case nr.RAW:return new um(ET(e));case nr.BASE64:case nr.BASE64URL:return new um(xT(t,e));case nr.DATA_URL:return new um(c8(e),h8(e))}throw F0()}function ET(t){const e=[];for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const o=i,a=t.charCodeAt(++r);i=65536|(o&1023)<<10|a&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function u8(t){let e;try{e=decodeURIComponent(t)}catch{throw kl(nr.DATA_URL,"Malformed data URL.")}return ET(e)}function xT(t,e){switch(t){case nr.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw kl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case nr.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw kl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=l8(e)}catch(s){throw s.message.includes("polyfill")?s:kl(t,"Invalid character found")}const i=new Uint8Array(r.length);for(let s=0;s<r.length;s++)i[s]=r.charCodeAt(s);return i}class TT{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw kl(nr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=r[1]||null;i!=null&&(this.base64=d8(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function c8(t){const e=new TT(t);return e.base64?xT(nr.BASE64,e.rest):u8(e.rest)}function h8(t){return new TT(t).contentType}function d8(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,r){let i=0,s="";O2(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,r){if(O2(this.data_)){const i=this.data_,s=a8(i,e,r);return s===null?null:new vi(s)}else{const i=new Uint8Array(this.data_.buffer,e,r-e);return new vi(i,!0)}}static getBlob(...e){if(B0()){const r=e.map(i=>i instanceof vi?i.data_:i);return new vi(o8.apply(null,r))}else{const r=e.map(a=>j0(a)?kT(nr.RAW,a).data:a.data_);let i=0;r.forEach(a=>{i+=a.byteLength});const s=new Uint8Array(i);let o=0;return r.forEach(a=>{for(let u=0;u<a.length;u++)s[o++]=a[u]}),new vi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t){let e;try{e=JSON.parse(t)}catch{return null}return XL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function p8(t,e){const r=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?r:t+"/"+r}function PT(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t,e){return e}class an{constructor(e,r,i,s){this.server=e,this.local=r||e,this.writable=!!i,this.xform=s||m8}}let Rc=null;function g8(t){return!j0(t)||t.length<2?t:PT(t)}function AT(){if(Rc)return Rc;const t=[];t.push(new an("bucket")),t.push(new an("generation")),t.push(new an("metageneration")),t.push(new an("name","fullPath",!0));function e(o,a){return g8(a)}const r=new an("name");r.xform=e,t.push(r);function i(o,a){return a!==void 0?Number(a):a}const s=new an("size");return s.xform=i,t.push(s),t.push(new an("timeCreated")),t.push(new an("updated")),t.push(new an("md5Hash",null,!0)),t.push(new an("cacheControl",null,!0)),t.push(new an("contentDisposition",null,!0)),t.push(new an("contentEncoding",null,!0)),t.push(new an("contentLanguage",null,!0)),t.push(new an("contentType",null,!0)),t.push(new an("metadata","customMetadata",!0)),Rc=t,Rc}function v8(t,e){function r(){const i=t.bucket,s=t.fullPath,o=new In(i,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:r})}function y8(t,e,r){const i={};i.type="file";const s=r.length;for(let o=0;o<s;o++){const a=r[o];i[a.local]=a.xform(i,e[a.server])}return v8(i,t),i}function OT(t,e,r){const i=IT(e);return i===null?null:y8(t,i,r)}function w8(t,e,r,i){const s=IT(e);if(s===null||!j0(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(h=>{const f=t.bucket,m=t.fullPath,y="/b/"+a(f)+"/o/"+a(m),S=z0(y,r,i),C=CT({alt:"media",token:h});return S+C})[0]}function _8(t,e){const r={},i=e.length;for(let s=0;s<i;s++){const o=e[s];o.writable&&(r[o.server]=t[o.local])}return JSON.stringify(r)}class RT{constructor(e,r,i,s){this.url=e,this.method=r,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){if(!t)throw F0()}function b8(t,e){function r(i,s){const o=OT(t,s,e);return NT(o!==null),o}return r}function S8(t,e){function r(i,s){const o=OT(t,s,e);return NT(o!==null),w8(o,s,t.host,t._protocol)}return r}function DT(t){function e(r,i){let s;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?s=LL():s=ML():r.getStatus()===402?s=DL(t.bucket):r.getStatus()===403?s=UL(t.path):s=i,s.status=r.getStatus(),s.serverResponse=i.serverResponse,s}return e}function C8(t){const e=DT(t);function r(i,s){let o=e(i,s);return i.getStatus()===404&&(o=NL(t.path)),o.serverResponse=s.serverResponse,o}return r}function k8(t,e,r){const i=e.fullServerUrl(),s=z0(i,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,u=new RT(s,o,S8(t,r),a);return u.errorHandler=C8(e),u}function E8(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function x8(t,e,r){const i=Object.assign({},r);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=E8(null,e)),i}function T8(t,e,r,i,s){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){let _="";for(let P=0;P<2;P++)_=_+Math.random().toString().slice(2);return _}const c=u();a["Content-Type"]="multipart/related; boundary="+c;const h=x8(e,i,s),f=_8(h,r),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,y=`\r
--`+c+"--",S=vi.getBlob(m,i,y);if(S===null)throw VL();const C={name:h.fullPath},T=z0(o,t.host,t._protocol),A="POST",g=t.maxUploadRetryTime,w=new RT(T,A,b8(t,r),g);return w.urlParams=C,w.headers=a,w.body=S.uploadData(),w.errorHandler=DT(e),w}class I8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Os.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Os.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Os.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,i,s){if(this.sent_)throw qa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class P8 extends I8{initXhr(){this.xhr_.responseType="text"}}function MT(){return new P8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,r){this._service=e,r instanceof In?this._location=r:this._location=In.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Gs(e,r)}get root(){const e=new In(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PT(this._location.path)}get storage(){return this._service}get parent(){const e=f8(this._location.path);if(e===null)return null;const r=new In(this._location.bucket,e);return new Gs(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw WL(e)}}function LT(t,e,r){t._throwIfRoot("uploadBytes");const i=T8(t.storage,t._location,AT(),new vi(e,!0),r);return t.storage.makeRequestWithTokens(i,MT).then(s=>({metadata:s,ref:t}))}function A8(t,e,r=nr.RAW,i){t._throwIfRoot("uploadString");const s=kT(r,e),o=Object.assign({},i);return o.contentType==null&&s.contentType!=null&&(o.contentType=s.contentType),LT(t,s.data,o)}function O8(t){t._throwIfRoot("getDownloadURL");const e=k8(t.storage,t._location,AT());return t.storage.makeRequestWithTokens(e,MT).then(r=>{if(r===null)throw GL();return r})}function R8(t,e){const r=p8(t._location.path,e),i=new In(t._location.bucket,r);return new Gs(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(t){return/^[A-Za-z]+:\/\//.test(t)}function D8(t,e){return new Gs(t,e)}function UT(t,e){if(t instanceof V0){const r=t;if(r._bucket==null)throw zL();const i=new Gs(r,r._bucket);return e!=null?UT(i,e):i}else return e!==void 0?R8(t,e):t}function M8(t,e){if(e&&N8(e)){if(t instanceof V0)return D8(t,e);throw uv("To use ref(service, url), the first argument must be a Storage instance.")}else return UT(t,e)}function N2(t,e){const r=e==null?void 0:e[bT];return r==null?null:In.makeFromBucketSpec(r,t)}function L8(t,e,r,i={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:mk(s,t.app.options.projectId))}class V0{constructor(e,r,i,s,o){this.app=e,this._authProvider=r,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=_T,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=OL,this._maxUploadRetryTime=RL,this._requests=new Set,s!=null?this._bucket=In.makeFromBucketSpec(s,this._host):this._bucket=N2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=In.makeFromBucketSpec(this._url,e):this._bucket=N2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){R2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){R2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gs(this,e)}_makeRequest(e,r,i,s,o=!0){if(this._deleted)return new qL(ST());{const a=i8(e,this._appId,i,s,r,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,r){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,i,s).getPromise()}}const D2="@firebase/storage",M2="0.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="storage";function hd(t,e,r){return t=ot(t),LT(t,e,r)}function U8(t,e,r,i){return t=ot(t),A8(t,e,r,i)}function au(t){return t=ot(t),O8(t)}function Pf(t,e){return t=ot(t),M8(t,e)}function $8(t=My(),e){t=ot(t);const i=Gd(t,$T).getImmediate({identifier:e}),s=fk("storage");return s&&F8(i,...s),i}function F8(t,e,r,i={}){L8(t,e,r,i)}function j8(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new V0(r,i,s,e,ma)}function B8(){$s(new zi($T,j8,"PUBLIC").setMultipleInstances(!0)),br(D2,M2,""),br(D2,M2,"esm2017")}B8();const z8={apiKey:"AIzaSyCnUdF4O_yyzBPoqSUpqpWZ-LmPW28ctcs",authDomain:"neha-8af11.firebaseapp.com",projectId:"neha-8af11",storageBucket:"neha-8af11.appspot.com",messagingSenderId:"361659978686",appId:"1:361659978686:web:2ef56020f30242fca41fef"},G0=yk(z8),Af=$8(G0),Me=pL(G0),oe=ON(G0),Mn=t=>{const[e,r]=Ce.useState(!0),[i,s]=Ce.useState();async function o(){t&&(r(!0),Vs(st(Me,"users",t),a=>{s(a.data())}),r(!1))}return Ce.useEffect(()=>{o()},[t]),{loading:e,userData:i}},V8=(t,e)=>{async function r(){if(oe.currentUser){const i=Pf(Af,"userAvatars/"+oe.currentUser.uid+".png"),s=st(Me,"users",e);t&&await U8(i,t,"data_url");const o=await au(i);await Jt(s,{avatar:o})}}return r},G8=()=>{async function t(e,r){if(e){const i=Pf(Af,"userCovers/"+e),s=st(Me,"users",e);await hd(i,r,{contentType:"image/png"}).then(async()=>{await au(i).then(async o=>{Jt(s,{coverImage:o})})})}}return t};async function H8(t,e){const r=st(Me,"users",t),i=st(Me,"users",e);await Jt(r,{friendRequests:la(e)}),await Jt(r,{friends:aa(e)}),await Jt(i,{friends:aa(t)})}async function W8(t,e){const r=st(Me,"users",e);await Jt(r,{friendRequests:la(t)})}var q8={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"]},Y8=q8,K8={prefix:"fas",iconName:"door-open",icon:[576,512,[],"f52b","M320 32c0-9.9-4.5-19.2-12.3-25.2S289.8-1.4 280.2 1l-179.9 45C79 51.3 64 70.5 64 92.5V448H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H96 288h32V480 32zM256 256c0 17.7-10.7 32-24 32s-24-14.3-24-32s10.7-32 24-32s24 14.3 24 32zm96-128h96V480v32h32 64c17.7 0 32-14.3 32-32s-14.3-32-32-32H512V128c0-35.3-28.7-64-64-64H352v64z"]},Q8={prefix:"fas",iconName:"comments",icon:[640,512,[128490,61670],"f086","M208 352c114.9 0 208-78.8 208-176S322.9 0 208 0S0 78.8 0 176c0 38.6 14.7 74.3 39.6 103.4c-3.5 9.4-8.7 17.7-14.2 24.7c-4.8 6.2-9.7 11-13.3 14.3c-1.8 1.6-3.3 2.9-4.3 3.7c-.5 .4-.9 .7-1.1 .8l-.2 .2 0 0 0 0C1 327.2-1.4 334.4 .8 340.9S9.1 352 16 352c21.8 0 43.8-5.6 62.1-12.5c9.2-3.5 17.8-7.4 25.3-11.4C134.1 343.3 169.8 352 208 352zM448 176c0 112.3-99.1 196.9-216.5 207C255.8 457.4 336.4 512 432 512c38.2 0 73.9-8.7 104.7-23.9c7.5 4 16 7.9 25.2 11.4c18.3 6.9 40.3 12.5 62.1 12.5c6.9 0 13.1-4.5 15.2-11.1c2.1-6.6-.2-13.8-5.8-17.9l0 0 0 0-.2-.2c-.2-.2-.6-.4-1.1-.8c-1-.8-2.5-2-4.3-3.7c-3.6-3.3-8.5-8.1-13.3-14.3c-5.5-7-10.7-15.4-14.2-24.7c24.9-29 39.6-64.7 39.6-103.4c0-92.8-84.9-168.9-192.6-175.5c.4 5.1 .6 10.3 .6 15.5z"]},X8={prefix:"fas",iconName:"user-check",icon:[640,512,[],"f4fc","M352 128c0 70.7-57.3 128-128 128s-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM625 177L497 305c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L591 143c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},L2={prefix:"fas",iconName:"lock",icon:[448,512,[128274],"f023","M144 144v48H304V144c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192V144C80 64.5 144.5 0 224 0s144 64.5 144 144v48h16c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64H80z"]},El={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},J8={prefix:"fas",iconName:"arrow-right-to-bracket",icon:[512,512,["sign-in"],"f090","M352 96l64 0c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c53 0 96-43 96-96l0-256c0-53-43-96-96-96l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32zm-9.4 182.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L242.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"]},Z8={prefix:"fas",iconName:"user-minus",icon:[640,512,[],"f503","M352 128c0 70.7-57.3 128-128 128s-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM472 200H616c13.3 0 24 10.7 24 24s-10.7 24-24 24H472c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},FT={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6h96 32H424c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48z"]},eU={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]},H0={prefix:"fas",iconName:"comment",icon:[512,512,[128489,61669],"f075","M512 240c0 114.9-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6C73.6 471.1 44.7 480 16 480c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4l0 0 0 0 0 0 0 0 .3-.3c.3-.3 .7-.7 1.3-1.4c1.1-1.2 2.8-3.1 4.9-5.7c4.1-5 9.6-12.4 15.2-21.6c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208z"]},tU={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},nU={prefix:"fas",iconName:"hourglass",icon:[384,512,[9203,62032,"hourglass-empty"],"f254","M0 32C0 14.3 14.3 0 32 0H64 320h32c17.7 0 32 14.3 32 32s-14.3 32-32 32V75c0 42.4-16.9 83.1-46.9 113.1L237.3 256l67.9 67.9c30 30 46.9 70.7 46.9 113.1v11c17.7 0 32 14.3 32 32s-14.3 32-32 32H320 64 32c-17.7 0-32-14.3-32-32s14.3-32 32-32V437c0-42.4 16.9-83.1 46.9-113.1L146.7 256 78.9 188.1C48.9 158.1 32 117.4 32 75V64C14.3 64 0 49.7 0 32zM96 64V75c0 25.5 10.1 49.9 28.1 67.9L192 210.7l67.9-67.9c18-18 28.1-42.4 28.1-67.9V64H96zm0 384H288V437c0-25.5-10.1-49.9-28.1-67.9L192 301.3l-67.9 67.9c-18 18-28.1 42.4-28.1 67.9v11z"]},jT={prefix:"fas",iconName:"camera",icon:[512,512,[62258,"camera-alt"],"f030","M149.1 64.8L138.7 96H64C28.7 96 0 124.7 0 160V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H373.3L362.9 64.8C356.4 45.2 338.1 32 317.4 32H194.6c-20.7 0-39 13.2-45.5 32.8zM256 384c-53 0-96-43-96-96s43-96 96-96s96 43 96 96s-43 96-96 96z"]},rU={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},W0=rU,iU={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"]},sU=iU,BT={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},oU={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"]},U2=oU,zT={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M352 128c0 70.7-57.3 128-128 128s-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM504 312V248H440c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V136c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H552v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},aU={prefix:"fas",iconName:"check",icon:[512,512,[10003,10004],"f00c","M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},lU={prefix:"fas",iconName:"share",icon:[512,512,["arrow-turn-right","mail-forward"],"f064","M307 34.8c-11.5 5.1-19 16.6-19 29.2v64H176C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96h96v64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z"]},uU={prefix:"fas",iconName:"paper-plane",icon:[512,512,[61913],"f1d8","M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480V396.4c0-4 1.5-7.8 4.2-10.7L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"]},cU={prefix:"fas",iconName:"x",icon:[384,512,[120],"58","M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z"]};function $2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,i)}return r}function ce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(r),!0).forEach(function(i){At(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function dd(t){return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function hU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F2(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function dU(t,e,r){return e&&F2(t.prototype,e),r&&F2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function At(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q0(t,e){return pU(t)||gU(t,e)||VT(t,e)||yU()}function Hu(t){return fU(t)||mU(t)||VT(t)||vU()}function fU(t){if(Array.isArray(t))return cv(t)}function pU(t){if(Array.isArray(t))return t}function mU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gU(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var i=[],s=!0,o=!1,a,u;try{for(r=r.call(t);!(s=(a=r.next()).done)&&(i.push(a.value),!(e&&i.length===e));s=!0);}catch(c){o=!0,u=c}finally{try{!s&&r.return!=null&&r.return()}finally{if(o)throw u}}return i}}function VT(t,e){if(t){if(typeof t=="string")return cv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cv(t,e)}}function cv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function vU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j2=function(){},Y0={},GT={},HT=null,WT={mark:j2,measure:j2};try{typeof window<"u"&&(Y0=window),typeof document<"u"&&(GT=document),typeof MutationObserver<"u"&&(HT=MutationObserver),typeof performance<"u"&&(WT=performance)}catch{}var wU=Y0.navigator||{},B2=wU.userAgent,z2=B2===void 0?"":B2,qi=Y0,et=GT,V2=HT,Nc=WT;qi.document;var ei=!!et.documentElement&&!!et.head&&typeof et.addEventListener=="function"&&typeof et.createElement=="function",qT=~z2.indexOf("MSIE")||~z2.indexOf("Trident/"),Dc,Mc,Lc,Uc,$c,Kr="___FONT_AWESOME___",hv=16,YT="fa",KT="svg-inline--fa",Hs="data-fa-i2svg",dv="data-fa-pseudo-element",_U="data-fa-pseudo-element-pending",K0="data-prefix",Q0="data-icon",G2="fontawesome-i2svg",bU="async",SU=["HTML","HEAD","STYLE","SCRIPT"],QT=function(){try{return!0}catch{return!1}}(),Xe="classic",ht="sharp",X0=[Xe,ht];function Wu(t){return new Proxy(t,{get:function(r,i){return i in r?r[i]:r[Xe]}})}var lu=Wu((Dc={},At(Dc,Xe,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),At(Dc,ht,{fa:"solid",fass:"solid","fa-solid":"solid"}),Dc)),uu=Wu((Mc={},At(Mc,Xe,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),At(Mc,ht,{solid:"fass"}),Mc)),cu=Wu((Lc={},At(Lc,Xe,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),At(Lc,ht,{fass:"fa-solid"}),Lc)),CU=Wu((Uc={},At(Uc,Xe,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),At(Uc,ht,{"fa-solid":"fass"}),Uc)),kU=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,XT="fa-layers-text",EU=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,xU=Wu(($c={},At($c,Xe,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),At($c,ht,{900:"fass"}),$c)),JT=[1,2,3,4,5,6,7,8,9,10],TU=JT.concat([11,12,13,14,15,16,17,18,19,20]),IU=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ks={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},hu=new Set;Object.keys(uu[Xe]).map(hu.add.bind(hu));Object.keys(uu[ht]).map(hu.add.bind(hu));var PU=[].concat(X0,Hu(hu),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ks.GROUP,ks.SWAP_OPACITY,ks.PRIMARY,ks.SECONDARY]).concat(JT.map(function(t){return"".concat(t,"x")})).concat(TU.map(function(t){return"w-".concat(t)})),xl=qi.FontAwesomeConfig||{};function AU(t){var e=et.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function OU(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(et&&typeof et.querySelector=="function"){var RU=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];RU.forEach(function(t){var e=q0(t,2),r=e[0],i=e[1],s=OU(AU(r));s!=null&&(xl[i]=s)})}var ZT={styleDefault:"solid",familyDefault:"classic",cssPrefix:YT,replacementClass:KT,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};xl.familyPrefix&&(xl.cssPrefix=xl.familyPrefix);var ua=ce(ce({},ZT),xl);ua.autoReplaceSvg||(ua.observeMutations=!1);var fe={};Object.keys(ZT).forEach(function(t){Object.defineProperty(fe,t,{enumerable:!0,set:function(r){ua[t]=r,Tl.forEach(function(i){return i(fe)})},get:function(){return ua[t]}})});Object.defineProperty(fe,"familyPrefix",{enumerable:!0,set:function(e){ua.cssPrefix=e,Tl.forEach(function(r){return r(fe)})},get:function(){return ua.cssPrefix}});qi.FontAwesomeConfig=fe;var Tl=[];function NU(t){return Tl.push(t),function(){Tl.splice(Tl.indexOf(t),1)}}var ii=hv,yr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function DU(t){if(!(!t||!ei)){var e=et.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var r=et.head.childNodes,i=null,s=r.length-1;s>-1;s--){var o=r[s],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(i=o)}return et.head.insertBefore(e,i),t}}var MU="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function du(){for(var t=12,e="";t-- >0;)e+=MU[Math.random()*62|0];return e}function ka(t){for(var e=[],r=(t||[]).length>>>0;r--;)e[r]=t[r];return e}function J0(t){return t.classList?ka(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function eI(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function LU(t){return Object.keys(t||{}).reduce(function(e,r){return e+"".concat(r,'="').concat(eI(t[r]),'" ')},"").trim()}function Of(t){return Object.keys(t||{}).reduce(function(e,r){return e+"".concat(r,": ").concat(t[r].trim(),";")},"")}function Z0(t){return t.size!==yr.size||t.x!==yr.x||t.y!==yr.y||t.rotate!==yr.rotate||t.flipX||t.flipY}function UU(t){var e=t.transform,r=t.containerWidth,i=t.iconWidth,s={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),u="rotate(".concat(e.rotate," 0 0)"),c={transform:"".concat(o," ").concat(a," ").concat(u)},h={transform:"translate(".concat(i/2*-1," -256)")};return{outer:s,inner:c,path:h}}function $U(t){var e=t.transform,r=t.width,i=r===void 0?hv:r,s=t.height,o=s===void 0?hv:s,a=t.startCentered,u=a===void 0?!1:a,c="";return u&&qT?c+="translate(".concat(e.x/ii-i/2,"em, ").concat(e.y/ii-o/2,"em) "):u?c+="translate(calc(-50% + ".concat(e.x/ii,"em), calc(-50% + ").concat(e.y/ii,"em)) "):c+="translate(".concat(e.x/ii,"em, ").concat(e.y/ii,"em) "),c+="scale(".concat(e.size/ii*(e.flipX?-1:1),", ").concat(e.size/ii*(e.flipY?-1:1),") "),c+="rotate(".concat(e.rotate,"deg) "),c}var FU=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function tI(){var t=YT,e=KT,r=fe.cssPrefix,i=fe.replacementClass,s=FU;if(r!==t||i!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),u=new RegExp("\\.".concat(e),"g");s=s.replace(o,".".concat(r,"-")).replace(a,"--".concat(r,"-")).replace(u,".".concat(i))}return s}var H2=!1;function cm(){fe.autoAddCss&&!H2&&(DU(tI()),H2=!0)}var jU={mixout:function(){return{dom:{css:tI,insertCss:cm}}},hooks:function(){return{beforeDOMElementCreation:function(){cm()},beforeI2svg:function(){cm()}}}},Qr=qi||{};Qr[Kr]||(Qr[Kr]={});Qr[Kr].styles||(Qr[Kr].styles={});Qr[Kr].hooks||(Qr[Kr].hooks={});Qr[Kr].shims||(Qr[Kr].shims=[]);var rr=Qr[Kr],nI=[],BU=function t(){et.removeEventListener("DOMContentLoaded",t),fd=1,nI.map(function(e){return e()})},fd=!1;ei&&(fd=(et.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(et.readyState),fd||et.addEventListener("DOMContentLoaded",BU));function zU(t){ei&&(fd?setTimeout(t,0):nI.push(t))}function qu(t){var e=t.tag,r=t.attributes,i=r===void 0?{}:r,s=t.children,o=s===void 0?[]:s;return typeof t=="string"?eI(t):"<".concat(e," ").concat(LU(i),">").concat(o.map(qu).join(""),"</").concat(e,">")}function W2(t,e,r){if(t&&t[e]&&t[e][r])return{prefix:e,iconName:r,icon:t[e][r]}}var VU=function(e,r){return function(i,s,o,a){return e.call(r,i,s,o,a)}},hm=function(e,r,i,s){var o=Object.keys(e),a=o.length,u=s!==void 0?VU(r,s):r,c,h,f;for(i===void 0?(c=1,f=e[o[0]]):(c=0,f=i);c<a;c++)h=o[c],f=u(f,e[h],h,e);return f};function GU(t){for(var e=[],r=0,i=t.length;r<i;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<i){var o=t.charCodeAt(r++);(o&64512)==56320?e.push(((s&1023)<<10)+(o&1023)+65536):(e.push(s),r--)}else e.push(s)}return e}function fv(t){var e=GU(t);return e.length===1?e[0].toString(16):null}function HU(t,e){var r=t.length,i=t.charCodeAt(e),s;return i>=55296&&i<=56319&&r>e+1&&(s=t.charCodeAt(e+1),s>=56320&&s<=57343)?(i-55296)*1024+s-56320+65536:i}function q2(t){return Object.keys(t).reduce(function(e,r){var i=t[r],s=!!i.icon;return s?e[i.iconName]=i.icon:e[r]=i,e},{})}function pv(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.skipHooks,s=i===void 0?!1:i,o=q2(e);typeof rr.hooks.addPack=="function"&&!s?rr.hooks.addPack(t,q2(e)):rr.styles[t]=ce(ce({},rr.styles[t]||{}),o),t==="fas"&&pv("fa",e)}var Fc,jc,Bc,xo=rr.styles,WU=rr.shims,qU=(Fc={},At(Fc,Xe,Object.values(cu[Xe])),At(Fc,ht,Object.values(cu[ht])),Fc),e1=null,rI={},iI={},sI={},oI={},aI={},YU=(jc={},At(jc,Xe,Object.keys(lu[Xe])),At(jc,ht,Object.keys(lu[ht])),jc);function KU(t){return~PU.indexOf(t)}function QU(t,e){var r=e.split("-"),i=r[0],s=r.slice(1).join("-");return i===t&&s!==""&&!KU(s)?s:null}var lI=function(){var e=function(o){return hm(xo,function(a,u,c){return a[c]=hm(u,o,{}),a},{})};rI=e(function(s,o,a){if(o[3]&&(s[o[3]]=a),o[2]){var u=o[2].filter(function(c){return typeof c=="number"});u.forEach(function(c){s[c.toString(16)]=a})}return s}),iI=e(function(s,o,a){if(s[a]=a,o[2]){var u=o[2].filter(function(c){return typeof c=="string"});u.forEach(function(c){s[c]=a})}return s}),aI=e(function(s,o,a){var u=o[2];return s[a]=a,u.forEach(function(c){s[c]=a}),s});var r="far"in xo||fe.autoFetchSvg,i=hm(WU,function(s,o){var a=o[0],u=o[1],c=o[2];return u==="far"&&!r&&(u="fas"),typeof a=="string"&&(s.names[a]={prefix:u,iconName:c}),typeof a=="number"&&(s.unicodes[a.toString(16)]={prefix:u,iconName:c}),s},{names:{},unicodes:{}});sI=i.names,oI=i.unicodes,e1=Rf(fe.styleDefault,{family:fe.familyDefault})};NU(function(t){e1=Rf(t.styleDefault,{family:fe.familyDefault})});lI();function t1(t,e){return(rI[t]||{})[e]}function XU(t,e){return(iI[t]||{})[e]}function Es(t,e){return(aI[t]||{})[e]}function uI(t){return sI[t]||{prefix:null,iconName:null}}function JU(t){var e=oI[t],r=t1("fas",t);return e||(r?{prefix:"fas",iconName:r}:null)||{prefix:null,iconName:null}}function Yi(){return e1}var n1=function(){return{prefix:null,iconName:null,rest:[]}};function Rf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.family,i=r===void 0?Xe:r,s=lu[i][t],o=uu[i][t]||uu[i][s],a=t in rr.styles?t:null;return o||a||null}var Y2=(Bc={},At(Bc,Xe,Object.keys(cu[Xe])),At(Bc,ht,Object.keys(cu[ht])),Bc);function Nf(t){var e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.skipLookups,s=i===void 0?!1:i,o=(e={},At(e,Xe,"".concat(fe.cssPrefix,"-").concat(Xe)),At(e,ht,"".concat(fe.cssPrefix,"-").concat(ht)),e),a=null,u=Xe;(t.includes(o[Xe])||t.some(function(h){return Y2[Xe].includes(h)}))&&(u=Xe),(t.includes(o[ht])||t.some(function(h){return Y2[ht].includes(h)}))&&(u=ht);var c=t.reduce(function(h,f){var m=QU(fe.cssPrefix,f);if(xo[f]?(f=qU[u].includes(f)?CU[u][f]:f,a=f,h.prefix=f):YU[u].indexOf(f)>-1?(a=f,h.prefix=Rf(f,{family:u})):m?h.iconName=m:f!==fe.replacementClass&&f!==o[Xe]&&f!==o[ht]&&h.rest.push(f),!s&&h.prefix&&h.iconName){var y=a==="fa"?uI(h.iconName):{},S=Es(h.prefix,h.iconName);y.prefix&&(a=null),h.iconName=y.iconName||S||h.iconName,h.prefix=y.prefix||h.prefix,h.prefix==="far"&&!xo.far&&xo.fas&&!fe.autoFetchSvg&&(h.prefix="fas")}return h},n1());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&u===ht&&(xo.fass||fe.autoFetchSvg)&&(c.prefix="fass",c.iconName=Es(c.prefix,c.iconName)||c.iconName),(c.prefix==="fa"||a==="fa")&&(c.prefix=Yi()||"fas"),c}var ZU=function(){function t(){hU(this,t),this.definitions={}}return dU(t,[{key:"add",value:function(){for(var r=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var a=s.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(u){r.definitions[u]=ce(ce({},r.definitions[u]||{}),a[u]),pv(u,a[u]);var c=cu[Xe][u];c&&pv(c,a[u]),lI()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(r,i){var s=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(s).map(function(o){var a=s[o],u=a.prefix,c=a.iconName,h=a.icon,f=h[2];r[u]||(r[u]={}),f.length>0&&f.forEach(function(m){typeof m=="string"&&(r[u][m]=h)}),r[u][c]=h}),r}}]),t}(),K2=[],To={},jo={},e$=Object.keys(jo);function t$(t,e){var r=e.mixoutsTo;return K2=t,To={},Object.keys(jo).forEach(function(i){e$.indexOf(i)===-1&&delete jo[i]}),K2.forEach(function(i){var s=i.mixout?i.mixout():{};if(Object.keys(s).forEach(function(a){typeof s[a]=="function"&&(r[a]=s[a]),dd(s[a])==="object"&&Object.keys(s[a]).forEach(function(u){r[a]||(r[a]={}),r[a][u]=s[a][u]})}),i.hooks){var o=i.hooks();Object.keys(o).forEach(function(a){To[a]||(To[a]=[]),To[a].push(o[a])})}i.provides&&i.provides(jo)}),r}function mv(t,e){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];var o=To[t]||[];return o.forEach(function(a){e=a.apply(null,[e].concat(i))}),e}function Ws(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];var s=To[t]||[];s.forEach(function(o){o.apply(null,r)})}function Xr(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return jo[t]?jo[t].apply(null,e):void 0}function gv(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,r=t.prefix||Yi();if(e)return e=Es(r,e)||e,W2(cI.definitions,r,e)||W2(rr.styles,r,e)}var cI=new ZU,n$=function(){fe.autoReplaceSvg=!1,fe.observeMutations=!1,Ws("noAuto")},r$={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ei?(Ws("beforeI2svg",e),Xr("pseudoElements2svg",e),Xr("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.autoReplaceSvgRoot;fe.autoReplaceSvg===!1&&(fe.autoReplaceSvg=!0),fe.observeMutations=!0,zU(function(){s$({autoReplaceSvgRoot:r}),Ws("watch",e)})}},i$={icon:function(e){if(e===null)return null;if(dd(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Es(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var r=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],i=Rf(e[0]);return{prefix:i,iconName:Es(i,r)||r}}if(typeof e=="string"&&(e.indexOf("".concat(fe.cssPrefix,"-"))>-1||e.match(kU))){var s=Nf(e.split(" "),{skipLookups:!0});return{prefix:s.prefix||Yi(),iconName:Es(s.prefix,s.iconName)||s.iconName}}if(typeof e=="string"){var o=Yi();return{prefix:o,iconName:Es(o,e)||e}}}},Ln={noAuto:n$,config:fe,dom:r$,parse:i$,library:cI,findIconDefinition:gv,toHtml:qu},s$=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.autoReplaceSvgRoot,i=r===void 0?et:r;(Object.keys(rr.styles).length>0||fe.autoFetchSvg)&&ei&&fe.autoReplaceSvg&&Ln.dom.i2svg({node:i})};function Df(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(i){return qu(i)})}}),Object.defineProperty(t,"node",{get:function(){if(ei){var i=et.createElement("div");return i.innerHTML=t.html,i.children}}}),t}function o$(t){var e=t.children,r=t.main,i=t.mask,s=t.attributes,o=t.styles,a=t.transform;if(Z0(a)&&r.found&&!i.found){var u=r.width,c=r.height,h={x:u/c/2,y:.5};s.style=Of(ce(ce({},o),{},{"transform-origin":"".concat(h.x+a.x/16,"em ").concat(h.y+a.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function a$(t){var e=t.prefix,r=t.iconName,i=t.children,s=t.attributes,o=t.symbol,a=o===!0?"".concat(e,"-").concat(fe.cssPrefix,"-").concat(r):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ce(ce({},s),{},{id:a}),children:i}]}]}function r1(t){var e=t.icons,r=e.main,i=e.mask,s=t.prefix,o=t.iconName,a=t.transform,u=t.symbol,c=t.title,h=t.maskId,f=t.titleId,m=t.extra,y=t.watchable,S=y===void 0?!1:y,C=i.found?i:r,T=C.width,A=C.height,g=s==="fak",w=[fe.replacementClass,o?"".concat(fe.cssPrefix,"-").concat(o):""].filter(function(F){return m.classes.indexOf(F)===-1}).filter(function(F){return F!==""||!!F}).concat(m.classes).join(" "),_={children:[],attributes:ce(ce({},m.attributes),{},{"data-prefix":s,"data-icon":o,class:w,role:m.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(T," ").concat(A)})},P=g&&!~m.classes.indexOf("fa-fw")?{width:"".concat(T/A*16*.0625,"em")}:{};S&&(_.attributes[Hs]=""),c&&(_.children.push({tag:"title",attributes:{id:_.attributes["aria-labelledby"]||"title-".concat(f||du())},children:[c]}),delete _.attributes.title);var k=ce(ce({},_),{},{prefix:s,iconName:o,main:r,mask:i,maskId:h,transform:a,symbol:u,styles:ce(ce({},P),m.styles)}),j=i.found&&r.found?Xr("generateAbstractMask",k)||{children:[],attributes:{}}:Xr("generateAbstractIcon",k)||{children:[],attributes:{}},O=j.children,N=j.attributes;return k.children=O,k.attributes=N,u?a$(k):o$(k)}function Q2(t){var e=t.content,r=t.width,i=t.height,s=t.transform,o=t.title,a=t.extra,u=t.watchable,c=u===void 0?!1:u,h=ce(ce(ce({},a.attributes),o?{title:o}:{}),{},{class:a.classes.join(" ")});c&&(h[Hs]="");var f=ce({},a.styles);Z0(s)&&(f.transform=$U({transform:s,startCentered:!0,width:r,height:i}),f["-webkit-transform"]=f.transform);var m=Of(f);m.length>0&&(h.style=m);var y=[];return y.push({tag:"span",attributes:h,children:[e]}),o&&y.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),y}function l$(t){var e=t.content,r=t.title,i=t.extra,s=ce(ce(ce({},i.attributes),r?{title:r}:{}),{},{class:i.classes.join(" ")}),o=Of(i.styles);o.length>0&&(s.style=o);var a=[];return a.push({tag:"span",attributes:s,children:[e]}),r&&a.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),a}var dm=rr.styles;function vv(t){var e=t[0],r=t[1],i=t.slice(4),s=q0(i,1),o=s[0],a=null;return Array.isArray(o)?a={tag:"g",attributes:{class:"".concat(fe.cssPrefix,"-").concat(ks.GROUP)},children:[{tag:"path",attributes:{class:"".concat(fe.cssPrefix,"-").concat(ks.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(fe.cssPrefix,"-").concat(ks.PRIMARY),fill:"currentColor",d:o[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:o}},{found:!0,width:e,height:r,icon:a}}var u$={found:!1,width:512,height:512};function c$(t,e){!QT&&!fe.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function yv(t,e){var r=e;return e==="fa"&&fe.styleDefault!==null&&(e=Yi()),new Promise(function(i,s){if(Xr("missingIconAbstract"),r==="fa"){var o=uI(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&dm[e]&&dm[e][t]){var a=dm[e][t];return i(vv(a))}c$(t,e),i(ce(ce({},u$),{},{icon:fe.showMissingIcons&&t?Xr("missingIconAbstract")||{}:{}}))})}var X2=function(){},wv=fe.measurePerformance&&Nc&&Nc.mark&&Nc.measure?Nc:{mark:X2,measure:X2},ll='FA "6.2.1"',h$=function(e){return wv.mark("".concat(ll," ").concat(e," begins")),function(){return hI(e)}},hI=function(e){wv.mark("".concat(ll," ").concat(e," ends")),wv.measure("".concat(ll," ").concat(e),"".concat(ll," ").concat(e," begins"),"".concat(ll," ").concat(e," ends"))},i1={begin:h$,end:hI},hh=function(){};function J2(t){var e=t.getAttribute?t.getAttribute(Hs):null;return typeof e=="string"}function d$(t){var e=t.getAttribute?t.getAttribute(K0):null,r=t.getAttribute?t.getAttribute(Q0):null;return e&&r}function f$(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(fe.replacementClass)}function p$(){if(fe.autoReplaceSvg===!0)return dh.replace;var t=dh[fe.autoReplaceSvg];return t||dh.replace}function m$(t){return et.createElementNS("http://www.w3.org/2000/svg",t)}function g$(t){return et.createElement(t)}function dI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.ceFn,i=r===void 0?t.tag==="svg"?m$:g$:r;if(typeof t=="string")return et.createTextNode(t);var s=i(t.tag);Object.keys(t.attributes||[]).forEach(function(a){s.setAttribute(a,t.attributes[a])});var o=t.children||[];return o.forEach(function(a){s.appendChild(dI(a,{ceFn:i}))}),s}function v$(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var dh={replace:function(e){var r=e[0];if(r.parentNode)if(e[1].forEach(function(s){r.parentNode.insertBefore(dI(s),r)}),r.getAttribute(Hs)===null&&fe.keepOriginalSource){var i=et.createComment(v$(r));r.parentNode.replaceChild(i,r)}else r.remove()},nest:function(e){var r=e[0],i=e[1];if(~J0(r).indexOf(fe.replacementClass))return dh.replace(e);var s=new RegExp("".concat(fe.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var o=i[0].attributes.class.split(" ").reduce(function(u,c){return c===fe.replacementClass||c.match(s)?u.toSvg.push(c):u.toNode.push(c),u},{toNode:[],toSvg:[]});i[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?r.removeAttribute("class"):r.setAttribute("class",o.toNode.join(" "))}var a=i.map(function(u){return qu(u)}).join(`
`);r.setAttribute(Hs,""),r.innerHTML=a}};function Z2(t){t()}function fI(t,e){var r=typeof e=="function"?e:hh;if(t.length===0)r();else{var i=Z2;fe.mutateApproach===bU&&(i=qi.requestAnimationFrame||Z2),i(function(){var s=p$(),o=i1.begin("mutate");t.map(s),o(),r()})}}var s1=!1;function pI(){s1=!0}function _v(){s1=!1}var pd=null;function eb(t){if(V2&&fe.observeMutations){var e=t.treeCallback,r=e===void 0?hh:e,i=t.nodeCallback,s=i===void 0?hh:i,o=t.pseudoElementsCallback,a=o===void 0?hh:o,u=t.observeMutationsRoot,c=u===void 0?et:u;pd=new V2(function(h){if(!s1){var f=Yi();ka(h).forEach(function(m){if(m.type==="childList"&&m.addedNodes.length>0&&!J2(m.addedNodes[0])&&(fe.searchPseudoElements&&a(m.target),r(m.target)),m.type==="attributes"&&m.target.parentNode&&fe.searchPseudoElements&&a(m.target.parentNode),m.type==="attributes"&&J2(m.target)&&~IU.indexOf(m.attributeName))if(m.attributeName==="class"&&d$(m.target)){var y=Nf(J0(m.target)),S=y.prefix,C=y.iconName;m.target.setAttribute(K0,S||f),C&&m.target.setAttribute(Q0,C)}else f$(m.target)&&s(m.target)})}}),ei&&pd.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function y$(){pd&&pd.disconnect()}function w$(t){var e=t.getAttribute("style"),r=[];return e&&(r=e.split(";").reduce(function(i,s){var o=s.split(":"),a=o[0],u=o.slice(1);return a&&u.length>0&&(i[a]=u.join(":").trim()),i},{})),r}function _$(t){var e=t.getAttribute("data-prefix"),r=t.getAttribute("data-icon"),i=t.innerText!==void 0?t.innerText.trim():"",s=Nf(J0(t));return s.prefix||(s.prefix=Yi()),e&&r&&(s.prefix=e,s.iconName=r),s.iconName&&s.prefix||(s.prefix&&i.length>0&&(s.iconName=XU(s.prefix,t.innerText)||t1(s.prefix,fv(t.innerText))),!s.iconName&&fe.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function b$(t){var e=ka(t.attributes).reduce(function(s,o){return s.name!=="class"&&s.name!=="style"&&(s[o.name]=o.value),s},{}),r=t.getAttribute("title"),i=t.getAttribute("data-fa-title-id");return fe.autoA11y&&(r?e["aria-labelledby"]="".concat(fe.replacementClass,"-title-").concat(i||du()):(e["aria-hidden"]="true",e.focusable="false")),e}function S$(){return{iconName:null,title:null,titleId:null,prefix:null,transform:yr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function tb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},r=_$(t),i=r.iconName,s=r.prefix,o=r.rest,a=b$(t),u=mv("parseNodeAttributes",{},t),c=e.styleParser?w$(t):[];return ce({iconName:i,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:s,transform:yr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:c,attributes:a}},u)}var C$=rr.styles;function mI(t){var e=fe.autoReplaceSvg==="nest"?tb(t,{styleParser:!1}):tb(t);return~e.extra.classes.indexOf(XT)?Xr("generateLayersText",t,e):Xr("generateSvgReplacementMutation",t,e)}var Ki=new Set;X0.map(function(t){Ki.add("fa-".concat(t))});Object.keys(lu[Xe]).map(Ki.add.bind(Ki));Object.keys(lu[ht]).map(Ki.add.bind(Ki));Ki=Hu(Ki);function nb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ei)return Promise.resolve();var r=et.documentElement.classList,i=function(m){return r.add("".concat(G2,"-").concat(m))},s=function(m){return r.remove("".concat(G2,"-").concat(m))},o=fe.autoFetchSvg?Ki:X0.map(function(f){return"fa-".concat(f)}).concat(Object.keys(C$));o.includes("fa")||o.push("fa");var a=[".".concat(XT,":not([").concat(Hs,"])")].concat(o.map(function(f){return".".concat(f,":not([").concat(Hs,"])")})).join(", ");if(a.length===0)return Promise.resolve();var u=[];try{u=ka(t.querySelectorAll(a))}catch{}if(u.length>0)i("pending"),s("complete");else return Promise.resolve();var c=i1.begin("onTree"),h=u.reduce(function(f,m){try{var y=mI(m);y&&f.push(y)}catch(S){QT||S.name==="MissingIcon"&&console.error(S)}return f},[]);return new Promise(function(f,m){Promise.all(h).then(function(y){fI(y,function(){i("active"),i("complete"),s("pending"),typeof e=="function"&&e(),c(),f()})}).catch(function(y){c(),m(y)})})}function k$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;mI(t).then(function(r){r&&fI([r],e)})}function E$(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(e||{}).icon?e:gv(e||{}),s=r.mask;return s&&(s=(s||{}).icon?s:gv(s||{})),t(i,ce(ce({},r),{},{mask:s}))}}var x$=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,s=i===void 0?yr:i,o=r.symbol,a=o===void 0?!1:o,u=r.mask,c=u===void 0?null:u,h=r.maskId,f=h===void 0?null:h,m=r.title,y=m===void 0?null:m,S=r.titleId,C=S===void 0?null:S,T=r.classes,A=T===void 0?[]:T,g=r.attributes,w=g===void 0?{}:g,_=r.styles,P=_===void 0?{}:_;if(e){var k=e.prefix,j=e.iconName,O=e.icon;return Df(ce({type:"icon"},e),function(){return Ws("beforeDOMElementCreation",{iconDefinition:e,params:r}),fe.autoA11y&&(y?w["aria-labelledby"]="".concat(fe.replacementClass,"-title-").concat(C||du()):(w["aria-hidden"]="true",w.focusable="false")),r1({icons:{main:vv(O),mask:c?vv(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:k,iconName:j,transform:ce(ce({},yr),s),symbol:a,title:y,maskId:f,titleId:C,extra:{attributes:w,styles:P,classes:A}})})}},T$={mixout:function(){return{icon:E$(x$)}},hooks:function(){return{mutationObserverCallbacks:function(r){return r.treeCallback=nb,r.nodeCallback=k$,r}}},provides:function(e){e.i2svg=function(r){var i=r.node,s=i===void 0?et:i,o=r.callback,a=o===void 0?function(){}:o;return nb(s,a)},e.generateSvgReplacementMutation=function(r,i){var s=i.iconName,o=i.title,a=i.titleId,u=i.prefix,c=i.transform,h=i.symbol,f=i.mask,m=i.maskId,y=i.extra;return new Promise(function(S,C){Promise.all([yv(s,u),f.iconName?yv(f.iconName,f.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(T){var A=q0(T,2),g=A[0],w=A[1];S([r,r1({icons:{main:g,mask:w},prefix:u,iconName:s,transform:c,symbol:h,maskId:m,title:o,titleId:a,extra:y,watchable:!0})])}).catch(C)})},e.generateAbstractIcon=function(r){var i=r.children,s=r.attributes,o=r.main,a=r.transform,u=r.styles,c=Of(u);c.length>0&&(s.style=c);var h;return Z0(a)&&(h=Xr("generateAbstractTransformGrouping",{main:o,transform:a,containerWidth:o.width,iconWidth:o.width})),i.push(h||o.icon),{children:i,attributes:s}}}},I$={mixout:function(){return{layer:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.classes,o=s===void 0?[]:s;return Df({type:"layer"},function(){Ws("beforeDOMElementCreation",{assembler:r,params:i});var a=[];return r(function(u){Array.isArray(u)?u.map(function(c){a=a.concat(c.abstract)}):a=a.concat(u.abstract)}),[{tag:"span",attributes:{class:["".concat(fe.cssPrefix,"-layers")].concat(Hu(o)).join(" ")},children:a}]})}}}},P$={mixout:function(){return{counter:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.title,o=s===void 0?null:s,a=i.classes,u=a===void 0?[]:a,c=i.attributes,h=c===void 0?{}:c,f=i.styles,m=f===void 0?{}:f;return Df({type:"counter",content:r},function(){return Ws("beforeDOMElementCreation",{content:r,params:i}),l$({content:r.toString(),title:o,extra:{attributes:h,styles:m,classes:["".concat(fe.cssPrefix,"-layers-counter")].concat(Hu(u))}})})}}}},A$={mixout:function(){return{text:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.transform,o=s===void 0?yr:s,a=i.title,u=a===void 0?null:a,c=i.classes,h=c===void 0?[]:c,f=i.attributes,m=f===void 0?{}:f,y=i.styles,S=y===void 0?{}:y;return Df({type:"text",content:r},function(){return Ws("beforeDOMElementCreation",{content:r,params:i}),Q2({content:r,transform:ce(ce({},yr),o),title:u,extra:{attributes:m,styles:S,classes:["".concat(fe.cssPrefix,"-layers-text")].concat(Hu(h))}})})}}},provides:function(e){e.generateLayersText=function(r,i){var s=i.title,o=i.transform,a=i.extra,u=null,c=null;if(qT){var h=parseInt(getComputedStyle(r).fontSize,10),f=r.getBoundingClientRect();u=f.width/h,c=f.height/h}return fe.autoA11y&&!s&&(a.attributes["aria-hidden"]="true"),Promise.resolve([r,Q2({content:r.innerHTML,width:u,height:c,transform:o,title:s,extra:a,watchable:!0})])}}},O$=new RegExp('"',"ug"),rb=[1105920,1112319];function R$(t){var e=t.replace(O$,""),r=HU(e,0),i=r>=rb[0]&&r<=rb[1],s=e.length===2?e[0]===e[1]:!1;return{value:fv(s?e[0]:e),isSecondary:i||s}}function ib(t,e){var r="".concat(_U).concat(e.replace(":","-"));return new Promise(function(i,s){if(t.getAttribute(r)!==null)return i();var o=ka(t.children),a=o.filter(function(O){return O.getAttribute(dv)===e})[0],u=qi.getComputedStyle(t,e),c=u.getPropertyValue("font-family").match(EU),h=u.getPropertyValue("font-weight"),f=u.getPropertyValue("content");if(a&&!c)return t.removeChild(a),i();if(c&&f!=="none"&&f!==""){var m=u.getPropertyValue("content"),y=~["Sharp"].indexOf(c[2])?ht:Xe,S=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?uu[y][c[2].toLowerCase()]:xU[y][h],C=R$(m),T=C.value,A=C.isSecondary,g=c[0].startsWith("FontAwesome"),w=t1(S,T),_=w;if(g){var P=JU(T);P.iconName&&P.prefix&&(w=P.iconName,S=P.prefix)}if(w&&!A&&(!a||a.getAttribute(K0)!==S||a.getAttribute(Q0)!==_)){t.setAttribute(r,_),a&&t.removeChild(a);var k=S$(),j=k.extra;j.attributes[dv]=e,yv(w,S).then(function(O){var N=r1(ce(ce({},k),{},{icons:{main:O,mask:n1()},prefix:S,iconName:_,extra:j,watchable:!0})),F=et.createElement("svg");e==="::before"?t.insertBefore(F,t.firstChild):t.appendChild(F),F.outerHTML=N.map(function($){return qu($)}).join(`
`),t.removeAttribute(r),i()}).catch(s)}else i()}else i()})}function N$(t){return Promise.all([ib(t,"::before"),ib(t,"::after")])}function D$(t){return t.parentNode!==document.head&&!~SU.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(dv)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function sb(t){if(ei)return new Promise(function(e,r){var i=ka(t.querySelectorAll("*")).filter(D$).map(N$),s=i1.begin("searchPseudoElements");pI(),Promise.all(i).then(function(){s(),_v(),e()}).catch(function(){s(),_v(),r()})})}var M$={hooks:function(){return{mutationObserverCallbacks:function(r){return r.pseudoElementsCallback=sb,r}}},provides:function(e){e.pseudoElements2svg=function(r){var i=r.node,s=i===void 0?et:i;fe.searchPseudoElements&&sb(s)}}},ob=!1,L$={mixout:function(){return{dom:{unwatch:function(){pI(),ob=!0}}}},hooks:function(){return{bootstrap:function(){eb(mv("mutationObserverCallbacks",{}))},noAuto:function(){y$()},watch:function(r){var i=r.observeMutationsRoot;ob?_v():eb(mv("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},ab=function(e){var r={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(i,s){var o=s.toLowerCase().split("-"),a=o[0],u=o.slice(1).join("-");if(a&&u==="h")return i.flipX=!0,i;if(a&&u==="v")return i.flipY=!0,i;if(u=parseFloat(u),isNaN(u))return i;switch(a){case"grow":i.size=i.size+u;break;case"shrink":i.size=i.size-u;break;case"left":i.x=i.x-u;break;case"right":i.x=i.x+u;break;case"up":i.y=i.y-u;break;case"down":i.y=i.y+u;break;case"rotate":i.rotate=i.rotate+u;break}return i},r)},U$={mixout:function(){return{parse:{transform:function(r){return ab(r)}}}},hooks:function(){return{parseNodeAttributes:function(r,i){var s=i.getAttribute("data-fa-transform");return s&&(r.transform=ab(s)),r}}},provides:function(e){e.generateAbstractTransformGrouping=function(r){var i=r.main,s=r.transform,o=r.containerWidth,a=r.iconWidth,u={transform:"translate(".concat(o/2," 256)")},c="translate(".concat(s.x*32,", ").concat(s.y*32,") "),h="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),f="rotate(".concat(s.rotate," 0 0)"),m={transform:"".concat(c," ").concat(h," ").concat(f)},y={transform:"translate(".concat(a/2*-1," -256)")},S={outer:u,inner:m,path:y};return{tag:"g",attributes:ce({},S.outer),children:[{tag:"g",attributes:ce({},S.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:ce(ce({},i.icon.attributes),S.path)}]}]}}}},fm={x:0,y:0,width:"100%",height:"100%"};function lb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function $$(t){return t.tag==="g"?t.children:[t]}var F$={hooks:function(){return{parseNodeAttributes:function(r,i){var s=i.getAttribute("data-fa-mask"),o=s?Nf(s.split(" ").map(function(a){return a.trim()})):n1();return o.prefix||(o.prefix=Yi()),r.mask=o,r.maskId=i.getAttribute("data-fa-mask-id"),r}}},provides:function(e){e.generateAbstractMask=function(r){var i=r.children,s=r.attributes,o=r.main,a=r.mask,u=r.maskId,c=r.transform,h=o.width,f=o.icon,m=a.width,y=a.icon,S=UU({transform:c,containerWidth:m,iconWidth:h}),C={tag:"rect",attributes:ce(ce({},fm),{},{fill:"white"})},T=f.children?{children:f.children.map(lb)}:{},A={tag:"g",attributes:ce({},S.inner),children:[lb(ce({tag:f.tag,attributes:ce(ce({},f.attributes),S.path)},T))]},g={tag:"g",attributes:ce({},S.outer),children:[A]},w="mask-".concat(u||du()),_="clip-".concat(u||du()),P={tag:"mask",attributes:ce(ce({},fm),{},{id:w,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[C,g]},k={tag:"defs",children:[{tag:"clipPath",attributes:{id:_},children:$$(y)},P]};return i.push(k,{tag:"rect",attributes:ce({fill:"currentColor","clip-path":"url(#".concat(_,")"),mask:"url(#".concat(w,")")},fm)}),{children:i,attributes:s}}}},j$={provides:function(e){var r=!1;qi.matchMedia&&(r=qi.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var i=[],s={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:ce(ce({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=ce(ce({},o),{},{attributeName:"opacity"}),u={tag:"circle",attributes:ce(ce({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return r||u.children.push({tag:"animate",attributes:ce(ce({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ce(ce({},a),{},{values:"1;0;1;1;0;1;"})}),i.push(u),i.push({tag:"path",attributes:ce(ce({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:r?[]:[{tag:"animate",attributes:ce(ce({},a),{},{values:"1;0;0;0;0;1;"})}]}),r||i.push({tag:"path",attributes:ce(ce({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ce(ce({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},B$={hooks:function(){return{parseNodeAttributes:function(r,i){var s=i.getAttribute("data-fa-symbol"),o=s===null?!1:s===""?!0:s;return r.symbol=o,r}}}},z$=[jU,T$,I$,P$,A$,M$,L$,U$,F$,j$,B$];t$(z$,{mixoutsTo:Ln});Ln.noAuto;Ln.config;Ln.library;Ln.dom;var bv=Ln.parse;Ln.findIconDefinition;Ln.toHtml;var V$=Ln.icon;Ln.layer;Ln.text;Ln.counter;var xe={},G$={get exports(){return xe},set exports(t){xe=t}},H$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",W$=H$,q$=W$;function gI(){}function vI(){}vI.resetWarningCache=gI;var Y$=function(){function t(i,s,o,a,u,c){if(c!==q$){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:vI,resetWarningCache:gI};return r.PropTypes=r,r};G$.exports=Y$();function ub(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,i)}return r}function Ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ub(Object(r),!0).forEach(function(i){Io(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ub(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function md(t){return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function Io(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K$(t,e){if(t==null)return{};var r={},i=Object.keys(t),s,o;for(o=0;o<i.length;o++)s=i[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Q$(t,e){if(t==null)return{};var r=K$(t,e),i,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)i=o[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}function Sv(t){return X$(t)||J$(t)||Z$(t)||e7()}function X$(t){if(Array.isArray(t))return Cv(t)}function J$(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Z$(t,e){if(t){if(typeof t=="string")return Cv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cv(t,e)}}function Cv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function e7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t7(t){var e,r=t.beat,i=t.fade,s=t.beatFade,o=t.bounce,a=t.shake,u=t.flash,c=t.spin,h=t.spinPulse,f=t.spinReverse,m=t.pulse,y=t.fixedWidth,S=t.inverse,C=t.border,T=t.listItem,A=t.flip,g=t.size,w=t.rotation,_=t.pull,P=(e={"fa-beat":r,"fa-fade":i,"fa-beat-fade":s,"fa-bounce":o,"fa-shake":a,"fa-flash":u,"fa-spin":c,"fa-spin-reverse":f,"fa-spin-pulse":h,"fa-pulse":m,"fa-fw":y,"fa-inverse":S,"fa-border":C,"fa-li":T,"fa-flip":A===!0,"fa-flip-horizontal":A==="horizontal"||A==="both","fa-flip-vertical":A==="vertical"||A==="both"},Io(e,"fa-".concat(g),typeof g<"u"&&g!==null),Io(e,"fa-rotate-".concat(w),typeof w<"u"&&w!==null&&w!==0),Io(e,"fa-pull-".concat(_),typeof _<"u"&&_!==null),Io(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(P).map(function(k){return P[k]?k:null}).filter(function(k){return k})}function n7(t){return t=t-0,t===t}function yI(t){return n7(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,r){return r?r.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var r7=["style"];function i7(t){return t.charAt(0).toUpperCase()+t.slice(1)}function s7(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,r){var i=r.indexOf(":"),s=yI(r.slice(0,i)),o=r.slice(i+1).trim();return s.startsWith("webkit")?e[i7(s)]=o:e[s]=o,e},{})}function wI(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var i=(e.children||[]).map(function(c){return wI(t,c)}),s=Object.keys(e.attributes||{}).reduce(function(c,h){var f=e.attributes[h];switch(h){case"class":c.attrs.className=f,delete e.attributes.class;break;case"style":c.attrs.style=s7(f);break;default:h.indexOf("aria-")===0||h.indexOf("data-")===0?c.attrs[h.toLowerCase()]=f:c.attrs[yI(h)]=f}return c},{attrs:{}}),o=r.style,a=o===void 0?{}:o,u=Q$(r,r7);return s.attrs.style=Ci(Ci({},s.attrs.style),a),t.apply(void 0,[e.tag,Ci(Ci({},s.attrs),u)].concat(Sv(i)))}var _I=!1;try{_I=!0}catch{}function o7(){if(!_I&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function cb(t){if(t&&md(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(bv.icon)return bv.icon(t);if(t===null)return null;if(t&&md(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function pm(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Io({},t,e):{}}var Ae=Ce.forwardRef(function(t,e){var r=t.icon,i=t.mask,s=t.symbol,o=t.className,a=t.title,u=t.titleId,c=t.maskId,h=cb(r),f=pm("classes",[].concat(Sv(t7(t)),Sv(o.split(" ")))),m=pm("transform",typeof t.transform=="string"?bv.transform(t.transform):t.transform),y=pm("mask",cb(i)),S=V$(h,Ci(Ci(Ci(Ci({},f),m),y),{},{symbol:s,title:a,titleId:u,maskId:c}));if(!S)return o7("Could not find icon",h),null;var C=S.abstract,T={ref:e};return Object.keys(t).forEach(function(A){Ae.defaultProps.hasOwnProperty(A)||(T[A]=t[A])}),a7(C[0],T)});Ae.displayName="FontAwesomeIcon";Ae.propTypes={beat:xe.bool,border:xe.bool,beatFade:xe.bool,bounce:xe.bool,className:xe.string,fade:xe.bool,flash:xe.bool,mask:xe.oneOfType([xe.object,xe.array,xe.string]),maskId:xe.string,fixedWidth:xe.bool,inverse:xe.bool,flip:xe.oneOf([!0,!1,"horizontal","vertical","both"]),icon:xe.oneOfType([xe.object,xe.array,xe.string]),listItem:xe.bool,pull:xe.oneOf(["right","left"]),pulse:xe.bool,rotation:xe.oneOf([0,90,180,270]),shake:xe.bool,size:xe.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:xe.bool,spinPulse:xe.bool,spinReverse:xe.bool,symbol:xe.oneOfType([xe.bool,xe.string]),title:xe.string,titleId:xe.string,transform:xe.oneOfType([xe.string,xe.object]),swapOpacity:xe.bool};Ae.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var a7=wI.bind(null,Ce.createElement);const l7="_avatar_jhy45_1",u7="_avatarChange_jhy45_13",hb={avatar:l7,avatarChange:u7},pn=({id:t,setAvatarUploadMode:e})=>{var i;const{userData:r}=Mn(t);return X("div",{className:hb.avatar,children:[L("img",{src:r==null?void 0:r.avatar,alt:"avatar"}),t===((i=oe.currentUser)==null?void 0:i.uid)&&e&&L("div",{className:hb.avatarChange,onClick:()=>e(!0),children:L(Ae,{icon:jT})})]})},c7="_root_1q62c_1",h7="_request_1q62c_7",d7="_info_1q62c_7",f7="_avatar_1q62c_11",p7="_actions_1q62c_27",m7="_accept_1q62c_34",g7="_decline_1q62c_49",us={root:c7,request:h7,info:d7,avatar:f7,actions:p7,accept:m7,decline:g7},v7=({id:t})=>{const{userData:e}=Mn(t);async function r(){await H8(oe.currentUser.uid,t)}function i(){W8(t,oe.currentUser.uid)}return L("div",{className:us.root,children:X("div",{className:us.request,children:[X("div",{className:us.info,children:[L("div",{className:us.avatar,children:L(pn,{id:e==null?void 0:e.id})}),X("h4",{children:[(e==null?void 0:e.firstName)+" "+(e==null?void 0:e.lastName)," ",L("span",{children:"wants to add you to friends"})]})]}),X("div",{className:us.actions,children:[L("span",{className:us.accept,onClick:r,children:"Accept"}),L("span",{className:us.decline,onClick:i,children:"Decline"})]})]})})},y7="_root_1uxmx_1",w7="_container_1uxmx_10",_7="_header_1uxmx_14",b7="_friends_1uxmx_30",cs={root:y7,container:w7,header:_7,friends:b7},S7="_friend_mmjny_1",C7="_info_mmjny_6",k7="_avatar_mmjny_11",E7="_details_mmjny_20",Ya={friend:S7,info:C7,avatar:k7,details:E7};async function bI(t,e){const r=st(Me,"users",t),i=st(Me,"users",e);await Jt(r,{friends:la(e)}),await Jt(i,{friends:la(t)})}var kv={},x7={get exports(){return kv},set exports(t){kv=t}},SI={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=ee;function T7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var I7=typeof Object.is=="function"?Object.is:T7,P7=ca.useState,A7=ca.useEffect,O7=ca.useLayoutEffect,R7=ca.useDebugValue;function N7(t,e){var r=e(),i=P7({inst:{value:r,getSnapshot:e}}),s=i[0].inst,o=i[1];return O7(function(){s.value=r,s.getSnapshot=e,mm(s)&&o({inst:s})},[t,r,e]),A7(function(){return mm(s)&&o({inst:s}),t(function(){mm(s)&&o({inst:s})})},[t]),R7(r),r}function mm(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!I7(t,r)}catch{return!0}}function D7(t,e){return e()}var M7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?D7:N7;SI.useSyncExternalStore=ca.useSyncExternalStore!==void 0?ca.useSyncExternalStore:M7;(function(t){t.exports=SI})(x7);var Ev={},L7={get exports(){return Ev},set exports(t){Ev=t}},CI={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mf=ee,U7=kv;function $7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var F7=typeof Object.is=="function"?Object.is:$7,j7=U7.useSyncExternalStore,B7=Mf.useRef,z7=Mf.useEffect,V7=Mf.useMemo,G7=Mf.useDebugValue;CI.useSyncExternalStoreWithSelector=function(t,e,r,i,s){var o=B7(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=V7(function(){function c(S){if(!h){if(h=!0,f=S,S=i(S),s!==void 0&&a.hasValue){var C=a.value;if(s(C,S))return m=C}return m=S}if(C=m,F7(f,S))return C;var T=i(S);return s!==void 0&&s(C,T)?C:(f=S,m=T)}var h=!1,f,m,y=r===void 0?null:r;return[function(){return c(e())},y===null?void 0:function(){return c(y())}]},[e,r,i,s]);var u=j7(t,o[0],o[1]);return z7(function(){a.hasValue=!0,a.value=u},[u]),G7(u),u};(function(t){t.exports=CI})(L7);function H7(t){t()}let kI=H7;const W7=t=>kI=t,q7=()=>kI,Qi=ee.createContext(null);function EI(){return ee.useContext(Qi)}const Y7=()=>{throw new Error("uSES not initialized!")};let xI=Y7;const K7=t=>{xI=t},Q7=(t,e)=>t===e;function X7(t=Qi){const e=t===Qi?EI:()=>ee.useContext(t);return function(i,s=Q7){const{store:o,subscription:a,getServerState:u}=e(),c=xI(a.addNestedSub,o.getState,u||o.getState,i,s);return ee.useDebugValue(c),c}}const J7=X7();var xv={},Z7={get exports(){return xv},set exports(t){xv=t}},je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lt=typeof Symbol=="function"&&Symbol.for,o1=Lt?Symbol.for("react.element"):60103,a1=Lt?Symbol.for("react.portal"):60106,Lf=Lt?Symbol.for("react.fragment"):60107,Uf=Lt?Symbol.for("react.strict_mode"):60108,$f=Lt?Symbol.for("react.profiler"):60114,Ff=Lt?Symbol.for("react.provider"):60109,jf=Lt?Symbol.for("react.context"):60110,l1=Lt?Symbol.for("react.async_mode"):60111,Bf=Lt?Symbol.for("react.concurrent_mode"):60111,zf=Lt?Symbol.for("react.forward_ref"):60112,Vf=Lt?Symbol.for("react.suspense"):60113,eF=Lt?Symbol.for("react.suspense_list"):60120,Gf=Lt?Symbol.for("react.memo"):60115,Hf=Lt?Symbol.for("react.lazy"):60116,tF=Lt?Symbol.for("react.block"):60121,nF=Lt?Symbol.for("react.fundamental"):60117,rF=Lt?Symbol.for("react.responder"):60118,iF=Lt?Symbol.for("react.scope"):60119;function Un(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case o1:switch(t=t.type,t){case l1:case Bf:case Lf:case $f:case Uf:case Vf:return t;default:switch(t=t&&t.$$typeof,t){case jf:case zf:case Hf:case Gf:case Ff:return t;default:return e}}case a1:return e}}}function TI(t){return Un(t)===Bf}je.AsyncMode=l1;je.ConcurrentMode=Bf;je.ContextConsumer=jf;je.ContextProvider=Ff;je.Element=o1;je.ForwardRef=zf;je.Fragment=Lf;je.Lazy=Hf;je.Memo=Gf;je.Portal=a1;je.Profiler=$f;je.StrictMode=Uf;je.Suspense=Vf;je.isAsyncMode=function(t){return TI(t)||Un(t)===l1};je.isConcurrentMode=TI;je.isContextConsumer=function(t){return Un(t)===jf};je.isContextProvider=function(t){return Un(t)===Ff};je.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===o1};je.isForwardRef=function(t){return Un(t)===zf};je.isFragment=function(t){return Un(t)===Lf};je.isLazy=function(t){return Un(t)===Hf};je.isMemo=function(t){return Un(t)===Gf};je.isPortal=function(t){return Un(t)===a1};je.isProfiler=function(t){return Un(t)===$f};je.isStrictMode=function(t){return Un(t)===Uf};je.isSuspense=function(t){return Un(t)===Vf};je.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Lf||t===Bf||t===$f||t===Uf||t===Vf||t===eF||typeof t=="object"&&t!==null&&(t.$$typeof===Hf||t.$$typeof===Gf||t.$$typeof===Ff||t.$$typeof===jf||t.$$typeof===zf||t.$$typeof===nF||t.$$typeof===rF||t.$$typeof===iF||t.$$typeof===tF)};je.typeOf=Un;(function(t){t.exports=je})(Z7);var II=xv,sF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},oF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},PI={};PI[II.ForwardRef]=sF;PI[II.Memo]=oF;var db={},aF={get exports(){return db},set exports(t){db=t}},Be={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1=Symbol.for("react.element"),c1=Symbol.for("react.portal"),Wf=Symbol.for("react.fragment"),qf=Symbol.for("react.strict_mode"),Yf=Symbol.for("react.profiler"),Kf=Symbol.for("react.provider"),Qf=Symbol.for("react.context"),lF=Symbol.for("react.server_context"),Xf=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),Zf=Symbol.for("react.suspense_list"),ep=Symbol.for("react.memo"),tp=Symbol.for("react.lazy"),uF=Symbol.for("react.offscreen"),AI;AI=Symbol.for("react.module.reference");function qn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case u1:switch(t=t.type,t){case Wf:case Yf:case qf:case Jf:case Zf:return t;default:switch(t=t&&t.$$typeof,t){case lF:case Qf:case Xf:case tp:case ep:case Kf:return t;default:return e}}case c1:return e}}}Be.ContextConsumer=Qf;Be.ContextProvider=Kf;Be.Element=u1;Be.ForwardRef=Xf;Be.Fragment=Wf;Be.Lazy=tp;Be.Memo=ep;Be.Portal=c1;Be.Profiler=Yf;Be.StrictMode=qf;Be.Suspense=Jf;Be.SuspenseList=Zf;Be.isAsyncMode=function(){return!1};Be.isConcurrentMode=function(){return!1};Be.isContextConsumer=function(t){return qn(t)===Qf};Be.isContextProvider=function(t){return qn(t)===Kf};Be.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===u1};Be.isForwardRef=function(t){return qn(t)===Xf};Be.isFragment=function(t){return qn(t)===Wf};Be.isLazy=function(t){return qn(t)===tp};Be.isMemo=function(t){return qn(t)===ep};Be.isPortal=function(t){return qn(t)===c1};Be.isProfiler=function(t){return qn(t)===Yf};Be.isStrictMode=function(t){return qn(t)===qf};Be.isSuspense=function(t){return qn(t)===Jf};Be.isSuspenseList=function(t){return qn(t)===Zf};Be.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wf||t===Yf||t===qf||t===Jf||t===Zf||t===uF||typeof t=="object"&&t!==null&&(t.$$typeof===tp||t.$$typeof===ep||t.$$typeof===Kf||t.$$typeof===Qf||t.$$typeof===Xf||t.$$typeof===AI||t.getModuleId!==void 0)};Be.typeOf=qn;(function(t){t.exports=Be})(aF);function cF(){const t=q7();let e=null,r=null;return{clear(){e=null,r=null},notify(){t(()=>{let i=e;for(;i;)i.callback(),i=i.next})},get(){let i=[],s=e;for(;s;)i.push(s),s=s.next;return i},subscribe(i){let s=!0,o=r={callback:i,next:null,prev:r};return o.prev?o.prev.next=o:e=o,function(){!s||e===null||(s=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}const fb={notify(){},get:()=>[]};function hF(t,e){let r,i=fb;function s(m){return c(),i.subscribe(m)}function o(){i.notify()}function a(){f.onStateChange&&f.onStateChange()}function u(){return Boolean(r)}function c(){r||(r=e?e.addNestedSub(a):t.subscribe(a),i=cF())}function h(){r&&(r(),r=void 0,i.clear(),i=fb)}const f={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:a,isSubscribed:u,trySubscribe:c,tryUnsubscribe:h,getListeners:()=>i};return f}const dF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fF=dF?ee.useLayoutEffect:ee.useEffect;function pF({store:t,context:e,children:r,serverState:i}){const s=ee.useMemo(()=>{const u=hF(t);return{store:t,subscription:u,getServerState:i?()=>i:void 0}},[t,i]),o=ee.useMemo(()=>t.getState(),[t]);fF(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,o]);const a=e||Qi;return Ce.createElement(a.Provider,{value:s},r)}function OI(t=Qi){const e=t===Qi?EI:()=>ee.useContext(t);return function(){const{store:i}=e();return i}}const mF=OI();function gF(t=Qi){const e=t===Qi?mF:OI(t);return function(){return e().dispatch}}const vF=gF();K7(Ev.useSyncExternalStoreWithSelector);W7(gh.unstable_batchedUpdates);const Yu=()=>vF(),Ea=J7;function tr(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Xi(t){return!!t&&!!t[nt]}function Jr(t){var e;return!!t&&(function(r){if(!r||typeof r!="object")return!1;var i=Object.getPrototypeOf(r);if(i===null)return!0;var s=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===xF}(t)||Array.isArray(t)||!!t[_b]||!!(!((e=t.constructor)===null||e===void 0)&&e[_b])||h1(t)||d1(t))}function qs(t,e,r){r===void 0&&(r=!1),xa(t)===0?(r?Object.keys:zo)(t).forEach(function(i){r&&typeof i=="symbol"||e(i,t[i],t)}):t.forEach(function(i,s){return e(s,i,t)})}function xa(t){var e=t[nt];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:h1(t)?2:d1(t)?3:0}function Bo(t,e){return xa(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function yF(t,e){return xa(t)===2?t.get(e):t[e]}function RI(t,e,r){var i=xa(t);i===2?t.set(e,r):i===3?t.add(r):t[e]=r}function NI(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function h1(t){return kF&&t instanceof Map}function d1(t){return EF&&t instanceof Set}function ms(t){return t.o||t.t}function f1(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=MI(t);delete e[nt];for(var r=zo(e),i=0;i<r.length;i++){var s=r[i],o=e[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Object.getPrototypeOf(t),e)}function p1(t,e){return e===void 0&&(e=!1),m1(t)||Xi(t)||!Jr(t)||(xa(t)>1&&(t.set=t.add=t.clear=t.delete=wF),Object.freeze(t),e&&qs(t,function(r,i){return p1(i,!0)},!0)),t}function wF(){tr(2)}function m1(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Er(t){var e=Av[t];return e||tr(18,t),e}function _F(t,e){Av[t]||(Av[t]=e)}function Tv(){return fu}function gm(t,e){e&&(Er("Patches"),t.u=[],t.s=[],t.v=e)}function gd(t){Iv(t),t.p.forEach(bF),t.p=null}function Iv(t){t===fu&&(fu=t.l)}function pb(t){return fu={p:[],l:fu,h:t,m:!0,_:0}}function bF(t){var e=t[nt];e.i===0||e.i===1?e.j():e.O=!0}function vm(t,e){e._=e.p.length;var r=e.p[0],i=t!==void 0&&t!==r;return e.h.g||Er("ES5").S(e,t,i),i?(r[nt].P&&(gd(e),tr(4)),Jr(t)&&(t=vd(e,t),e.l||yd(e,t)),e.u&&Er("Patches").M(r[nt].t,t,e.u,e.s)):t=vd(e,r,[]),gd(e),e.u&&e.v(e.u,e.s),t!==DI?t:void 0}function vd(t,e,r){if(m1(e))return e;var i=e[nt];if(!i)return qs(e,function(u,c){return mb(t,i,e,u,c,r)},!0),e;if(i.A!==t)return e;if(!i.P)return yd(t,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var s=i.i===4||i.i===5?i.o=f1(i.k):i.o,o=s,a=!1;i.i===3&&(o=new Set(s),s.clear(),a=!0),qs(o,function(u,c){return mb(t,i,s,u,c,r,a)}),yd(t,s,!1),r&&t.u&&Er("Patches").N(i,r,t.u,t.s)}return i.o}function mb(t,e,r,i,s,o,a){if(Xi(s)){var u=vd(t,s,o&&e&&e.i!==3&&!Bo(e.R,i)?o.concat(i):void 0);if(RI(r,i,u),!Xi(u))return;t.m=!1}else a&&r.add(s);if(Jr(s)&&!m1(s)){if(!t.h.D&&t._<1)return;vd(t,s),e&&e.A.l||yd(t,s)}}function yd(t,e,r){r===void 0&&(r=!1),!t.l&&t.h.D&&t.m&&p1(e,r)}function ym(t,e){var r=t[nt];return(r?ms(r):t)[e]}function gb(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var i=Object.getOwnPropertyDescriptor(r,e);if(i)return i;r=Object.getPrototypeOf(r)}}function yi(t){t.P||(t.P=!0,t.l&&yi(t.l))}function wm(t){t.o||(t.o=f1(t.t))}function Pv(t,e,r){var i=h1(e)?Er("MapSet").F(e,r):d1(e)?Er("MapSet").T(e,r):t.g?function(s,o){var a=Array.isArray(s),u={i:a?1:0,A:o?o.A:Tv(),P:!1,I:!1,R:{},l:o,t:s,k:null,o:null,j:null,C:!1},c=u,h=pu;a&&(c=[u],h=ul);var f=Proxy.revocable(c,h),m=f.revoke,y=f.proxy;return u.k=y,u.j=m,y}(e,r):Er("ES5").J(e,r);return(r?r.A:Tv()).p.push(i),i}function SF(t){return Xi(t)||tr(22,t),function e(r){if(!Jr(r))return r;var i,s=r[nt],o=xa(r);if(s){if(!s.P&&(s.i<4||!Er("ES5").K(s)))return s.t;s.I=!0,i=vb(r,o),s.I=!1}else i=vb(r,o);return qs(i,function(a,u){s&&yF(s.t,a)===u||RI(i,a,e(u))}),o===3?new Set(i):i}(t)}function vb(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return f1(t)}function CF(){function t(o,a){var u=s[o];return u?u.enumerable=a:s[o]=u={configurable:!0,enumerable:a,get:function(){var c=this[nt];return pu.get(c,o)},set:function(c){var h=this[nt];pu.set(h,o,c)}},u}function e(o){for(var a=o.length-1;a>=0;a--){var u=o[a][nt];if(!u.P)switch(u.i){case 5:i(u)&&yi(u);break;case 4:r(u)&&yi(u)}}}function r(o){for(var a=o.t,u=o.k,c=zo(u),h=c.length-1;h>=0;h--){var f=c[h];if(f!==nt){var m=a[f];if(m===void 0&&!Bo(a,f))return!0;var y=u[f],S=y&&y[nt];if(S?S.t!==m:!NI(y,m))return!0}}var C=!!a[nt];return c.length!==zo(a).length+(C?0:1)}function i(o){var a=o.k;if(a.length!==o.t.length)return!0;var u=Object.getOwnPropertyDescriptor(a,a.length-1);if(u&&!u.get)return!0;for(var c=0;c<a.length;c++)if(!a.hasOwnProperty(c))return!0;return!1}var s={};_F("ES5",{J:function(o,a){var u=Array.isArray(o),c=function(f,m){if(f){for(var y=Array(m.length),S=0;S<m.length;S++)Object.defineProperty(y,""+S,t(S,!0));return y}var C=MI(m);delete C[nt];for(var T=zo(C),A=0;A<T.length;A++){var g=T[A];C[g]=t(g,f||!!C[g].enumerable)}return Object.create(Object.getPrototypeOf(m),C)}(u,o),h={i:u?5:4,A:a?a.A:Tv(),P:!1,I:!1,R:{},l:a,t:o,k:c,o:null,O:!1,C:!1};return Object.defineProperty(c,nt,{value:h,writable:!0}),c},S:function(o,a,u){u?Xi(a)&&a[nt].A===o&&e(o.p):(o.u&&function c(h){if(h&&typeof h=="object"){var f=h[nt];if(f){var m=f.t,y=f.k,S=f.R,C=f.i;if(C===4)qs(y,function(_){_!==nt&&(m[_]!==void 0||Bo(m,_)?S[_]||c(y[_]):(S[_]=!0,yi(f)))}),qs(m,function(_){y[_]!==void 0||Bo(y,_)||(S[_]=!1,yi(f))});else if(C===5){if(i(f)&&(yi(f),S.length=!0),y.length<m.length)for(var T=y.length;T<m.length;T++)S[T]=!1;else for(var A=m.length;A<y.length;A++)S[A]=!0;for(var g=Math.min(y.length,m.length),w=0;w<g;w++)y.hasOwnProperty(w)||(S[w]=!0),S[w]===void 0&&c(y[w])}}}}(o.p[0]),e(o.p))},K:function(o){return o.i===4?r(o):i(o)}})}var yb,fu,g1=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",kF=typeof Map<"u",EF=typeof Set<"u",wb=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",DI=g1?Symbol.for("immer-nothing"):((yb={})["immer-nothing"]=!0,yb),_b=g1?Symbol.for("immer-draftable"):"__$immer_draftable",nt=g1?Symbol.for("immer-state"):"__$immer_state",xF=""+Object.prototype.constructor,zo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,MI=Object.getOwnPropertyDescriptors||function(t){var e={};return zo(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},Av={},pu={get:function(t,e){if(e===nt)return t;var r=ms(t);if(!Bo(r,e))return function(s,o,a){var u,c=gb(o,a);return c?"value"in c?c.value:(u=c.get)===null||u===void 0?void 0:u.call(s.k):void 0}(t,r,e);var i=r[e];return t.I||!Jr(i)?i:i===ym(t.t,e)?(wm(t),t.o[e]=Pv(t.A.h,i,t)):i},has:function(t,e){return e in ms(t)},ownKeys:function(t){return Reflect.ownKeys(ms(t))},set:function(t,e,r){var i=gb(ms(t),e);if(i!=null&&i.set)return i.set.call(t.k,r),!0;if(!t.P){var s=ym(ms(t),e),o=s==null?void 0:s[nt];if(o&&o.t===r)return t.o[e]=r,t.R[e]=!1,!0;if(NI(r,s)&&(r!==void 0||Bo(t.t,e)))return!0;wm(t),yi(t)}return t.o[e]===r&&(r!==void 0||e in t.o)||Number.isNaN(r)&&Number.isNaN(t.o[e])||(t.o[e]=r,t.R[e]=!0),!0},deleteProperty:function(t,e){return ym(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,wm(t),yi(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=ms(t),i=Reflect.getOwnPropertyDescriptor(r,e);return i&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:i.enumerable,value:r[e]}},defineProperty:function(){tr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){tr(12)}},ul={};qs(pu,function(t,e){ul[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),ul.deleteProperty=function(t,e){return ul.set.call(this,t,e,void 0)},ul.set=function(t,e,r){return pu.set.call(this,t[0],e,r,t[0])};var TF=function(){function t(r){var i=this;this.g=wb,this.D=!0,this.produce=function(s,o,a){if(typeof s=="function"&&typeof o!="function"){var u=o;o=s;var c=i;return function(T){var A=this;T===void 0&&(T=u);for(var g=arguments.length,w=Array(g>1?g-1:0),_=1;_<g;_++)w[_-1]=arguments[_];return c.produce(T,function(P){var k;return(k=o).call.apply(k,[A,P].concat(w))})}}var h;if(typeof o!="function"&&tr(6),a!==void 0&&typeof a!="function"&&tr(7),Jr(s)){var f=pb(i),m=Pv(i,s,void 0),y=!0;try{h=o(m),y=!1}finally{y?gd(f):Iv(f)}return typeof Promise<"u"&&h instanceof Promise?h.then(function(T){return gm(f,a),vm(T,f)},function(T){throw gd(f),T}):(gm(f,a),vm(h,f))}if(!s||typeof s!="object"){if((h=o(s))===void 0&&(h=s),h===DI&&(h=void 0),i.D&&p1(h,!0),a){var S=[],C=[];Er("Patches").M(s,h,S,C),a(S,C)}return h}tr(21,s)},this.produceWithPatches=function(s,o){if(typeof s=="function")return function(h){for(var f=arguments.length,m=Array(f>1?f-1:0),y=1;y<f;y++)m[y-1]=arguments[y];return i.produceWithPatches(h,function(S){return s.apply(void 0,[S].concat(m))})};var a,u,c=i.produce(s,o,function(h,f){a=h,u=f});return typeof Promise<"u"&&c instanceof Promise?c.then(function(h){return[h,a,u]}):[c,a,u]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){Jr(r)||tr(8),Xi(r)&&(r=SF(r));var i=pb(this),s=Pv(this,r,void 0);return s[nt].C=!0,Iv(i),s},e.finishDraft=function(r,i){var s=r&&r[nt],o=s.A;return gm(o,i),vm(void 0,o)},e.setAutoFreeze=function(r){this.D=r},e.setUseProxies=function(r){r&&!wb&&tr(20),this.g=r},e.applyPatches=function(r,i){var s;for(s=i.length-1;s>=0;s--){var o=i[s];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}s>-1&&(i=i.slice(s+1));var a=Er("Patches").$;return Xi(r)?a(r,i):this.produce(r,function(u){return a(u,i)})},t}(),Rn=new TF,LI=Rn.produce;Rn.produceWithPatches.bind(Rn);Rn.setAutoFreeze.bind(Rn);Rn.setUseProxies.bind(Rn);Rn.applyPatches.bind(Rn);Rn.createDraft.bind(Rn);Rn.finishDraft.bind(Rn);function mu(t){return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function IF(t,e){if(mu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(mu(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PF(t){var e=IF(t,"string");return mu(e)==="symbol"?e:String(e)}function AF(t,e,r){return e=PF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,i)}return r}function Sb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bb(Object(r),!0).forEach(function(i){AF(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bb(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function qt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Cb=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),_m=function(){return Math.random().toString(36).substring(7).split("").join(".")},wd={INIT:"@@redux/INIT"+_m(),REPLACE:"@@redux/REPLACE"+_m(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+_m()}};function OF(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function UI(t,e,r){var i;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(qt(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(qt(1));return r(UI)(t,e)}if(typeof t!="function")throw new Error(qt(2));var s=t,o=e,a=[],u=a,c=!1;function h(){u===a&&(u=a.slice())}function f(){if(c)throw new Error(qt(3));return o}function m(T){if(typeof T!="function")throw new Error(qt(4));if(c)throw new Error(qt(5));var A=!0;return h(),u.push(T),function(){if(A){if(c)throw new Error(qt(6));A=!1,h();var w=u.indexOf(T);u.splice(w,1),a=null}}}function y(T){if(!OF(T))throw new Error(qt(7));if(typeof T.type>"u")throw new Error(qt(8));if(c)throw new Error(qt(9));try{c=!0,o=s(o,T)}finally{c=!1}for(var A=a=u,g=0;g<A.length;g++){var w=A[g];w()}return T}function S(T){if(typeof T!="function")throw new Error(qt(10));s=T,y({type:wd.REPLACE})}function C(){var T,A=m;return T={subscribe:function(w){if(typeof w!="object"||w===null)throw new Error(qt(11));function _(){w.next&&w.next(f())}_();var P=A(_);return{unsubscribe:P}}},T[Cb]=function(){return this},T}return y({type:wd.INIT}),i={dispatch:y,subscribe:m,getState:f,replaceReducer:S},i[Cb]=C,i}function RF(t){Object.keys(t).forEach(function(e){var r=t[e],i=r(void 0,{type:wd.INIT});if(typeof i>"u")throw new Error(qt(12));if(typeof r(void 0,{type:wd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qt(13))})}function NF(t){for(var e=Object.keys(t),r={},i=0;i<e.length;i++){var s=e[i];typeof t[s]=="function"&&(r[s]=t[s])}var o=Object.keys(r),a;try{RF(r)}catch(u){a=u}return function(c,h){if(c===void 0&&(c={}),a)throw a;for(var f=!1,m={},y=0;y<o.length;y++){var S=o[y],C=r[S],T=c[S],A=C(T,h);if(typeof A>"u")throw h&&h.type,new Error(qt(14));m[S]=A,f=f||A!==T}return f=f||o.length!==Object.keys(c).length,f?m:c}}function _d(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(i){return i}:e.length===1?e[0]:e.reduce(function(i,s){return function(){return i(s.apply(void 0,arguments))}})}function DF(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(i){return function(){var s=i.apply(void 0,arguments),o=function(){throw new Error(qt(15))},a={getState:s.getState,dispatch:function(){return o.apply(void 0,arguments)}},u=e.map(function(c){return c(a)});return o=_d.apply(void 0,u)(s.dispatch),Sb(Sb({},s),{},{dispatch:o})}}}function $I(t){var e=function(i){var s=i.dispatch,o=i.getState;return function(a){return function(u){return typeof u=="function"?u(s,o,t):a(u)}}};return e}var FI=$I();FI.withExtraArgument=$I;const kb=FI;var MF=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function i(){this.constructor=e}e.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}}(),LF=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(h){return function(f){return c([h,f])}}function c(h){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,s=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(f){h=[6,f],s=0}finally{i=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},bd=globalThis&&globalThis.__spreadArray||function(t,e){for(var r=0,i=e.length,s=t.length;r<i;r++,s++)t[s]=e[r];return t},UF=Object.defineProperty,$F=Object.defineProperties,FF=Object.getOwnPropertyDescriptors,Eb=Object.getOwnPropertySymbols,jF=Object.prototype.hasOwnProperty,BF=Object.prototype.propertyIsEnumerable,xb=function(t,e,r){return e in t?UF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r},$i=function(t,e){for(var r in e||(e={}))jF.call(e,r)&&xb(t,r,e[r]);if(Eb)for(var i=0,s=Eb(e);i<s.length;i++){var r=s[i];BF.call(e,r)&&xb(t,r,e[r])}return t},bm=function(t,e){return $F(t,FF(e))},zF=function(t,e,r){return new Promise(function(i,s){var o=function(c){try{u(r.next(c))}catch(h){s(h)}},a=function(c){try{u(r.throw(c))}catch(h){s(h)}},u=function(c){return c.done?i(c.value):Promise.resolve(c.value).then(o,a)};u((r=r.apply(t,e)).next())})},VF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_d:_d.apply(null,arguments)};function GF(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return e===r}var HF=function(t){MF(e,t);function e(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=t.apply(this,r)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,bd([void 0],r[0].concat(this)))):new(e.bind.apply(e,bd([void 0],r.concat(this))))},e}(Array);function Ov(t){return Jr(t)?LI(t,function(){}):t}function WF(t){return typeof t=="boolean"}function qF(){return function(e){return YF(e)}}function YF(t){t===void 0&&(t={});var e=t.thunk,r=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var i=new HF;return r&&(WF(r)?i.push(kb):i.push(kb.withExtraArgument(r.extraArgument))),i}var KF=!0;function QF(t){var e=qF(),r=t||{},i=r.reducer,s=i===void 0?void 0:i,o=r.middleware,a=o===void 0?e():o,u=r.devTools,c=u===void 0?!0:u,h=r.preloadedState,f=h===void 0?void 0:h,m=r.enhancers,y=m===void 0?void 0:m,S;if(typeof s=="function")S=s;else if(GF(s))S=NF(s);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var C=a;typeof C=="function"&&(C=C(e));var T=DF.apply(void 0,C),A=_d;c&&(A=VF($i({trace:!KF},typeof c=="object"&&c)));var g=[T];Array.isArray(y)?g=bd([T],y):typeof y=="function"&&(g=y(g));var w=A.apply(void 0,g);return UI(S,f,w)}function Fi(t,e){function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(e){var o=e.apply(void 0,i);if(!o)throw new Error("prepareAction did not return an object");return $i($i({type:t,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:t,payload:i[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(i){return i.type===t},r}function jI(t){var e={},r=[],i,s={addCase:function(o,a){var u=typeof o=="string"?o:o.type;if(u in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[u]=a,s},addMatcher:function(o,a){return r.push({matcher:o,reducer:a}),s},addDefaultCase:function(o){return i=o,s}};return t(s),[e,r,i]}function XF(t){return typeof t=="function"}function JF(t,e,r,i){r===void 0&&(r=[]);var s=typeof e=="function"?jI(e):[e,r,i],o=s[0],a=s[1],u=s[2],c;if(XF(t))c=function(){return Ov(t())};else{var h=Ov(t);c=function(){return h}}function f(m,y){m===void 0&&(m=c());var S=bd([o[y.type]],a.filter(function(C){var T=C.matcher;return T(y)}).map(function(C){var T=C.reducer;return T}));return S.filter(function(C){return!!C}).length===0&&(S=[u]),S.reduce(function(C,T){if(T)if(Xi(C)){var A=C,g=T(A,y);return g===void 0?C:g}else{if(Jr(C))return LI(C,function(w){return T(w,y)});var g=T(C,y);if(g===void 0){if(C===null)return C;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return C},m)}return f.getInitialState=c,f}function ZF(t,e){return t+"/"+e}function BI(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof t.initialState=="function"?t.initialState:Ov(t.initialState),i=t.reducers||{},s=Object.keys(i),o={},a={},u={};s.forEach(function(f){var m=i[f],y=ZF(e,f),S,C;"reducer"in m?(S=m.reducer,C=m.prepare):S=m,o[f]=S,a[y]=S,u[f]=C?Fi(y,C):Fi(y)});function c(){var f=typeof t.extraReducers=="function"?jI(t.extraReducers):[t.extraReducers],m=f[0],y=m===void 0?{}:m,S=f[1],C=S===void 0?[]:S,T=f[2],A=T===void 0?void 0:T,g=$i($i({},y),a);return JF(r,function(w){for(var _ in g)w.addCase(_,g[_]);for(var P=0,k=C;P<k.length;P++){var j=k[P];w.addMatcher(j.matcher,j.reducer)}A&&w.addDefaultCase(A)})}var h;return{name:e,reducer:function(f,m){return h||(h=c()),h(f,m)},actions:u,caseReducers:o,getInitialState:function(){return h||(h=c()),h.getInitialState()}}}var e9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",t9=function(t){t===void 0&&(t=21);for(var e="",r=t;r--;)e+=e9[Math.random()*64|0];return e},n9=["name","message","stack","code"],Sm=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),Tb=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),r9=function(t){if(typeof t=="object"&&t!==null){for(var e={},r=0,i=n9;r<i.length;r++){var s=i[r];typeof t[s]=="string"&&(e[s]=t[s])}return e}return{message:String(t)}};(function(){function t(e,r,i){var s=Fi(e+"/fulfilled",function(h,f,m,y){return{payload:h,meta:bm($i({},y||{}),{arg:m,requestId:f,requestStatus:"fulfilled"})}}),o=Fi(e+"/pending",function(h,f,m){return{payload:void 0,meta:bm($i({},m||{}),{arg:f,requestId:h,requestStatus:"pending"})}}),a=Fi(e+"/rejected",function(h,f,m,y,S){return{payload:y,error:(i&&i.serializeError||r9)(h||"Rejected"),meta:bm($i({},S||{}),{arg:m,requestId:f,rejectedWithValue:!!y,requestStatus:"rejected",aborted:(h==null?void 0:h.name)==="AbortError",condition:(h==null?void 0:h.name)==="ConditionError"})}}),u=typeof AbortController<"u"?AbortController:function(){function h(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return h.prototype.abort=function(){},h}();function c(h){return function(f,m,y){var S=i!=null&&i.idGenerator?i.idGenerator(h):t9(),C=new u,T;function A(w){T=w,C.abort()}var g=function(){return zF(this,null,function(){var w,_,P,k,j,O,N;return LF(this,function(F){switch(F.label){case 0:return F.trys.push([0,4,,5]),k=(w=i==null?void 0:i.condition)==null?void 0:w.call(i,h,{getState:m,extra:y}),s9(k)?[4,k]:[3,2];case 1:k=F.sent(),F.label=2;case 2:if(k===!1||C.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return j=new Promise(function($,M){return C.signal.addEventListener("abort",function(){return M({name:"AbortError",message:T||"Aborted"})})}),f(o(S,h,(_=i==null?void 0:i.getPendingMeta)==null?void 0:_.call(i,{requestId:S,arg:h},{getState:m,extra:y}))),[4,Promise.race([j,Promise.resolve(r(h,{dispatch:f,getState:m,extra:y,requestId:S,signal:C.signal,abort:A,rejectWithValue:function($,M){return new Sm($,M)},fulfillWithValue:function($,M){return new Tb($,M)}})).then(function($){if($ instanceof Sm)throw $;return $ instanceof Tb?s($.payload,S,h,$.meta):s($,S,h)})])];case 3:return P=F.sent(),[3,5];case 4:return O=F.sent(),P=O instanceof Sm?a(null,S,h,O.payload,O.meta):a(O,S,h),[3,5];case 5:return N=i&&!i.dispatchConditionRejection&&a.match(P)&&P.meta.condition,N||f(P),[2,P]}})})}();return Object.assign(g,{abort:A,requestId:S,arg:h,unwrap:function(){return g.then(i9)}})}}return Object.assign(c,{pending:o,rejected:a,fulfilled:s,typePrefix:e})}return t.withTypes=function(){return t},t})();function i9(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function s9(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var v1="listenerMiddleware";Fi(v1+"/add");Fi(v1+"/removeAll");Fi(v1+"/remove");var Ib;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);CF();const o9={userID:null,chatID:null},zI=BI({name:"currentChat",initialState:o9,reducers:{setCurrentChat(t,e){t.userID=e.payload,t.chatID=oe.currentUser.uid>t.userID?oe.currentUser.uid+t.userID:t.userID+oe.currentUser.uid}}}),{setCurrentChat:VI}=zI.actions,a9=zI.reducer;var Rv={},l9={get exports(){return Rv},set exports(t){Rv=t}};(function(t,e){(function(r,i){t.exports=i()})(Tm,function(){return function(r){function i(o){if(s[o])return s[o].exports;var a=s[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}var s={};return i.m=r,i.c=s,i.d=function(o,a,u){i.o(o,a)||Object.defineProperty(o,a,{configurable:!1,enumerable:!0,get:u})},i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,"a",a),a},i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},i.p="",i(i.s=8)}([function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o="swal-button";i.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:o,CONFIRM_BUTTON:o+"--confirm",CANCEL_BUTTON:o+"--cancel",DANGER_BUTTON:o+"--danger",BUTTON_LOADING:o+"--loading",BUTTON_LOADER:o+"__loader"},i.default=i.CLASS_NAMES},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.getNode=function(o){var a="."+o;return document.querySelector(a)},i.stringToNode=function(o){var a=document.createElement("div");return a.innerHTML=o.trim(),a.firstChild},i.insertAfter=function(o,a){var u=a.nextSibling;a.parentNode.insertBefore(o,u)},i.removeNode=function(o){o.parentElement.removeChild(o)},i.throwErr=function(o){throw o=o.replace(/ +(?= )/g,""),"SweetAlert: "+(o=o.trim())},i.isPlainObject=function(o){if(Object.prototype.toString.call(o)!=="[object Object]")return!1;var a=Object.getPrototypeOf(o);return a===null||a===Object.prototype},i.ordinalSuffixOf=function(o){var a=o%10,u=o%100;return a===1&&u!==11?o+"st":a===2&&u!==12?o+"nd":a===3&&u!==13?o+"rd":o+"th"}},function(r,i,s){function o(y){for(var S in y)i.hasOwnProperty(S)||(i[S]=y[S])}Object.defineProperty(i,"__esModule",{value:!0}),o(s(25));var a=s(26);i.overlayMarkup=a.default,o(s(27)),o(s(28)),o(s(29));var u=s(0),c=u.default.MODAL_TITLE,h=u.default.MODAL_TEXT,f=u.default.ICON,m=u.default.FOOTER;i.iconMarkup=`
  <div class="`+f+'"></div>',i.titleMarkup=`
  <div class="`+c+`"></div>
`,i.textMarkup=`
  <div class="`+h+'"></div>',i.footerMarkup=`
  <div class="`+m+`"></div>
`},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o=s(1);i.CONFIRM_KEY="confirm",i.CANCEL_KEY="cancel";var a={visible:!0,text:null,value:null,className:"",closeModal:!0},u=Object.assign({},a,{visible:!1,text:"Cancel",value:null}),c=Object.assign({},a,{text:"OK",value:!0});i.defaultButtonList={cancel:u,confirm:c};var h=function(S){switch(S){case i.CONFIRM_KEY:return c;case i.CANCEL_KEY:return u;default:var C=S.charAt(0).toUpperCase()+S.slice(1);return Object.assign({},a,{text:C,value:S})}},f=function(S,C){var T=h(S);return C===!0?Object.assign({},T,{visible:!0}):typeof C=="string"?Object.assign({},T,{visible:!0,text:C}):o.isPlainObject(C)?Object.assign({visible:!0},T,C):Object.assign({},T,{visible:!1})},m=function(S){for(var C={},T=0,A=Object.keys(S);T<A.length;T++){var g=A[T],w=S[g],_=f(g,w);C[g]=_}return C.cancel||(C.cancel=u),C},y=function(S){var C={};switch(S.length){case 1:C[i.CANCEL_KEY]=Object.assign({},u,{visible:!1});break;case 2:C[i.CANCEL_KEY]=f(i.CANCEL_KEY,S[0]),C[i.CONFIRM_KEY]=f(i.CONFIRM_KEY,S[1]);break;default:o.throwErr("Invalid number of 'buttons' in array ("+S.length+`).
      If you want more than 2 buttons, you need to use an object!`)}return C};i.getButtonListOpts=function(S){var C=i.defaultButtonList;return typeof S=="string"?C[i.CONFIRM_KEY]=f(i.CONFIRM_KEY,S):Array.isArray(S)?C=y(S):o.isPlainObject(S)?C=m(S):S===!0?C=y([!0,!0]):S===!1?C=y([!1,!1]):S===void 0&&(C=i.defaultButtonList),C}},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o=s(1),a=s(2),u=s(0),c=u.default.MODAL,h=u.default.OVERLAY,f=s(30),m=s(31),y=s(32),S=s(33);i.injectElIntoModal=function(g){var w=o.getNode(c),_=o.stringToNode(g);return w.appendChild(_),_};var C=function(g){g.className=c,g.textContent=""},T=function(g,w){C(g);var _=w.className;_&&g.classList.add(_)};i.initModalContent=function(g){var w=o.getNode(c);T(w,g),f.default(g.icon),m.initTitle(g.title),m.initText(g.text),S.default(g.content),y.default(g.buttons,g.dangerMode)};var A=function(){var g=o.getNode(h),w=o.stringToNode(a.modalMarkup);g.appendChild(w)};i.default=A},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o=s(3),a={isOpen:!1,promise:null,actions:{},timer:null},u=Object.assign({},a);i.resetState=function(){u=Object.assign({},a)},i.setActionValue=function(h){if(typeof h=="string")return c(o.CONFIRM_KEY,h);for(var f in h)c(f,h[f])};var c=function(h,f){u.actions[h]||(u.actions[h]={}),Object.assign(u.actions[h],{value:f})};i.setActionOptionsFor=function(h,f){var m=(f===void 0?{}:f).closeModal,y=m===void 0||m;Object.assign(u.actions[h],{closeModal:y})},i.default=u},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o=s(1),a=s(3),u=s(0),c=u.default.OVERLAY,h=u.default.SHOW_MODAL,f=u.default.BUTTON,m=u.default.BUTTON_LOADING,y=s(5);i.openModal=function(){o.getNode(c).classList.add(h),y.default.isOpen=!0};var S=function(){o.getNode(c).classList.remove(h),y.default.isOpen=!1};i.onAction=function(C){C===void 0&&(C=a.CANCEL_KEY);var T=y.default.actions[C],A=T.value;if(T.closeModal===!1){var g=f+"--"+C;o.getNode(g).classList.add(m)}else S();y.default.promise.resolve(A)},i.getState=function(){var C=Object.assign({},y.default);return delete C.promise,delete C.timer,C},i.stopLoading=function(){for(var C=document.querySelectorAll("."+f),T=0;T<C.length;T++)C[T].classList.remove(m)}},function(r,i){var s;s=function(){return this}();try{s=s||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(s=window)}r.exports=s},function(r,i,s){(function(o){r.exports=o.sweetAlert=s(9)}).call(i,s(7))},function(r,i,s){(function(o){r.exports=o.swal=s(10)}).call(i,s(7))},function(r,i,s){typeof window<"u"&&s(11),s(16);var o=s(23).default;r.exports=o},function(r,i,s){var o=s(12);typeof o=="string"&&(o=[[r.i,o,""]]);var a={insertAt:"top"};a.transform=void 0,s(14)(o,a),o.locals&&(r.exports=o.locals)},function(r,i,s){i=r.exports=s(13)(void 0),i.push([r.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(r,i){function s(a,u){var c=a[1]||"",h=a[3];if(!h)return c;if(u&&typeof btoa=="function"){var f=o(h);return[c].concat(h.sources.map(function(m){return"/*# sourceURL="+h.sourceRoot+m+" */"})).concat([f]).join(`
`)}return[c].join(`
`)}function o(a){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"}r.exports=function(a){var u=[];return u.toString=function(){return this.map(function(c){var h=s(c,a);return c[2]?"@media "+c[2]+"{"+h+"}":h}).join("")},u.i=function(c,h){typeof c=="string"&&(c=[[null,c,""]]);for(var f={},m=0;m<this.length;m++){var y=this[m][0];typeof y=="number"&&(f[y]=!0)}for(m=0;m<c.length;m++){var S=c[m];typeof S[0]=="number"&&f[S[0]]||(h&&!S[2]?S[2]=h:h&&(S[2]="("+S[2]+") and ("+h+")"),u.push(S))}},u}},function(r,i,s){function o(N,F){for(var $=0;$<N.length;$++){var M=N[$],B=A[M.id];if(B){B.refs++;for(var R=0;R<B.parts.length;R++)B.parts[R](M.parts[R]);for(;R<M.parts.length;R++)B.parts.push(y(M.parts[R],F))}else{for(var H=[],R=0;R<M.parts.length;R++)H.push(y(M.parts[R],F));A[M.id]={id:M.id,refs:1,parts:H}}}}function a(N,F){for(var $=[],M={},B=0;B<N.length;B++){var R=N[B],H=F.base?R[0]+F.base:R[0],V=R[1],Y=R[2],Q=R[3],G={css:V,media:Y,sourceMap:Q};M[H]?M[H].parts.push(G):$.push(M[H]={id:H,parts:[G]})}return $}function u(N,F){var $=w(N.insertInto);if(!$)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var M=k[k.length-1];if(N.insertAt==="top")M?M.nextSibling?$.insertBefore(F,M.nextSibling):$.appendChild(F):$.insertBefore(F,$.firstChild),k.push(F);else{if(N.insertAt!=="bottom")throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");$.appendChild(F)}}function c(N){if(N.parentNode===null)return!1;N.parentNode.removeChild(N);var F=k.indexOf(N);F>=0&&k.splice(F,1)}function h(N){var F=document.createElement("style");return N.attrs.type="text/css",m(F,N.attrs),u(N,F),F}function f(N){var F=document.createElement("link");return N.attrs.type="text/css",N.attrs.rel="stylesheet",m(F,N.attrs),u(N,F),F}function m(N,F){Object.keys(F).forEach(function($){N.setAttribute($,F[$])})}function y(N,F){var $,M,B,R;if(F.transform&&N.css){if(!(R=F.transform(N.css)))return function(){};N.css=R}if(F.singleton){var H=P++;$=_||(_=h(F)),M=S.bind(null,$,H,!1),B=S.bind(null,$,H,!0)}else N.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?($=f(F),M=T.bind(null,$,F),B=function(){c($),$.href&&URL.revokeObjectURL($.href)}):($=h(F),M=C.bind(null,$),B=function(){c($)});return M(N),function(V){if(V){if(V.css===N.css&&V.media===N.media&&V.sourceMap===N.sourceMap)return;M(N=V)}else B()}}function S(N,F,$,M){var B=$?"":M.css;if(N.styleSheet)N.styleSheet.cssText=O(F,B);else{var R=document.createTextNode(B),H=N.childNodes;H[F]&&N.removeChild(H[F]),H.length?N.insertBefore(R,H[F]):N.appendChild(R)}}function C(N,F){var $=F.css,M=F.media;if(M&&N.setAttribute("media",M),N.styleSheet)N.styleSheet.cssText=$;else{for(;N.firstChild;)N.removeChild(N.firstChild);N.appendChild(document.createTextNode($))}}function T(N,F,$){var M=$.css,B=$.sourceMap,R=F.convertToAbsoluteUrls===void 0&&B;(F.convertToAbsoluteUrls||R)&&(M=j(M)),B&&(M+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(B))))+" */");var H=new Blob([M],{type:"text/css"}),V=N.href;N.href=URL.createObjectURL(H),V&&URL.revokeObjectURL(V)}var A={},g=function(N){var F;return function(){return F===void 0&&(F=N.apply(this,arguments)),F}}(function(){return window&&document&&document.all&&!window.atob}),w=function(N){var F={};return function($){return F[$]===void 0&&(F[$]=N.call(this,$)),F[$]}}(function(N){return document.querySelector(N)}),_=null,P=0,k=[],j=s(15);r.exports=function(N,F){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");F=F||{},F.attrs=typeof F.attrs=="object"?F.attrs:{},F.singleton||(F.singleton=g()),F.insertInto||(F.insertInto="head"),F.insertAt||(F.insertAt="bottom");var $=a(N,F);return o($,F),function(M){for(var B=[],R=0;R<$.length;R++){var H=$[R],V=A[H.id];V.refs--,B.push(V)}M&&o(a(M,F),F);for(var R=0;R<B.length;R++){var V=B[R];if(V.refs===0){for(var Y=0;Y<V.parts.length;Y++)V.parts[Y]();delete A[V.id]}}}};var O=function(){var N=[];return function(F,$){return N[F]=$,N.filter(Boolean).join(`
`)}}()},function(r,i){r.exports=function(s){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!s||typeof s!="string")return s;var a=o.protocol+"//"+o.host,u=a+o.pathname.replace(/\/[^\/]*$/,"/");return s.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(c,h){var f=h.trim().replace(/^"(.*)"$/,function(y,S){return S}).replace(/^'(.*)'$/,function(y,S){return S});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(f))return c;var m;return m=f.indexOf("//")===0?f:f.indexOf("/")===0?a+f:u+f.replace(/^\.\//,""),"url("+JSON.stringify(m)+")"})}},function(r,i,s){var o=s(17);typeof window>"u"||window.Promise||(window.Promise=o),s(21),String.prototype.includes||(String.prototype.includes=function(a,u){return typeof u!="number"&&(u=0),!(u+a.length>this.length)&&this.indexOf(a,u)!==-1}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(a,u){if(this==null)throw new TypeError('"this" is null or not defined');var c=Object(this),h=c.length>>>0;if(h===0)return!1;for(var f=0|u,m=Math.max(f>=0?f:h-Math.abs(f),0);m<h;){if(function(y,S){return y===S||typeof y=="number"&&typeof S=="number"&&isNaN(y)&&isNaN(S)}(c[m],a))return!0;m++}return!1}}),typeof window<"u"&&function(a){a.forEach(function(u){u.hasOwnProperty("remove")||Object.defineProperty(u,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(r,i,s){(function(o){(function(a){function u(){}function c(g,w){return function(){g.apply(w,arguments)}}function h(g){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof g!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],T(g,this)}function f(g,w){for(;g._state===3;)g=g._value;if(g._state===0)return void g._deferreds.push(w);g._handled=!0,h._immediateFn(function(){var _=g._state===1?w.onFulfilled:w.onRejected;if(_===null)return void(g._state===1?m:y)(w.promise,g._value);var P;try{P=_(g._value)}catch(k){return void y(w.promise,k)}m(w.promise,P)})}function m(g,w){try{if(w===g)throw new TypeError("A promise cannot be resolved with itself.");if(w&&(typeof w=="object"||typeof w=="function")){var _=w.then;if(w instanceof h)return g._state=3,g._value=w,void S(g);if(typeof _=="function")return void T(c(_,w),g)}g._state=1,g._value=w,S(g)}catch(P){y(g,P)}}function y(g,w){g._state=2,g._value=w,S(g)}function S(g){g._state===2&&g._deferreds.length===0&&h._immediateFn(function(){g._handled||h._unhandledRejectionFn(g._value)});for(var w=0,_=g._deferreds.length;w<_;w++)f(g,g._deferreds[w]);g._deferreds=null}function C(g,w,_){this.onFulfilled=typeof g=="function"?g:null,this.onRejected=typeof w=="function"?w:null,this.promise=_}function T(g,w){var _=!1;try{g(function(P){_||(_=!0,m(w,P))},function(P){_||(_=!0,y(w,P))})}catch(P){if(_)return;_=!0,y(w,P)}}var A=setTimeout;h.prototype.catch=function(g){return this.then(null,g)},h.prototype.then=function(g,w){var _=new this.constructor(u);return f(this,new C(g,w,_)),_},h.all=function(g){var w=Array.prototype.slice.call(g);return new h(function(_,P){function k(N,F){try{if(F&&(typeof F=="object"||typeof F=="function")){var $=F.then;if(typeof $=="function")return void $.call(F,function(M){k(N,M)},P)}w[N]=F,--j==0&&_(w)}catch(M){P(M)}}if(w.length===0)return _([]);for(var j=w.length,O=0;O<w.length;O++)k(O,w[O])})},h.resolve=function(g){return g&&typeof g=="object"&&g.constructor===h?g:new h(function(w){w(g)})},h.reject=function(g){return new h(function(w,_){_(g)})},h.race=function(g){return new h(function(w,_){for(var P=0,k=g.length;P<k;P++)g[P].then(w,_)})},h._immediateFn=typeof o=="function"&&function(g){o(g)}||function(g){A(g,0)},h._unhandledRejectionFn=function(g){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",g)},h._setImmediateFn=function(g){h._immediateFn=g},h._setUnhandledRejectionFn=function(g){h._unhandledRejectionFn=g},r!==void 0&&r.exports?r.exports=h:a.Promise||(a.Promise=h)})(this)}).call(i,s(18).setImmediate)},function(r,i,s){function o(u,c){this._id=u,this._clearFn=c}var a=Function.prototype.apply;i.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(u){u&&u.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(u,c){clearTimeout(u._idleTimeoutId),u._idleTimeout=c},i.unenroll=function(u){clearTimeout(u._idleTimeoutId),u._idleTimeout=-1},i._unrefActive=i.active=function(u){clearTimeout(u._idleTimeoutId);var c=u._idleTimeout;c>=0&&(u._idleTimeoutId=setTimeout(function(){u._onTimeout&&u._onTimeout()},c))},s(19),i.setImmediate=setImmediate,i.clearImmediate=clearImmediate},function(r,i,s){(function(o,a){(function(u,c){function h(_){typeof _!="function"&&(_=new Function(""+_));for(var P=new Array(arguments.length-1),k=0;k<P.length;k++)P[k]=arguments[k+1];var j={callback:_,args:P};return T[C]=j,S(C),C++}function f(_){delete T[_]}function m(_){var P=_.callback,k=_.args;switch(k.length){case 0:P();break;case 1:P(k[0]);break;case 2:P(k[0],k[1]);break;case 3:P(k[0],k[1],k[2]);break;default:P.apply(c,k)}}function y(_){if(A)setTimeout(y,0,_);else{var P=T[_];if(P){A=!0;try{m(P)}finally{f(_),A=!1}}}}if(!u.setImmediate){var S,C=1,T={},A=!1,g=u.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(u);w=w&&w.setTimeout?w:u,{}.toString.call(u.process)==="[object process]"?function(){S=function(_){a.nextTick(function(){y(_)})}}():function(){if(u.postMessage&&!u.importScripts){var _=!0,P=u.onmessage;return u.onmessage=function(){_=!1},u.postMessage("","*"),u.onmessage=P,_}}()?function(){var _="setImmediate$"+Math.random()+"$",P=function(k){k.source===u&&typeof k.data=="string"&&k.data.indexOf(_)===0&&y(+k.data.slice(_.length))};u.addEventListener?u.addEventListener("message",P,!1):u.attachEvent("onmessage",P),S=function(k){u.postMessage(_+k,"*")}}():u.MessageChannel?function(){var _=new MessageChannel;_.port1.onmessage=function(P){y(P.data)},S=function(P){_.port2.postMessage(P)}}():g&&"onreadystatechange"in g.createElement("script")?function(){var _=g.documentElement;S=function(P){var k=g.createElement("script");k.onreadystatechange=function(){y(P),k.onreadystatechange=null,_.removeChild(k),k=null},_.appendChild(k)}}():function(){S=function(_){setTimeout(y,0,_)}}(),w.setImmediate=h,w.clearImmediate=f}})(typeof self>"u"?o===void 0?this:o:self)}).call(i,s(7),s(20))},function(r,i){function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(_){if(y===setTimeout)return setTimeout(_,0);if((y===s||!y)&&setTimeout)return y=setTimeout,setTimeout(_,0);try{return y(_,0)}catch{try{return y.call(null,_,0)}catch{return y.call(this,_,0)}}}function u(_){if(S===clearTimeout)return clearTimeout(_);if((S===o||!S)&&clearTimeout)return S=clearTimeout,clearTimeout(_);try{return S(_)}catch{try{return S.call(null,_)}catch{return S.call(this,_)}}}function c(){g&&T&&(g=!1,T.length?A=T.concat(A):w=-1,A.length&&h())}function h(){if(!g){var _=a(c);g=!0;for(var P=A.length;P;){for(T=A,A=[];++w<P;)T&&T[w].run();w=-1,P=A.length}T=null,g=!1,u(_)}}function f(_,P){this.fun=_,this.array=P}function m(){}var y,S,C=r.exports={};(function(){try{y=typeof setTimeout=="function"?setTimeout:s}catch{y=s}try{S=typeof clearTimeout=="function"?clearTimeout:o}catch{S=o}})();var T,A=[],g=!1,w=-1;C.nextTick=function(_){var P=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)P[k-1]=arguments[k];A.push(new f(_,P)),A.length!==1||g||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},C.title="browser",C.browser=!0,C.env={},C.argv=[],C.version="",C.versions={},C.on=m,C.addListener=m,C.once=m,C.off=m,C.removeListener=m,C.removeAllListeners=m,C.emit=m,C.prependListener=m,C.prependOnceListener=m,C.listeners=function(_){return[]},C.binding=function(_){throw new Error("process.binding is not supported")},C.cwd=function(){return"/"},C.chdir=function(_){throw new Error("process.chdir is not supported")},C.umask=function(){return 0}},function(r,i,s){s(22).polyfill()},function(r,i,s){function o(u,c){if(u==null)throw new TypeError("Cannot convert first argument to object");for(var h=Object(u),f=1;f<arguments.length;f++){var m=arguments[f];if(m!=null)for(var y=Object.keys(Object(m)),S=0,C=y.length;S<C;S++){var T=y[S],A=Object.getOwnPropertyDescriptor(m,T);A!==void 0&&A.enumerable&&(h[T]=m[T])}}return h}function a(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:o})}r.exports={assign:o,polyfill:a}},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o=s(24),a=s(6),u=s(5),c=s(36),h=function(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];if(typeof window<"u"){var y=c.getOpts.apply(void 0,f);return new Promise(function(S,C){u.default.promise={resolve:S,reject:C},o.default(y),setTimeout(function(){a.openModal()})})}};h.close=a.onAction,h.getState=a.getState,h.setActionValue=u.setActionValue,h.stopLoading=a.stopLoading,h.setDefaults=c.setDefaults,i.default=h},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o=s(1),a=s(0),u=a.default.MODAL,c=s(4),h=s(34),f=s(35),m=s(1);i.init=function(y){o.getNode(u)||(document.body||m.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),h.default(),c.default()),c.initModalContent(y),f.default(y)},i.default=i.init},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o=s(0),a=o.default.MODAL;i.modalMarkup=`
  <div class="`+a+'" role="dialog" aria-modal="true"></div>',i.default=i.modalMarkup},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o=s(0),a=o.default.OVERLAY,u=`<div 
    class="`+a+`"
    tabIndex="-1">
  </div>`;i.default=u},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o=s(0),a=o.default.ICON;i.errorIconMarkup=function(){var u=a+"--error",c=u+"__line";return`
    <div class="`+u+`__x-mark">
      <span class="`+c+" "+c+`--left"></span>
      <span class="`+c+" "+c+`--right"></span>
    </div>
  `},i.warningIconMarkup=function(){var u=a+"--warning";return`
    <span class="`+u+`__body">
      <span class="`+u+`__dot"></span>
    </span>
  `},i.successIconMarkup=function(){var u=a+"--success";return`
    <span class="`+u+"__line "+u+`__line--long"></span>
    <span class="`+u+"__line "+u+`__line--tip"></span>

    <div class="`+u+`__ring"></div>
    <div class="`+u+`__hide-corners"></div>
  `}},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o=s(0),a=o.default.CONTENT;i.contentMarkup=`
  <div class="`+a+`">

  </div>
`},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o=s(0),a=o.default.BUTTON_CONTAINER,u=o.default.BUTTON,c=o.default.BUTTON_LOADER;i.buttonMarkup=`
  <div class="`+a+`">

    <button
      class="`+u+`"
    ></button>

    <div class="`+c+`">
      <div></div>
      <div></div>
      <div></div>
    </div>

  </div>
`},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o=s(4),a=s(2),u=s(0),c=u.default.ICON,h=u.default.ICON_CUSTOM,f=["error","warning","success","info"],m={error:a.errorIconMarkup(),warning:a.warningIconMarkup(),success:a.successIconMarkup()},y=function(T,A){var g=c+"--"+T;A.classList.add(g);var w=m[T];w&&(A.innerHTML=w)},S=function(T,A){A.classList.add(h);var g=document.createElement("img");g.src=T,A.appendChild(g)},C=function(T){if(T){var A=o.injectElIntoModal(a.iconMarkup);f.includes(T)?y(T,A):S(T,A)}};i.default=C},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o=s(2),a=s(4),u=function(c){navigator.userAgent.includes("AppleWebKit")&&(c.style.display="none",c.offsetHeight,c.style.display="")};i.initTitle=function(c){if(c){var h=a.injectElIntoModal(o.titleMarkup);h.textContent=c,u(h)}},i.initText=function(c){if(c){var h=document.createDocumentFragment();c.split(`
`).forEach(function(m,y,S){h.appendChild(document.createTextNode(m)),y<S.length-1&&h.appendChild(document.createElement("br"))});var f=a.injectElIntoModal(o.textMarkup);f.appendChild(h),u(f)}}},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o=s(1),a=s(4),u=s(0),c=u.default.BUTTON,h=u.default.DANGER_BUTTON,f=s(3),m=s(2),y=s(6),S=s(5),C=function(A,g,w){var _=g.text,P=g.value,k=g.className,j=g.closeModal,O=o.stringToNode(m.buttonMarkup),N=O.querySelector("."+c),F=c+"--"+A;N.classList.add(F),k&&(Array.isArray(k)?k:k.split(" ")).filter(function(M){return M.length>0}).forEach(function(M){N.classList.add(M)}),w&&A===f.CONFIRM_KEY&&N.classList.add(h),N.textContent=_;var $={};return $[A]=P,S.setActionValue($),S.setActionOptionsFor(A,{closeModal:j}),N.addEventListener("click",function(){return y.onAction(A)}),O},T=function(A,g){var w=a.injectElIntoModal(m.footerMarkup);for(var _ in A){var P=A[_],k=C(_,P,g);P.visible&&w.appendChild(k)}w.children.length===0&&w.remove()};i.default=T},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o=s(3),a=s(4),u=s(2),c=s(5),h=s(6),f=s(0),m=f.default.CONTENT,y=function(T){T.addEventListener("input",function(A){var g=A.target,w=g.value;c.setActionValue(w)}),T.addEventListener("keyup",function(A){if(A.key==="Enter")return h.onAction(o.CONFIRM_KEY)}),setTimeout(function(){T.focus(),c.setActionValue("")},0)},S=function(T,A,g){var w=document.createElement(A),_=m+"__"+A;w.classList.add(_);for(var P in g){var k=g[P];w[P]=k}A==="input"&&y(w),T.appendChild(w)},C=function(T){if(T){var A=a.injectElIntoModal(u.contentMarkup),g=T.element,w=T.attributes;typeof g=="string"?S(A,g,w):A.appendChild(g)}};i.default=C},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o=s(1),a=s(2),u=function(){var c=o.stringToNode(a.overlayMarkup);document.body.appendChild(c)};i.default=u},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o=s(5),a=s(6),u=s(1),c=s(3),h=s(0),f=h.default.MODAL,m=h.default.BUTTON,y=h.default.OVERLAY,S=function(M){M.preventDefault(),w()},C=function(M){M.preventDefault(),_()},T=function(M){if(o.default.isOpen)switch(M.key){case"Escape":return a.onAction(c.CANCEL_KEY)}},A=function(M){if(o.default.isOpen)switch(M.key){case"Tab":return S(M)}},g=function(M){if(o.default.isOpen)return M.key==="Tab"&&M.shiftKey?C(M):void 0},w=function(){var M=u.getNode(m);M&&(M.tabIndex=0,M.focus())},_=function(){var M=u.getNode(f),B=M.querySelectorAll("."+m),R=B.length-1,H=B[R];H&&H.focus()},P=function(M){M[M.length-1].addEventListener("keydown",A)},k=function(M){M[0].addEventListener("keydown",g)},j=function(){var M=u.getNode(f),B=M.querySelectorAll("."+m);B.length&&(P(B),k(B))},O=function(M){if(u.getNode(y)===M.target)return a.onAction(c.CANCEL_KEY)},N=function(M){var B=u.getNode(y);B.removeEventListener("click",O),M&&B.addEventListener("click",O)},F=function(M){o.default.timer&&clearTimeout(o.default.timer),M&&(o.default.timer=window.setTimeout(function(){return a.onAction(c.CANCEL_KEY)},M))},$=function(M){M.closeOnEsc?document.addEventListener("keyup",T):document.removeEventListener("keyup",T),M.dangerMode?w():_(),j(),N(M.closeOnClickOutside),F(M.timer)};i.default=$},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o=s(1),a=s(3),u=s(37),c=s(38),h={title:null,text:null,icon:null,buttons:a.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},f=Object.assign({},h);i.setDefaults=function(g){f=Object.assign({},h,g)};var m=function(g){var w=g&&g.button,_=g&&g.buttons;return w!==void 0&&_!==void 0&&o.throwErr("Cannot set both 'button' and 'buttons' options!"),w!==void 0?{confirm:w}:_},y=function(g){return o.ordinalSuffixOf(g+1)},S=function(g,w){o.throwErr(y(w)+" argument ('"+g+"') is invalid")},C=function(g,w){var _=g+1,P=w[_];o.isPlainObject(P)||P===void 0||o.throwErr("Expected "+y(_)+" argument ('"+P+"') to be a plain object")},T=function(g,w){var _=g+1,P=w[_];P!==void 0&&o.throwErr("Unexpected "+y(_)+" argument ("+P+")")},A=function(g,w,_,P){var k=typeof w,j=k==="string",O=w instanceof Element;if(j){if(_===0)return{text:w};if(_===1)return{text:w,title:P[0]};if(_===2)return C(_,P),{icon:w};S(w,_)}else{if(O&&_===0)return C(_,P),{content:w};if(o.isPlainObject(w))return T(_,P),w;S(w,_)}};i.getOpts=function(){for(var g=[],w=0;w<arguments.length;w++)g[w]=arguments[w];var _={};g.forEach(function(j,O){var N=A(0,j,O,g);Object.assign(_,N)});var P=m(_);_.buttons=a.getButtonListOpts(P),delete _.button,_.content=u.getContentOpts(_.content);var k=Object.assign({},h,f,_);return Object.keys(k).forEach(function(j){c.DEPRECATED_OPTS[j]&&c.logDeprecation(j)}),k}},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0});var o=s(1),a={element:"input",attributes:{placeholder:""}};i.getContentOpts=function(u){var c={};return o.isPlainObject(u)?Object.assign(c,u):u instanceof Element?{element:u}:u==="input"?a:null}},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.logDeprecation=function(o){var a=i.DEPRECATED_OPTS[o],u=a.onlyRename,c=a.replacement,h=a.subOption,f=a.link,m=u?"renamed":"deprecated",y='SweetAlert warning: "'+o+'" option has been '+m+".";c&&(y+=" Please use"+(h?' "'+h+'" in ':" ")+'"'+c+'" instead.');var S="https://sweetalert.js.org";y+=f?" More details: "+S+f:" More details: "+S+"/guides/#upgrading-from-1x",console.warn(y)},i.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])})})(l9);const cn=Lv(Rv);async function GI(t){var r;const e=oe.currentUser.uid>t?oe.currentUser.uid+t:t+oe.currentUser.uid;try{(await PL(st(Me,"chats",e))).exists()||(await lv(st(Me,"chats",e),{messages:[]}),await Jt(st(Me,"userChats",oe.currentUser.uid),{[e+".userInfo"]:{id:t},[e+".date"]:Date.now()}),await Jt(st(Me,"userChats",t),{[e+".userInfo"]:{id:(r=oe.currentUser)==null?void 0:r.uid},[e+".date"]:Date.now()}))}catch(i){cn({title:"Oops ErRoR...",text:i.message,icon:"error"})}}const u9=({friendID:t})=>{const[e,r]=Ce.useState(!1),i=Ce.useRef(null),s=Yu(),o=Js();function a(){bI(t,oe.currentUser.uid)}return Ce.useEffect(()=>{function u(c){const h=c.target;i.current&&h.className!=="dots"&&r(!1)}return document.addEventListener("click",u),()=>{document.removeEventListener("click",u)}},[i]),X("div",{className:"dropdown-container",children:[L("div",{className:"dots",onClick:()=>r(!e),children:"..."}),e&&X("ul",{ref:i,className:`dropdown-menu ${e?"show":""}`,children:[X("li",{className:"dropdown-option-chat",onClick:()=>{s(VI(t)),GI(t),o("/messenger")},children:[L(Ae,{icon:Q8}),L("span",{children:"Chat"})]}),X("li",{className:"dropdown-option-remove",onClick:a,children:[L(Ae,{icon:Z8}),L("span",{children:"Remove friend"})]})]})]})},c9=({friendID:t})=>{const{userData:e}=Mn(t),r=ns();return X("div",{className:Ya.friend,children:[X("div",{className:Ya.info,children:[L("div",{className:Ya.avatar,children:L(_n,{to:`/users/${e==null?void 0:e.id}`,children:L(pn,{id:e==null?void 0:e.id})})}),X("div",{className:Ya.details,children:[L(_n,{to:`/users/${e==null?void 0:e.id}`,children:L("h4",{children:(e==null?void 0:e.firstName)+" "+(e==null?void 0:e.lastName)})}),X("span",{children:["@",e==null?void 0:e.username]})]})]}),oe.currentUser&&!r.pathname.includes("users")&&L("div",{className:Ya.dots,children:L(u9,{friendID:t})})]})},HI=({userData:t})=>L(Ft,{children:t==null?void 0:t.friends.map(e=>L(c9,{friendID:e},e))}),h9=()=>{var r,i;const{loading:t,userData:e}=Mn((r=oe.currentUser)==null?void 0:r.uid);return oe.currentUser&&t?X(zd,{speed:2,width:330,height:540,viewBox:"0 0 330 550",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[L("rect",{x:"188",y:"338",rx:"0",ry:"0",width:"1",height:"0"}),L("rect",{x:"7",y:"10",rx:"32",ry:"32",width:"301",height:"485"})]}):L("div",{className:cs.root,style:{display:oe.currentUser?"":"none"},children:X("div",{className:cs.container,children:[e!=null&&e.friendRequests?X(Ft,{children:[X("div",{className:cs.header,children:[L("h4",{children:"REQUESTS"}),L("span",{children:e==null?void 0:e.friendRequests.length})]}),L("div",{className:cs.requests,children:(i=e==null?void 0:e.friendRequests)==null?void 0:i.map(s=>L(v7,{id:s},s))})]}):L(Ft,{children:X("div",{className:cs.header,children:[L("h4",{children:"Requests"}),L("span",{children:"0"})]})}),X("div",{className:cs.header,children:[L("h4",{children:"FRIENDS"}),L("span",{children:e==null?void 0:e.friends.length})]}),L("div",{className:cs.friends,children:L(HI,{userData:e})})]})})},d9="_root_sdykz_1",f9="_container_sdykz_7",p9="_create_sdykz_11",m9="_avatar_sdykz_14",g9="_signIn_sdykz_19",v9="_signUp_sdykz_22",y9="_logo_sdykz_33",w9="_actions_sdykz_68",si={root:d9,container:f9,create:p9,avatar:m9,signIn:g9,signUp:v9,logo:y9,actions:w9};function y1(){const{email:t,token:e,id:r}=Ea(i=>i.authUser);return{isAuth:!!t,email:t,token:e,id:r}}const _9="_root_1glzn_1",b9="_container_1glzn_13",S9="_author_1glzn_31",C9="_avatar_1glzn_36",k9="_details_1glzn_40",E9="_closeModal_1glzn_51",x9="_text_1glzn_67",T9="_image_1glzn_79",I9="_tools_1glzn_110",P9="_submit_1glzn_121",fr={root:_9,container:b9,author:S9,avatar:C9,details:k9,closeModal:E9,text:x9,image:T9,tools:I9,submit:P9},WI=()=>{const[t,e]=Ce.useState();async function r(o){var u;const a=Pf(Af,"postImages/"+Si()+".png");if(o.text!==""&&!o.image){const c=Nr(Me,"posts");await ch(c,{id:Si(),author:{id:(u=oe.currentUser)==null?void 0:u.uid},text:o.text,likes:[],date:Date.now()}),cn({title:"Your post has been added!",icon:"success"})}else o.image&&o.text===""?await hd(a,o.image,{contentType:"image/png"}).then(async()=>{await au(a).then(async c=>{var f;const h=Nr(Me,"posts");await ch(h,{id:Si(),author:{id:(f=oe.currentUser)==null?void 0:f.uid},image:c,likes:[],date:Date.now()}),cn({title:"Your post has been added!",icon:"success"})}).catch(c=>{cn({title:"Oops ErRoR!",text:c.message,icon:"error"})})}).catch(c=>{cn({title:"Oops ErRoR!",text:c.message,icon:"error"})}):o.text!==""&&o.image?await hd(a,o.image,{contentType:"image/png"}).then(async()=>{await au(a).then(async c=>{var f;const h=Nr(Me,"posts");await ch(h,{id:Si(),author:{id:(f=oe.currentUser)==null?void 0:f.uid},text:o.text,image:c,likes:[],date:Date.now()}),cn({title:"Your post has been added!",icon:"success"})}).catch(c=>{cn({title:"Oops ErRoR!",text:c.message,icon:"error"})})}).catch(c=>{cn({title:"Oops ErRoR!",text:c.message,icon:"error"})}):cn({title:"You must fill at least one field!",icon:"warning"})}return{posts:t,getUserPosts:async o=>{const a=ou(Nr(Me,"posts"),vs("author.id","==",o),av("date","desc"));Vs(a,u=>{const c=u.docs.map(h=>({...h.data(),id:h.id}));e(c)})},getPosts:async()=>{const o=ou(Nr(Me,"posts"),av("date","desc"));Vs(o,a=>{const u=a.docs.map(c=>({...c.data(),id:c.id}));e(u)})},uploadPost:r}},w1=({setCreatePostMode:t})=>{var c,h;const{uploadPost:e}=WI(),{loading:r,userData:i}=Mn((c=oe.currentUser)==null?void 0:c.uid),[s,o]=Ce.useState({text:"",image:void 0}),a=f=>{if(f.target.files){f.preventDefault();const m=f.target.files[0];o({...s,image:m})}},u=async()=>{t(!1),console.log(s),await e(s),o({text:"",image:void 0})};return r?L(Ft,{children:"loading..."}):L("div",{className:fr.root,children:X("div",{className:fr.container,children:[X("div",{className:fr.author,children:[L("div",{className:fr.avatar,children:L(pn,{id:(h=oe.currentUser)==null?void 0:h.uid})}),X("div",{className:fr.details,children:[L("h4",{children:(i==null?void 0:i.firstName)+" "+(i==null?void 0:i.lastName)}),X("span",{children:["@",i==null?void 0:i.username]})]}),L("div",{className:fr.closeModal,onClick:()=>t(!1),children:L(Ae,{icon:U2})})]}),L("div",{className:fr.text,children:L("textarea",{placeholder:"What do you want to talk about?",onChange:f=>o({...s,text:f.target.value})})}),s.image&&X("div",{className:fr.image,children:[L("div",{onClick:()=>o({...s,image:void 0}),children:L(Ae,{icon:U2})}),L("img",{src:URL.createObjectURL(s.image)})]}),X("div",{className:fr.tools,children:[L("label",{htmlFor:"uploadImage",children:L(Ae,{icon:FT})}),L("input",{id:"uploadImage",type:"file",onChange:a,hidden:!0}),L("div",{className:fr.submit,onClick:u,children:L("span",{children:"Post"})})]})]})})},A9="_root_176u1_1",O9="_search_176u1_4",R9="_results_176u1_27",N9="_user_176u1_44",D9="_avatar_176u1_53",M9="_info_176u1_58",oi={root:A9,search:O9,results:R9,user:N9,avatar:D9,info:M9},L9=t=>{const[e,r]=Ce.useState(),i=async()=>{var o;const s=oe.currentUser?ou(Nr(Me,"users"),vs("username","!=",(o=oe.currentUser)==null?void 0:o.displayName),vs("username",">=",t),vs("username","<=",t+"")):ou(Nr(Me,"users"),vs("username",">=",t),vs("username","<=",t+""));t.length>0?Vs(s,async a=>{try{const u=a.docs.map(c=>({...c.data()}));console.log(u),await r(u)}catch(u){console.error("Error fetching data:",u)}}):r([])};return Ce.useEffect(()=>{t&&(async()=>await i())()},[t]),{users:e,getSearchUser:i}},qI=({component:t})=>{const e=ns(),[r,i]=Ce.useState(""),{users:s,getSearchUser:o}=L9(r),[a,u]=Ce.useState(!0);return Ce.useEffect(()=>{(async()=>r&&await o())()},[r]),X("div",{className:oi.root,style:{width:a?"fit-content":""},children:[X("div",{className:oi.search,style:{paddingRight:"15px"},children:[L(Ae,{icon:sU,onClick:()=>{i(""),u(!a)}}),L("input",{type:"text",placeholder:"Search for users...",value:r,onChange:c=>i(c.target.value),hidden:e.pathname.includes("messenger")?!1:a})]}),X("div",{className:oi.results,children:[r.length>0&&s&&L("ul",{children:s==null?void 0:s.map(c=>{var h;if(c.id!==((h=oe.currentUser)==null?void 0:h.uid))return X("li",{className:oi.user,style:{cursor:t==="messenger"?"pointer":""},onClick:()=>{t==="messenger"&&GI(c.id),i("")},children:[L("div",{className:oi.avatar,children:t!=="messenger"?L(_n,{to:`/users/${c.id}`,children:L(pn,{id:c.id})}):L(pn,{id:c.id})}),X("div",{className:oi.info,children:[t!=="messenger"?L(_n,{to:`/users/${c.id}`,children:L("h4",{children:c.firstName+" "+c.lastName})}):L("h4",{children:c.firstName+" "+c.lastName}),X("span",{children:["@",c.username]})]})]},c.id)})}),r.length>0&&(s==null?void 0:s.length)===0&&L("ul",{children:L("li",{className:oi.user,children:L("div",{className:oi.info,children:L("h4",{children:"Nothing found"})})})})]})]})},U9=()=>{var i,s;const{isAuth:t}=y1(),[e,r]=Ce.useState(!1);return X(Ft,{children:[e&&L(w1,{setCreatePostMode:r}),L("div",{className:si.root,children:X("div",{className:si.container,children:[L("div",{className:si.logo,children:X(_n,{to:"/",children:[X("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"100%",viewBox:"0 0 500 500",enableBackground:"new 0 0 500 500",xmlSpace:"preserve",children:[L("path",{fill:"#EFF4FC",opacity:"1.000000",stroke:"none",d:" M254.000000,501.000000   C169.333359,501.000000 85.166710,501.000000 1.000045,501.000000   C1.000030,334.333405 1.000030,167.666794 1.000015,1.000135   C167.666565,1.000090 334.333130,1.000090 500.999756,1.000045   C500.999847,167.666519 500.999847,334.333038 500.999939,500.999786   C418.833344,501.000000 336.666656,501.000000 254.000000,501.000000  M217.846771,268.640015   C229.429504,274.493561 241.196213,280.016266 252.529282,286.318756   C259.887848,290.410980 267.471161,294.755890 273.444550,300.544922   C285.766693,312.486725 280.828888,332.502045 264.635406,338.236023   C260.163086,339.819641 255.269287,340.756134 250.527481,340.943787   C227.006073,341.874603 205.248642,334.683197 183.914017,325.798401   C180.932266,324.556610 177.974823,323.256500 174.414719,321.729736   C174.414719,336.455048 174.523972,350.266266 174.336258,364.073456   C174.290558,367.436249 175.391357,369.047638 178.493607,370.357941   C207.526108,382.620605 237.576614,385.721954 268.513641,380.436066   C285.822845,377.478638 301.155609,370.452026 313.571716,357.575470   C335.330811,335.009399 338.316895,284.337585 303.087830,261.071686   C287.879364,251.027725 271.247559,243.146500 255.319717,234.180817   C248.662048,230.433273 241.901123,226.781509 235.657318,222.414062   C230.655182,218.915131 227.332825,213.891159 226.843918,207.397339   C225.729431,192.593826 234.312668,182.568420 249.704346,180.855469   C263.734711,179.294022 277.206879,182.126419 290.440735,186.322159   C297.686401,188.619354 304.769409,191.429596 312.250427,194.125488   C317.685669,181.001709 322.994904,168.182129 328.494598,154.902740   C321.597443,152.305069 315.277893,149.827332 308.891296,147.536560   C281.934937,137.867767 254.447571,134.800430 226.461929,142.162521   C185.460892,152.948517 165.276703,195.615189 183.061829,233.615784   C190.318741,249.121262 202.461258,260.033478 217.846771,268.640015  z"}),L("path",{fill:"#1978F2",opacity:"1.000000",stroke:"none",d:" M217.537811,268.441895   C202.461258,260.033478 190.318741,249.121262 183.061829,233.615784   C165.276703,195.615189 185.460892,152.948517 226.461929,142.162521   C254.447571,134.800430 281.934937,137.867767 308.891296,147.536560   C315.277893,149.827332 321.597443,152.305069 328.494598,154.902740   C322.994904,168.182129 317.685669,181.001709 312.250427,194.125488   C304.769409,191.429596 297.686401,188.619354 290.440735,186.322159   C277.206879,182.126419 263.734711,179.294022 249.704346,180.855469   C234.312668,182.568420 225.729431,192.593826 226.843918,207.397339   C227.332825,213.891159 230.655182,218.915131 235.657318,222.414062   C241.901123,226.781509 248.662048,230.433273 255.319717,234.180817   C271.247559,243.146500 287.879364,251.027725 303.087830,261.071686   C338.316895,284.337585 335.330811,335.009399 313.571716,357.575470   C301.155609,370.452026 285.822845,377.478638 268.513641,380.436066   C237.576614,385.721954 207.526108,382.620605 178.493607,370.357941   C175.391357,369.047638 174.290558,367.436249 174.336258,364.073456   C174.523972,350.266266 174.414719,336.455048 174.414719,321.729736   C177.974823,323.256500 180.932266,324.556610 183.914017,325.798401   C205.248642,334.683197 227.006073,341.874603 250.527481,340.943787   C255.269287,340.756134 260.163086,339.819641 264.635406,338.236023   C280.828888,332.502045 285.766693,312.486725 273.444550,300.544922   C267.471161,294.755890 259.887848,290.410980 252.529282,286.318756   C241.196213,280.016266 229.429504,274.493561 217.537811,268.441895  z"})]}),L("span",{children:"SocioSphere"})]})}),X("div",{className:si.actions,children:[L(qI,{}),t?X(Ft,{children:[X("div",{className:si.create,onClick:()=>r(!0),children:[L(Ae,{icon:BT}),L("span",{children:"Create"})]}),L("div",{className:si.avatar,children:L(_n,{to:`/users/${(i=oe.currentUser)==null?void 0:i.uid}`,children:L(pn,{id:(s=oe.currentUser)==null?void 0:s.uid})})})]}):X(Ft,{children:[L("div",{className:si.signIn,children:X(_n,{to:"login",children:[L(Ae,{icon:J8}),L("span",{children:"Log in"})]})}),L("div",{className:si.signUp,children:X(_n,{to:"register",children:[L(Ae,{icon:zT}),L("span",{children:"Register"})]})})]})]})]})})]})},$9="_root_c8xzi_1",F9="_page_c8xzi_19",j9="_avatar_c8xzi_27",B9="_create_c8xzi_31",zc={root:$9,page:F9,avatar:j9,create:B9};var Bb;const z9=[{link:"/",icon:W0,title:"Home"},{link:"/messenger",icon:H0,title:"Messenger"},{link:`/users/${(Bb=oe.currentUser)==null?void 0:Bb.uid}`,icon:El,title:"Profile"}],V9=()=>{const[t,e]=Ce.useState(!1);return L(Ft,{children:oe.currentUser&&X("div",{className:zc.root,children:[t&&L(w1,{setCreatePostMode:e}),z9.map(r=>{var i;return X(Ce.Fragment,{children:[r.title.toLowerCase()==="profile"&&L("div",{className:zc.create,onClick:()=>e(!0),children:L(Ae,{icon:BT})}),L(_n,{to:r.link,className:zc.page,children:r.title.toLowerCase()==="profile"?L(Ft,{children:L("div",{className:zc.avatar,children:L(pn,{id:(i=oe.currentUser)==null?void 0:i.uid})})}):L(Ae,{icon:r.icon})})]},r.title)})]})})},G9="_root_18gn5_1",H9="_container_18gn5_10",W9="_currentUser_18gn5_15",q9="_userInfo_18gn5_32",Y9="_pages_18gn5_38",K9="_page_18gn5_38",hs={root:G9,container:H9,currentUser:W9,userInfo:q9,pages:Y9,page:K9};var zb;const Pb=[{link:"/",icon:W0,title:"Home"},{link:`/users/${(zb=oe.currentUser)==null?void 0:zb.uid}`,icon:El,title:"Profile"},{link:"/messenger",icon:H0,title:"Messenger"}],Q9=()=>{var e,r,i;const{userData:t}=Mn((e=oe.currentUser)==null?void 0:e.uid);return oe.currentUser&&!t?X(zd,{speed:2,width:330,height:540,viewBox:"0 0 330 550",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[L("rect",{x:"188",y:"338",rx:"0",ry:"0",width:"1",height:"0"}),L("rect",{x:"7",y:"10",rx:"32",ry:"32",width:"301",height:"485"})]}):L("div",{className:hs.root,children:X("div",{className:hs.container,children:[oe.currentUser&&X("div",{className:hs.currentUser,children:[L(_n,{to:`/users/${(r=oe.currentUser)==null?void 0:r.uid}`,children:L(pn,{id:(i=oe.currentUser)==null?void 0:i.uid})}),X("div",{className:hs.userInfo,children:[L("h4",{children:(t==null?void 0:t.firstName)+" "+(t==null?void 0:t.lastName)}),L("span",{children:"@"+(t==null?void 0:t.username)})]})]}),L("div",{className:hs.pages,children:oe.currentUser?Pb.map((s,o)=>{var a;return X(_n,{to:s.title.toLowerCase()==="profile"?`/users/${(a=oe.currentUser)==null?void 0:a.uid}`:s.link,className:hs.page,style:{borderBottom:o===Pb.length-1?"none":""},children:[L(Ae,{icon:s.icon}),L("span",{children:s.title})]},s.title+o)}):X(_n,{to:"/",className:hs.page,children:[L(Ae,{icon:W0}),L("span",{children:"Home"})]},"home")})]})})},X9="_root_f0pt6_1",J9={root:X9},Z9=()=>{const t=ns();return X(Ft,{children:[L(U9,{}),L("div",{className:J9.root,children:t.pathname==="/register"||t.pathname==="/login"?L(Eg,{}):X(Ft,{children:[t.pathname!=="/messenger"&&L(Q9,{}),L(Eg,{}),t.pathname!=="/profile"&&L(h9,{})]})}),L(V9,{})]})};function Ys(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function tt(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function fh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fh=function(r){return typeof r}:fh=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fh(t)}function qe(t){tt(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||fh(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ej(t,e){tt(2,arguments);var r=qe(t).getTime(),i=Ys(e);return new Date(r+i)}var tj={};function Ku(){return tj}function Nv(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function ph(t,e){tt(2,arguments);var r=qe(t),i=qe(e),s=r.getTime()-i.getTime();return s<0?-1:s>0?1:s}function mh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mh=function(r){return typeof r}:mh=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mh(t)}function nj(t){return tt(1,arguments),t instanceof Date||mh(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function rj(t){if(tt(1,arguments),!nj(t)&&typeof t!="number")return!1;var e=qe(t);return!isNaN(Number(e))}function ij(t,e){tt(2,arguments);var r=qe(t),i=qe(e),s=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return s*12+o}function sj(t,e){return tt(2,arguments),qe(t).getTime()-qe(e).getTime()}var Ab={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},oj="trunc";function aj(t){return t?Ab[t]:Ab[oj]}function lj(t){tt(1,arguments);var e=qe(t);return e.setHours(23,59,59,999),e}function uj(t){tt(1,arguments);var e=qe(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function cj(t){tt(1,arguments);var e=qe(t);return lj(e).getTime()===uj(e).getTime()}function hj(t,e){tt(2,arguments);var r=qe(t),i=qe(e),s=ph(r,i),o=Math.abs(ij(r,i)),a;if(o<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*o);var u=ph(r,i)===-s;cj(qe(t))&&o===1&&ph(t,i)===1&&(u=!1),a=s*(o-Number(u))}return a===0?0:a}function dj(t,e,r){tt(2,arguments);var i=sj(t,e)/1e3;return aj(r==null?void 0:r.roundingMethod)(i)}function fj(t,e){tt(2,arguments);var r=Ys(e);return ej(t,-r)}var pj=864e5;function mj(t){tt(1,arguments);var e=qe(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var i=e.getTime(),s=r-i;return Math.floor(s/pj)+1}function Sd(t){tt(1,arguments);var e=1,r=qe(t),i=r.getUTCDay(),s=(i<e?7:0)+i-e;return r.setUTCDate(r.getUTCDate()-s),r.setUTCHours(0,0,0,0),r}function YI(t){tt(1,arguments);var e=qe(t),r=e.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(r+1,0,4),i.setUTCHours(0,0,0,0);var s=Sd(i),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var a=Sd(o);return e.getTime()>=s.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function gj(t){tt(1,arguments);var e=YI(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var i=Sd(r);return i}var vj=6048e5;function yj(t){tt(1,arguments);var e=qe(t),r=Sd(e).getTime()-gj(e).getTime();return Math.round(r/vj)+1}function Cd(t,e){var r,i,s,o,a,u,c,h;tt(1,arguments);var f=Ku(),m=Ys((r=(i=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&s!==void 0?s:f.weekStartsOn)!==null&&i!==void 0?i:(c=f.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&r!==void 0?r:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=qe(t),S=y.getUTCDay(),C=(S<m?7:0)+S-m;return y.setUTCDate(y.getUTCDate()-C),y.setUTCHours(0,0,0,0),y}function KI(t,e){var r,i,s,o,a,u,c,h;tt(1,arguments);var f=qe(t),m=f.getUTCFullYear(),y=Ku(),S=Ys((r=(i=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&s!==void 0?s:y.firstWeekContainsDate)!==null&&i!==void 0?i:(c=y.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=new Date(0);C.setUTCFullYear(m+1,0,S),C.setUTCHours(0,0,0,0);var T=Cd(C,e),A=new Date(0);A.setUTCFullYear(m,0,S),A.setUTCHours(0,0,0,0);var g=Cd(A,e);return f.getTime()>=T.getTime()?m+1:f.getTime()>=g.getTime()?m:m-1}function wj(t,e){var r,i,s,o,a,u,c,h;tt(1,arguments);var f=Ku(),m=Ys((r=(i=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&i!==void 0?i:(c=f.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&r!==void 0?r:1),y=KI(t,e),S=new Date(0);S.setUTCFullYear(y,0,m),S.setUTCHours(0,0,0,0);var C=Cd(S,e);return C}var _j=6048e5;function bj(t,e){tt(1,arguments);var r=qe(t),i=Cd(r,e).getTime()-wj(r,e).getTime();return Math.round(i/_j)+1}function $e(t,e){for(var r=t<0?"-":"",i=Math.abs(t).toString();i.length<e;)i="0"+i;return r+i}var Sj={y:function(e,r){var i=e.getUTCFullYear(),s=i>0?i:1-i;return $e(r==="yy"?s%100:s,r.length)},M:function(e,r){var i=e.getUTCMonth();return r==="M"?String(i+1):$e(i+1,2)},d:function(e,r){return $e(e.getUTCDate(),r.length)},a:function(e,r){var i=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h:function(e,r){return $e(e.getUTCHours()%12||12,r.length)},H:function(e,r){return $e(e.getUTCHours(),r.length)},m:function(e,r){return $e(e.getUTCMinutes(),r.length)},s:function(e,r){return $e(e.getUTCSeconds(),r.length)},S:function(e,r){var i=r.length,s=e.getUTCMilliseconds(),o=Math.floor(s*Math.pow(10,i-3));return $e(o,r.length)}};const ai=Sj;var ao={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Cj={G:function(e,r,i){var s=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return i.era(s,{width:"abbreviated"});case"GGGGG":return i.era(s,{width:"narrow"});case"GGGG":default:return i.era(s,{width:"wide"})}},y:function(e,r,i){if(r==="yo"){var s=e.getUTCFullYear(),o=s>0?s:1-s;return i.ordinalNumber(o,{unit:"year"})}return ai.y(e,r)},Y:function(e,r,i,s){var o=KI(e,s),a=o>0?o:1-o;if(r==="YY"){var u=a%100;return $e(u,2)}return r==="Yo"?i.ordinalNumber(a,{unit:"year"}):$e(a,r.length)},R:function(e,r){var i=YI(e);return $e(i,r.length)},u:function(e,r){var i=e.getUTCFullYear();return $e(i,r.length)},Q:function(e,r,i){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return $e(s,2);case"Qo":return i.ordinalNumber(s,{unit:"quarter"});case"QQQ":return i.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,r,i){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return $e(s,2);case"qo":return i.ordinalNumber(s,{unit:"quarter"});case"qqq":return i.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,r,i){var s=e.getUTCMonth();switch(r){case"M":case"MM":return ai.M(e,r);case"Mo":return i.ordinalNumber(s+1,{unit:"month"});case"MMM":return i.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(s,{width:"wide",context:"formatting"})}},L:function(e,r,i){var s=e.getUTCMonth();switch(r){case"L":return String(s+1);case"LL":return $e(s+1,2);case"Lo":return i.ordinalNumber(s+1,{unit:"month"});case"LLL":return i.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(s,{width:"wide",context:"standalone"})}},w:function(e,r,i,s){var o=bj(e,s);return r==="wo"?i.ordinalNumber(o,{unit:"week"}):$e(o,r.length)},I:function(e,r,i){var s=yj(e);return r==="Io"?i.ordinalNumber(s,{unit:"week"}):$e(s,r.length)},d:function(e,r,i){return r==="do"?i.ordinalNumber(e.getUTCDate(),{unit:"date"}):ai.d(e,r)},D:function(e,r,i){var s=mj(e);return r==="Do"?i.ordinalNumber(s,{unit:"dayOfYear"}):$e(s,r.length)},E:function(e,r,i){var s=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return i.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(s,{width:"short",context:"formatting"});case"EEEE":default:return i.day(s,{width:"wide",context:"formatting"})}},e:function(e,r,i,s){var o=e.getUTCDay(),a=(o-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(a);case"ee":return $e(a,2);case"eo":return i.ordinalNumber(a,{unit:"day"});case"eee":return i.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(o,{width:"short",context:"formatting"});case"eeee":default:return i.day(o,{width:"wide",context:"formatting"})}},c:function(e,r,i,s){var o=e.getUTCDay(),a=(o-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(a);case"cc":return $e(a,r.length);case"co":return i.ordinalNumber(a,{unit:"day"});case"ccc":return i.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(o,{width:"narrow",context:"standalone"});case"cccccc":return i.day(o,{width:"short",context:"standalone"});case"cccc":default:return i.day(o,{width:"wide",context:"standalone"})}},i:function(e,r,i){var s=e.getUTCDay(),o=s===0?7:s;switch(r){case"i":return String(o);case"ii":return $e(o,r.length);case"io":return i.ordinalNumber(o,{unit:"day"});case"iii":return i.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(s,{width:"short",context:"formatting"});case"iiii":default:return i.day(s,{width:"wide",context:"formatting"})}},a:function(e,r,i){var s=e.getUTCHours(),o=s/12>=1?"pm":"am";switch(r){case"a":case"aa":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,r,i){var s=e.getUTCHours(),o;switch(s===12?o=ao.noon:s===0?o=ao.midnight:o=s/12>=1?"pm":"am",r){case"b":case"bb":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,r,i){var s=e.getUTCHours(),o;switch(s>=17?o=ao.evening:s>=12?o=ao.afternoon:s>=4?o=ao.morning:o=ao.night,r){case"B":case"BB":case"BBB":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,r,i){if(r==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),i.ordinalNumber(s,{unit:"hour"})}return ai.h(e,r)},H:function(e,r,i){return r==="Ho"?i.ordinalNumber(e.getUTCHours(),{unit:"hour"}):ai.H(e,r)},K:function(e,r,i){var s=e.getUTCHours()%12;return r==="Ko"?i.ordinalNumber(s,{unit:"hour"}):$e(s,r.length)},k:function(e,r,i){var s=e.getUTCHours();return s===0&&(s=24),r==="ko"?i.ordinalNumber(s,{unit:"hour"}):$e(s,r.length)},m:function(e,r,i){return r==="mo"?i.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):ai.m(e,r)},s:function(e,r,i){return r==="so"?i.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):ai.s(e,r)},S:function(e,r){return ai.S(e,r)},X:function(e,r,i,s){var o=s._originalDate||e,a=o.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return Rb(a);case"XXXX":case"XX":return gs(a);case"XXXXX":case"XXX":default:return gs(a,":")}},x:function(e,r,i,s){var o=s._originalDate||e,a=o.getTimezoneOffset();switch(r){case"x":return Rb(a);case"xxxx":case"xx":return gs(a);case"xxxxx":case"xxx":default:return gs(a,":")}},O:function(e,r,i,s){var o=s._originalDate||e,a=o.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Ob(a,":");case"OOOO":default:return"GMT"+gs(a,":")}},z:function(e,r,i,s){var o=s._originalDate||e,a=o.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Ob(a,":");case"zzzz":default:return"GMT"+gs(a,":")}},t:function(e,r,i,s){var o=s._originalDate||e,a=Math.floor(o.getTime()/1e3);return $e(a,r.length)},T:function(e,r,i,s){var o=s._originalDate||e,a=o.getTime();return $e(a,r.length)}};function Ob(t,e){var r=t>0?"-":"+",i=Math.abs(t),s=Math.floor(i/60),o=i%60;if(o===0)return r+String(s);var a=e||"";return r+String(s)+a+$e(o,2)}function Rb(t,e){if(t%60===0){var r=t>0?"-":"+";return r+$e(Math.abs(t)/60,2)}return gs(t,e)}function gs(t,e){var r=e||"",i=t>0?"-":"+",s=Math.abs(t),o=$e(Math.floor(s/60),2),a=$e(s%60,2);return i+o+r+a}const kj=Cj;var Nb=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},QI=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Ej=function(e,r){var i=e.match(/(P+)(p+)?/)||[],s=i[1],o=i[2];if(!o)return Nb(e,r);var a;switch(s){case"P":a=r.dateTime({width:"short"});break;case"PP":a=r.dateTime({width:"medium"});break;case"PPP":a=r.dateTime({width:"long"});break;case"PPPP":default:a=r.dateTime({width:"full"});break}return a.replace("{{date}}",Nb(s,r)).replace("{{time}}",QI(o,r))},xj={p:QI,P:Ej};const Tj=xj;var Ij=["D","DD"],Pj=["YY","YYYY"];function Aj(t){return Ij.indexOf(t)!==-1}function Oj(t){return Pj.indexOf(t)!==-1}function Db(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Rj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Nj=function(e,r,i){var s,o=Rj[e];return typeof o=="string"?s=o:r===1?s=o.one:s=o.other.replace("{{count}}",r.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+s:s+" ago":s};const Dj=Nj;function Cm(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,i=t.formats[r]||t.formats[t.defaultWidth];return i}}var Mj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Lj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Uj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$j={date:Cm({formats:Mj,defaultWidth:"full"}),time:Cm({formats:Lj,defaultWidth:"full"}),dateTime:Cm({formats:Uj,defaultWidth:"full"})};const Fj=$j;var jj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Bj=function(e,r,i,s){return jj[e]};const zj=Bj;function Ka(t){return function(e,r){var i=r!=null&&r.context?String(r.context):"standalone",s;if(i==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{var u=t.defaultWidth,c=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[c]||t.values[u]}var h=t.argumentCallback?t.argumentCallback(e):e;return s[h]}}var Vj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Hj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Wj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Yj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Kj=function(e,r){var i=Number(e),s=i%100;if(s>20||s<10)switch(s%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},Qj={ordinalNumber:Kj,era:Ka({values:Vj,defaultWidth:"wide"}),quarter:Ka({values:Gj,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ka({values:Hj,defaultWidth:"wide"}),day:Ka({values:Wj,defaultWidth:"wide"}),dayPeriod:Ka({values:qj,defaultWidth:"wide",formattingValues:Yj,defaultFormattingWidth:"wide"})};const Xj=Qj;function Qa(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.width,s=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;var a=o[0],u=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?Zj(u,function(m){return m.test(a)}):Jj(u,function(m){return m.test(a)}),h;h=t.valueCallback?t.valueCallback(c):c,h=r.valueCallback?r.valueCallback(h):h;var f=e.slice(a.length);return{value:h,rest:f}}}function Jj(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function Zj(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function eB(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.match(t.matchPattern);if(!i)return null;var s=i[0],o=e.match(t.parsePattern);if(!o)return null;var a=t.valueCallback?t.valueCallback(o[0]):o[0];a=r.valueCallback?r.valueCallback(a):a;var u=e.slice(s.length);return{value:a,rest:u}}}var tB=/^(\d+)(th|st|nd|rd)?/i,nB=/\d+/i,rB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},iB={any:[/^b/i,/^(a|c)/i]},sB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oB={any:[/1/i,/2/i,/3/i,/4/i]},aB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},uB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fB={ordinalNumber:eB({matchPattern:tB,parsePattern:nB,valueCallback:function(e){return parseInt(e,10)}}),era:Qa({matchPatterns:rB,defaultMatchWidth:"wide",parsePatterns:iB,defaultParseWidth:"any"}),quarter:Qa({matchPatterns:sB,defaultMatchWidth:"wide",parsePatterns:oB,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Qa({matchPatterns:aB,defaultMatchWidth:"wide",parsePatterns:lB,defaultParseWidth:"any"}),day:Qa({matchPatterns:uB,defaultMatchWidth:"wide",parsePatterns:cB,defaultParseWidth:"any"}),dayPeriod:Qa({matchPatterns:hB,defaultMatchWidth:"any",parsePatterns:dB,defaultParseWidth:"any"})};const pB=fB;var mB={code:"en-US",formatDistance:Dj,formatLong:Fj,formatRelative:zj,localize:Xj,match:pB,options:{weekStartsOn:0,firstWeekContainsDate:1}};const XI=mB;var gB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yB=/^'([^]*?)'?$/,wB=/''/g,_B=/[a-zA-Z]/;function bB(t,e,r){var i,s,o,a,u,c,h,f,m,y,S,C,T,A,g,w,_,P;tt(2,arguments);var k=String(e),j=Ku(),O=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:j.locale)!==null&&i!==void 0?i:XI,N=Ys((o=(a=(u=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(h=r.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&u!==void 0?u:j.firstWeekContainsDate)!==null&&a!==void 0?a:(m=j.locale)===null||m===void 0||(y=m.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(N>=1&&N<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var F=Ys((S=(C=(T=(A=r==null?void 0:r.weekStartsOn)!==null&&A!==void 0?A:r==null||(g=r.locale)===null||g===void 0||(w=g.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&T!==void 0?T:j.weekStartsOn)!==null&&C!==void 0?C:(_=j.locale)===null||_===void 0||(P=_.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&S!==void 0?S:0);if(!(F>=0&&F<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!O.localize)throw new RangeError("locale must contain localize property");if(!O.formatLong)throw new RangeError("locale must contain formatLong property");var $=qe(t);if(!rj($))throw new RangeError("Invalid time value");var M=Nv($),B=fj($,M),R={firstWeekContainsDate:N,weekStartsOn:F,locale:O,_originalDate:$},H=k.match(vB).map(function(V){var Y=V[0];if(Y==="p"||Y==="P"){var Q=Tj[Y];return Q(V,O.formatLong)}return V}).join("").match(gB).map(function(V){if(V==="''")return"'";var Y=V[0];if(Y==="'")return SB(V);var Q=kj[Y];if(Q)return!(r!=null&&r.useAdditionalWeekYearTokens)&&Oj(V)&&Db(V,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Aj(V)&&Db(V,e,String(t)),Q(B,V,O.localize,R);if(Y.match(_B))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");return V}).join("");return H}function SB(t){var e=t.match(yB);return e?e[1].replace(wB,"'"):t}function JI(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function CB(t){return JI({},t)}var Mb=1440,kB=2520,km=43200,EB=86400;function xB(t,e,r){var i,s;tt(2,arguments);var o=Ku(),a=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:o.locale)!==null&&i!==void 0?i:XI;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var u=ph(t,e);if(isNaN(u))throw new RangeError("Invalid time value");var c=JI(CB(r),{addSuffix:Boolean(r==null?void 0:r.addSuffix),comparison:u}),h,f;u>0?(h=qe(e),f=qe(t)):(h=qe(t),f=qe(e));var m=dj(f,h),y=(Nv(f)-Nv(h))/1e3,S=Math.round((m-y)/60),C;if(S<2)return r!=null&&r.includeSeconds?m<5?a.formatDistance("lessThanXSeconds",5,c):m<10?a.formatDistance("lessThanXSeconds",10,c):m<20?a.formatDistance("lessThanXSeconds",20,c):m<40?a.formatDistance("halfAMinute",0,c):m<60?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",1,c):S===0?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",S,c);if(S<45)return a.formatDistance("xMinutes",S,c);if(S<90)return a.formatDistance("aboutXHours",1,c);if(S<Mb){var T=Math.round(S/60);return a.formatDistance("aboutXHours",T,c)}else{if(S<kB)return a.formatDistance("xDays",1,c);if(S<km){var A=Math.round(S/Mb);return a.formatDistance("xDays",A,c)}else if(S<EB)return C=Math.round(S/km),a.formatDistance("aboutXMonths",C,c)}if(C=hj(f,h),C<12){var g=Math.round(S/km);return a.formatDistance("xMonths",g,c)}else{var w=C%12,_=Math.floor(C/12);return w<3?a.formatDistance("aboutXYears",_,c):w<9?a.formatDistance("overXYears",_,c):a.formatDistance("almostXYears",_+1,c)}}function ZI(t,e){return tt(1,arguments),xB(t,Date.now(),e)}const TB="_post_2mk1f_1",IB="_author_2mk1f_13",PB="_authorInfo_2mk1f_24",AB="_description_2mk1f_35",OB="_images_2mk1f_40",RB="_actions_2mk1f_54",NB="_like_2mk1f_59",DB="_comment_2mk1f_77",MB="_commentsSection_2mk1f_96",LB="_comments_2mk1f_96",pr={post:TB,author:IB,authorInfo:PB,description:AB,images:OB,actions:RB,like:NB,comment:DB,commentsSection:MB,comments:LB};async function UB(t,e,r){const i=st(Me,"posts",t);await Jt(i,{likes:r?la(e):aa(e)})}const np=(t,e,r)=>{const[i,s]=Ce.useState();async function o(){var c;if(e){r&&r("");const h=Nr(Me,"comments");await ch(h,{id:Si(),postId:t,author:{id:(c=oe.currentUser)==null?void 0:c.uid},comment:e,date:Date.now()})}else alert("Write some comment")}async function a(c){const h=ou(Nr(Me,"comments"),vs("postId","==",c),av("date","desc"));Vs(h,f=>{const m=f.docs.map(y=>({...y.data(),id:y.id}));s(m)})}function u(c){const h=st(Me,"comments",c);cn({title:"Are you sure?",text:"Once deleted this comment, you will not be able to recover it.",icon:"warning",dangerMode:!0,buttons:["Cancel","Delete"]}).then(async f=>{f&&await AL(h).then(()=>{cn("Poof! Your comment has been deleted!",{icon:"success"})}).catch(m=>{cn(m.message,{icon:"error"})})})}return{comments:i,getComments:a,onAddComment:o,deleteComment:u}},$B="_root_19hw6_1",FB="_avatar_19hw6_9",jB="_commentDetails_19hw6_12",BB="_info_19hw6_15",zB="_commentText_19hw6_26",Xa={root:$B,avatar:FB,commentDetails:jB,info:BB,commentText:zB},VB=({id:t,author:e,comment:r,date:i})=>{var u;const{userData:s}=Mn(e.id),{deleteComment:o}=np();async function a(){o(t)}return X("div",{className:Xa.root,children:[L("div",{className:Xa.avatar,children:L(pn,{id:e.id})}),X("div",{className:Xa.commentDetails,children:[X("div",{className:Xa.info,children:[L("h4",{children:s&&s.firstName+" "+s.lastName}),X("span",{children:[ZI(i)," ago"]})]}),X("div",{className:Xa.commentText,children:[L("span",{children:r}),((u=oe.currentUser)==null?void 0:u.uid)===e.id&&L(Ae,{icon:Y8,onClick:a})]})]})]})},GB=({postID:t})=>{const{comments:e,getComments:r}=np();return Ce.useEffect(()=>{(async()=>await r(t))()},[e]),L(Ft,{children:e==null?void 0:e.map(i=>L(VB,{...i},i.id))})},HB="_writeComment_81rbz_1",WB="_avatar_81rbz_7",qB="_input_81rbz_10",Em={writeComment:HB,avatar:WB,input:qB},YB=({postID:t})=>{var o;const[e,r]=Ce.useState(""),{onAddComment:i}=np(t,e,r);async function s(){oe.currentUser&&await i()}return X("div",{className:Em.writeComment,children:[oe.currentUser&&L("div",{className:Em.avatar,children:L(pn,{id:(o=oe.currentUser)==null?void 0:o.uid})}),X("div",{className:Em.input,children:[L("input",{type:"text",value:e,placeholder:oe.currentUser?"Add a comment...":"Log in to comment this post...",onChange:a=>r(a.target.value)}),L(Ae,{icon:lU,onClick:s})]})]})},KB="_root_1rp4n_1",QB="_container_1rp4n_13",Lb={root:KB,container:QB},XB=({image:t,setMode:e})=>L("div",{className:Lb.root,children:X("div",{className:Lb.container,children:[L("span",{onClick:()=>e(!1),children:L(Ae,{icon:cU})}),L("img",{src:t,alt:""})]})}),JB=({id:t,text:e,image:r,author:i,date:s,likes:o})=>{const{userData:a}=Mn(i.id),[u,c]=Ce.useState(!1),[h,f]=Ce.useState(),[m,y]=Ce.useState(!1),{comments:S,getComments:C}=np(),T=Js();return Ce.useEffect(()=>{(async()=>await C(t))()},[S]),Ce.useEffect(()=>{var A;oe.currentUser!==null&&f(o.includes((A=oe.currentUser)==null?void 0:A.uid))},[o]),X("div",{className:pr.post,children:[m&&L(XB,{image:r,setMode:y}),X("div",{className:pr.author,children:[L(_n,{to:`/users/${a==null?void 0:a.id}`,children:L("img",{src:a==null?void 0:a.avatar,alt:"avatar"})}),X("div",{className:pr.authorInfo,children:[L(_n,{to:`/users/${a==null?void 0:a.id}`,children:L("h4",{children:(a==null?void 0:a.firstName)+" "+(a==null?void 0:a.lastName)})}),X("span",{children:[ZI(s)," ago"]})]})]}),e&&L("div",{className:pr.description,children:e}),r&&L("div",{className:pr.images,onClick:()=>y(!0),children:L("img",{src:r,alt:"post"})}),X("div",{className:pr.actions,children:[X("div",{className:pr.like,children:[L(Ae,{onClick:()=>{var A;oe.currentUser?UB(t,(A=oe.currentUser)==null?void 0:A.uid,h):T("/login")},icon:eU,style:{color:h?"rgba(189, 9, 9, 0.979)":""}}),L("span",{children:o.length})]}),X("div",{className:pr.comment,children:[L(Ae,{icon:H0,style:{color:u?"#1d3a5f":""},onClick:()=>{c(u===!1)}}),L("span",{children:S==null?void 0:S.length})]})]}),u&&X("div",{className:pr.commentsSection,children:[L(YB,{postID:t}),L("div",{className:pr.comments,children:L(GB,{postID:t})})]})]})},e3=()=>{const{id:t}=sk(),e=ns(),{posts:r,getPosts:i,getUserPosts:s}=WI();return Ce.useEffect(()=>{(async()=>e.pathname==="/"?await i():await s(t))()},[t]),L(Ft,{children:r&&r.map(o=>L(JB,{...o},o.id))})},ZB="_root_o4g30_1",ez="_createPost_o4g30_4",tz="_container_o4g30_7",nz="_avatar_o4g30_27",rz="_posts_o4g30_37",lo={root:ZB,createPost:ez,container:tz,avatar:nz,posts:rz},iz=()=>{var i;const{userData:t}=Mn((i=oe.currentUser)==null?void 0:i.uid),[e,r]=Ce.useState(!1);return oe.currentUser&&!t?X(zd,{speed:2,width:530,height:540,viewBox:"0 0 550 550",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[L("rect",{x:"188",y:"338",rx:"0",ry:"0",width:"1",height:"0"}),L("rect",{x:"7",y:"10",rx:"32",ry:"32",width:"531",height:"485"})]}):X("div",{className:lo.root,children:[e&&L("div",{className:lo.createPost,children:L(w1,{setCreatePostMode:r})}),X("div",{className:lo.container,children:[oe.currentUser&&X("div",{className:lo.createPost,onClick:()=>r(!0),children:[L("div",{className:lo.avatar,children:L(pn,{id:oe.currentUser.uid})}),X("span",{children:["What's new ",t==null?void 0:t.firstName,"?"]})]}),L("div",{className:lo.posts,children:L(e3,{})})]})]})},sz="_root_vi5fu_1",oz="_container_vi5fu_11",az="_chatContainer_vi5fu_25",lz="_user_vi5fu_34",uz="_avatar_vi5fu_46",cz="_details_vi5fu_50",hz="_chat_vi5fu_25",dz="_message_vi5fu_85",fz="_content_vi5fu_94",pz="_text_vi5fu_114",mz="_date_vi5fu_118",gz="_messageInput_vi5fu_132",vz="_input_vi5fu_138",hn={root:sz,container:oz,chatContainer:az,user:lz,avatar:uz,details:cz,chat:hz,message:dz,content:fz,text:pz,date:mz,messageInput:gz,input:vz},yz=()=>{var i;const[t,e]=Ce.useState();async function r(){var s,o;(s=oe.currentUser)!=null&&s.uid&&Vs(st(Me,"userChats",(o=oe.currentUser)==null?void 0:o.uid),a=>{e(a.data())})}if(Ce.useEffect(()=>{r()},[(i=oe.currentUser)==null?void 0:i.uid]),t)return Object.entries(t)},wz="_chats_192tw_1",_z="_search_192tw_24",bz="_chat_192tw_1",Sz="_avatar_192tw_60",Cz="_details_192tw_64",Il={chats:wz,search:_z,chat:bz,avatar:Sz,details:Cz},kz=({chat:t})=>{var o;const{userData:e}=Mn(t[1].userInfo.id),r=Ea(a=>a.currentChat.userID),i=Yu();function s(){i(VI(t[1].userInfo.id))}return X("div",{className:Il.chat,onClick:s,style:{backgroundColor:r===(e==null?void 0:e.id)?"rgb(249, 250, 252)":""},children:[L("div",{className:Il.avatar,children:L(pn,{id:e==null?void 0:e.id})}),X("div",{className:Il.details,children:[L("h4",{children:`${e==null?void 0:e.firstName} ${e==null?void 0:e.lastName}`}),L("span",{children:(o=t[1].lastMessage)==null?void 0:o.text})]})]})},Ez=()=>{const t=yz();return X("div",{className:Il.chats,children:[L("div",{className:Il.search,children:L(qI,{component:"messenger"})}),t==null?void 0:t.sort((e,r)=>r[1].date-e[1].date).map(e=>L(kz,{chat:e},e[0]))]})},xz=()=>{const[t,e]=Ce.useState([]),r=Ea(s=>s.currentChat.chatID);async function i(){var s;(s=oe.currentUser)!=null&&s.uid&&Vs(st(Me,"chats",r),o=>{o.exists()&&e(o.data())})}return Ce.useEffect(()=>{i()},[r]),t.messages},Ub=async(t,e,r)=>{var i;if(r){if(t.image){let s;typeof t.image=="string"?s=new Blob([t.image],{type:"image/png"}):s=t.image;const o=Pf(Af,"messageImages/"+Si());await hd(o,s,{contentType:"image/png"}).then(async()=>{await au(o).then(async a=>{var u;await Jt(st(Me,"chats",r),{messages:aa({id:Si(),text:t.text,image:a,senderID:(u=oe.currentUser)==null?void 0:u.uid,date:Date.now()})})})})}else await Jt(st(Me,"chats",r),{messages:aa({id:Si(),text:t.text,senderID:(i=oe.currentUser)==null?void 0:i.uid,date:Date.now()})});await Jt(st(Me,"userChats",oe.currentUser.uid),{[r+".lastMessage"]:{text:t.text},[r+".date"]:Date.now()}),await Jt(st(Me,"userChats",e),{[r+".lastMessage"]:{text:t.text},[r+".date"]:Date.now()})}},Tz=()=>{const t=Ea(i=>i.currentChat),[e,r]=Ce.useState({text:"",image:""});return X("div",{className:hn.input,children:[L("input",{type:"text",value:e.text,placeholder:"Write something...",onChange:i=>{r({...e,text:i.target.value})},onKeyDown:i=>{i.key==="Enter"&&(e.image!==""||e.text!==""?(Ub(e,t.userID,t.chatID),r({text:"",image:""})):alert("You must fill all fields."))}}),X("label",{htmlFor:"file",style:{backgroundColor:e.image?"#0954b6":""},children:[L(Ae,{icon:e.image?aU:FT}),L("input",{id:"file",type:"file",onChange:i=>r({...e,image:i.target.files[0]}),hidden:!0})]}),L("span",{onClick:()=>{e.image!==""||e.text!==""?(Ub(e,t.userID,t.chatID),r({text:"",image:""})):alert("You must fill all fields.")},children:L(Ae,{icon:uU})})]})},Iz=({message:t})=>{var r;const e=Ce.useRef(null);return Ce.useEffect(()=>{var i;e&&((i=e.current)==null||i.scrollIntoView({behavior:"smooth"}))},[t]),X("div",{ref:e,className:hn.message,style:{flexDirection:t.senderID===((r=oe.currentUser)==null?void 0:r.uid)?"row-reverse":void 0},children:[L("div",{className:hn.avatar,children:L(pn,{id:t.senderID})}),X("div",{className:hn.content,children:[t.image&&L("img",{src:t.image}),X("div",{className:hn.details,children:[L("span",{className:hn.text,children:t.text}),L("span",{className:hn.date,children:bB(t.date,"HH:mm")})]})]})]})},Pz=()=>{const t=xz(),e=Ea(i=>i.currentChat.userID),{userData:r}=Mn(e);return X("div",{className:hn.chatContainer,children:[e&&X("div",{className:hn.user,children:[L("div",{className:hn.avatar,children:L(pn,{id:r==null?void 0:r.id})}),X("div",{className:hn.details,children:[L("h4",{children:`${r==null?void 0:r.firstName} ${r==null?void 0:r.lastName}`}),L("span",{})]})]}),L("div",{className:hn.chat,children:t==null?void 0:t.map(i=>L(Iz,{message:i},i.id))}),L("div",{className:hn.messageInput,children:L(Tz,{})})]})},Az=()=>{const t=Ea(e=>e.currentChat.chatID);return L("div",{className:hn.root,children:X("div",{className:hn.container,children:[L(Ez,{}),t&&L(Pz,{})]})})};var Dv={},Oz={get exports(){return Dv},set exports(t){Dv=t}};(function(t,e){(function(r,i){t.exports=i(ee)})(self,function(r){return(()=>{var i={303:(u,c,h)=>{u.exports=h(302),h(200),h(630),h(16),h(677),h(635),h(166),h(140),h(922)},635:(u,c,h)=>{var f,m,y;(function(S){m=[h(302),h(677)],(y=typeof(f=function(C){var T=C.ExifMap.prototype;T.tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",34665:{36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber"},34853:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},40965:{1:"InteroperabilityIndex"}},T.tags.ifd1=T.tags,T.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"Original",2:"Horizontal flip",3:"Rotate 180 CCW",4:"Vertical flip",5:"Vertical flip + Rotate 90 CW",6:"Rotate 90 CW",7:"Horizontal flip + Rotate 90 CW",8:"Rotate 90 CCW"}},T.getText=function(A){var g=this.get(A);switch(A){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[A][g];case"ExifVersion":case"FlashpixVersion":return g?String.fromCharCode(g[0],g[1],g[2],g[3]):void 0;case"ComponentsConfiguration":return g?this.stringValues[A][g[0]]+this.stringValues[A][g[1]]+this.stringValues[A][g[2]]+this.stringValues[A][g[3]]:void 0;case"GPSVersionID":return g?g[0]+"."+g[1]+"."+g[2]+"."+g[3]:void 0}return String(g)},T.getAll=function(){var A,g,w,_={};for(A in this)Object.prototype.hasOwnProperty.call(this,A)&&((g=this[A])&&g.getAll?_[this.ifds[A].name]=g.getAll():(w=this.tags[A])&&(_[w]=this.getText(w)));return _},T.getName=function(A){var g=this.tags[A];return typeof g=="object"?this.ifds[A].name:g},function(){var A,g,w,_=T.tags;for(A in _)if(Object.prototype.hasOwnProperty.call(_,A))if(g=T.ifds[A])for(A in w=_[A])Object.prototype.hasOwnProperty.call(w,A)&&(g.map[w[A]]=Number(A));else T.map[_[A]]=Number(A)}()})=="function"?f.apply(c,m):f)===void 0||(u.exports=y)})()},677:(u,c,h)=>{var f,m,y;(function(S){m=[h(302),h(630)],(y=typeof(f=function(C){function T(P){P&&(Object.defineProperty(this,"map",{value:this.ifds[P].map}),Object.defineProperty(this,"tags",{value:this.tags&&this.tags[P]||{}}))}T.prototype.map={Orientation:274,Thumbnail:"ifd1",Blob:513,Exif:34665,GPSInfo:34853,Interoperability:40965},T.prototype.ifds={ifd1:{name:"Thumbnail",map:T.prototype.map},34665:{name:"Exif",map:{}},34853:{name:"GPSInfo",map:{}},40965:{name:"Interoperability",map:{}}},T.prototype.get=function(P){return this[P]||this[this.map[P]]};var A={1:{getValue:function(P,k){return P.getUint8(k)},size:1},2:{getValue:function(P,k){return String.fromCharCode(P.getUint8(k))},size:1,ascii:!0},3:{getValue:function(P,k,j){return P.getUint16(k,j)},size:2},4:{getValue:function(P,k,j){return P.getUint32(k,j)},size:4},5:{getValue:function(P,k,j){return P.getUint32(k,j)/P.getUint32(k+4,j)},size:8},9:{getValue:function(P,k,j){return P.getInt32(k,j)},size:4},10:{getValue:function(P,k,j){return P.getInt32(k,j)/P.getInt32(k+4,j)},size:8}};function g(P,k,j,O,N,F){var $,M,B,R,H,V,Y=A[O];if(Y){if(!((M=($=Y.size*N)>4?k+P.getUint32(j+8,F):j+8)+$>P.byteLength)){if(N===1)return Y.getValue(P,M,F);for(B=[],R=0;R<N;R+=1)B[R]=Y.getValue(P,M+R*Y.size,F);if(Y.ascii){for(H="",R=0;R<B.length&&(V=B[R])!=="\0";R+=1)H+=V;return H}return B}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")}function w(P,k,j){return(!P||P[j])&&(!k||k[j]!==!0)}function _(P,k,j,O,N,F,$,M){var B,R,H,V,Y,Q;if(j+6>P.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((R=j+2+12*(B=P.getUint16(j,O)))+4>P.byteLength)){for(H=0;H<B;H+=1)V=j+2+12*H,w($,M,Y=P.getUint16(V,O))&&(Q=g(P,k,V,P.getUint16(V+2,O),P.getUint32(V+4,O),O),N[Y]=Q,F&&(F[Y]=V));return P.getUint32(R,O)}console.log("Invalid Exif data: Invalid directory size.")}}A[7]=A[1],C.parseExifData=function(P,k,j,O,N){if(!N.disableExif){var F,$,M,B=N.includeExifTags,R=N.excludeExifTags||{34665:{37500:!0}},H=k+10;if(P.getUint32(k+4)===1165519206)if(H+8>P.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(P.getUint16(k+8)===0){switch(P.getUint16(H)){case 18761:F=!0;break;case 19789:F=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}P.getUint16(H+2,F)===42?($=P.getUint32(H+4,F),O.exif=new T,N.disableExifOffsets||(O.exifOffsets=new T,O.exifTiffOffset=H,O.exifLittleEndian=F),($=_(P,H,H+$,F,O.exif,O.exifOffsets,B,R))&&w(B,R,"ifd1")&&(O.exif.ifd1=$,O.exifOffsets&&(O.exifOffsets.ifd1=H+$)),Object.keys(O.exif.ifds).forEach(function(V){(function(Y,Q,G,K,te,ae,me){var ue=Y.exif[Q];ue&&(Y.exif[Q]=new T(Q),Y.exifOffsets&&(Y.exifOffsets[Q]=new T(Q)),_(G,K,K+ue,te,Y.exif[Q],Y.exifOffsets&&Y.exifOffsets[Q],ae&&ae[Q],me&&me[Q]))})(O,V,P,H,F,B,R)}),(M=O.exif.ifd1)&&M[513]&&(M[513]=function(V,Y,Q){if(Q){if(!(Y+Q>V.byteLength))return new Blob([C.bufferSlice.call(V.buffer,Y,Y+Q)],{type:"image/jpeg"});console.log("Invalid Exif data: Invalid thumbnail data.")}}(P,H+M[513],M[514]))):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},C.metaDataParsers.jpeg[65505].push(C.parseExifData),C.exifWriters={274:function(P,k,j){var O=k.exifOffsets[274];return O&&new DataView(P,O+8,2).setUint16(0,j,k.exifLittleEndian),P}},C.writeExifData=function(P,k,j,O){return C.exifWriters[k.exif.map[j]](P,k,O)},C.ExifMap=T})=="function"?f.apply(c,m):f)===void 0||(u.exports=y)})()},16:(u,c,h)=>{var f,m,y;(function(S){m=[h(302)],(y=typeof(f=function(C){var T=C.global;T.fetch&&T.Request&&T.Response&&T.Response.prototype.blob?C.fetchBlob=function(A,g,w){function _(P){return P.blob()}if(T.Promise&&typeof g!="function")return fetch(new Request(A,g)).then(_);fetch(new Request(A,w)).then(_).then(g).catch(function(P){g(null,P)})}:T.XMLHttpRequest&&new XMLHttpRequest().responseType===""&&(C.fetchBlob=function(A,g,w){function _(P,k){w=w||{};var j=new XMLHttpRequest;j.open(w.method||"GET",A),w.headers&&Object.keys(w.headers).forEach(function(O){j.setRequestHeader(O,w.headers[O])}),j.withCredentials=w.credentials==="include",j.responseType="blob",j.onload=function(){P(j.response)},j.onerror=j.onabort=j.ontimeout=function(O){P===k?k(null,O):k(O)},j.send(w.body)}return T.Promise&&typeof g!="function"?(w=g,new Promise(_)):_(g,g)})})=="function"?f.apply(c,m):f)===void 0||(u.exports=y)})()},140:(u,c,h)=>{var f,m,y;(function(S){m=[h(302),h(166)],(y=typeof(f=function(C){var T=C.IptcMap.prototype;T.tags={0:"ApplicationRecordVersion",3:"ObjectTypeReference",4:"ObjectAttributeReference",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectReference",15:"Category",20:"SupplementalCategories",22:"FixtureIdentifier",25:"Keywords",26:"ContentLocationCode",27:"ContentLocationName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"ReferenceService",47:"ReferenceDate",50:"ReferenceNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"Country",103:"OriginalTransmissionReference",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",121:"LocalCaption",122:"Writer",125:"RasterizedCaption",130:"ImageType",131:"ImageOrientation",135:"LanguageIdentifier",150:"AudioType",151:"AudioSamplingRate",152:"AudioSamplingResolution",153:"AudioDuration",154:"AudioOutcue",184:"JobID",185:"MasterDocumentID",186:"ShortDocumentID",187:"UniqueDocumentID",188:"OwnerID",200:"ObjectPreviewFileFormat",201:"ObjectPreviewFileVersion",202:"ObjectPreviewData",221:"Prefs",225:"ClassifyState",228:"SimilarityIndex",230:"DocumentNotes",231:"DocumentHistory",232:"ExifCameraInfo",255:"CatalogSets"},T.stringValues={10:{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"},75:{a:"Morning",b:"Both Morning and Evening",p:"Evening"},131:{L:"Landscape",P:"Portrait",S:"Square"}},T.getText=function(A){var g=this.get(A),w=this.map[A],_=this.stringValues[w];return _?_[g]:String(g)},T.getAll=function(){var A,g,w={};for(A in this)Object.prototype.hasOwnProperty.call(this,A)&&(g=this.tags[A])&&(w[g]=this.getText(g));return w},T.getName=function(A){return this.tags[A]},function(){var A,g=T.tags,w=T.map||{};for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&(w[g[A]]=Number(A))}()})=="function"?f.apply(c,m):f)===void 0||(u.exports=y)})()},166:(u,c,h)=>{var f,m,y;(function(S){m=[h(302),h(630)],(y=typeof(f=function(C){function T(){}function A(k,j,O,N,F){return j.types[k]==="binary"?new Blob([O.buffer.slice(N,N+F)]):j.types[k]==="Uint16"?O.getUint16(N):function($,M,B){for(var R="",H=M+B,V=M;V<H;V+=1)R+=String.fromCharCode($.getUint8(V));return R}(O,N,F)}function g(k,j){return k===void 0?j:k instanceof Array?(k.push(j),k):[k,j]}function w(k,j,O,N,F,$){for(var M,B,R,H=j+O,V=j;V<H;)k.getUint8(V)===28&&k.getUint8(V+1)===2&&(R=k.getUint8(V+2),F&&!F[R]||$&&$[R]||(B=k.getInt16(V+3),M=A(R,N.iptc,k,V+5,B),N.iptc[R]=g(N.iptc[R],M),N.iptcOffsets&&(N.iptcOffsets[R]=V))),V+=1}function _(k,j){return k.getUint32(j)===943868237&&k.getUint16(j+4)===1028}function P(k,j){var O=k.getUint8(j+7);return O%2!=0&&(O+=1),O===0&&(O=4),O}T.prototype.map={ObjectName:5},T.prototype.types={0:"Uint16",200:"Uint16",201:"Uint16",202:"binary"},T.prototype.get=function(k){return this[k]||this[this.map[k]]},C.parseIptcData=function(k,j,O,N,F){if(!F.disableIptc)for(var $=j+O;j+8<$;){if(_(k,j)){var M=P(k,j),B=j+8+M;if(B>$){console.log("Invalid IPTC data: Invalid segment offset.");break}var R=k.getUint16(j+6+M);if(j+R>$){console.log("Invalid IPTC data: Invalid segment size.");break}return N.iptc=new T,F.disableIptcOffsets||(N.iptcOffsets=new T),void w(k,B,R,N,F.includeIptcTags,F.excludeIptcTags||{202:!0})}j+=1}},C.metaDataParsers.jpeg[65517].push(C.parseIptcData),C.IptcMap=T})=="function"?f.apply(c,m):f)===void 0||(u.exports=y)})()},630:(u,c,h)=>{var f,m,y;(function(S){m=[h(302)],(y=typeof(f=function(C){var T=C.global,A=C.transform,g=T.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),w=T.ArrayBuffer&&ArrayBuffer.prototype.slice||function(j,O){O=O||this.byteLength-j;var N=new Uint8Array(this,j,O),F=new Uint8Array(O);return F.set(N),F.buffer},_={jpeg:{65505:[],65517:[]}};function P(j,O,N,F){var $=this;function M(B,R){if(!(T.DataView&&g&&j&&j.size>=12&&j.type==="image/jpeg"))return B(F);var H=N.maxMetaDataSize||262144;C.readFile(g.call(j,0,H),function(V){var Y=new DataView(V);if(Y.getUint16(0)!==65496)return R(new Error("Invalid JPEG file: Missing JPEG marker."));for(var Q,G,K,te,ae=2,me=Y.byteLength-4,ue=ae;ae<me&&((Q=Y.getUint16(ae))>=65504&&Q<=65519||Q===65534);){if(ae+(G=Y.getUint16(ae+2)+2)>Y.byteLength){console.log("Invalid JPEG metadata: Invalid segment size.");break}if((K=_.jpeg[Q])&&!N.disableMetaDataParsers)for(te=0;te<K.length;te+=1)K[te].call($,Y,ae,G,F,N);ue=ae+=G}!N.disableImageHead&&ue>6&&(F.imageHead=w.call(V,0,ue)),B(F)},R,"readAsArrayBuffer")||B(F)}return N=N||{},T.Promise&&typeof O!="function"?(F=N=O||{},new Promise(M)):(F=F||{},M(O,O))}function k(j,O,N){return j&&O&&N?new Blob([N,g.call(j,O.byteLength)],{type:"image/jpeg"}):null}C.transform=function(j,O,N,F,$){C.requiresMetaData(O)?P(F,function(M){M!==$&&(T.console&&console.log(M),M=$),A.call(C,j,O,N,F,M)},O,$=$||{}):A.apply(C,arguments)},C.blobSlice=g,C.bufferSlice=w,C.replaceHead=function(j,O,N){var F={maxMetaDataSize:256,disableMetaDataParsers:!0};if(!N&&T.Promise)return P(j,F).then(function($){return k(j,$.imageHead,O)});P(j,function($){N(k(j,$.imageHead,O))},F)},C.parseMetaData=P,C.metaDataParsers=_})=="function"?f.apply(c,m):f)===void 0||(u.exports=y)})()},922:(u,c,h)=>{var f,m,y;(function(S){m=[h(302),h(200),h(630)],(y=typeof(f=function(C){var T=C.transform,A=C.requiresCanvas,g=C.requiresMetaData,w=C.transformCoordinates,_=C.getTransformedOptions;function P(O,N){var F=O&&O.orientation;return F===!0&&!C.orientation||F===1&&C.orientation||(!N||C.orientation)&&F>1&&F<9}function k(O,N){return O!==N&&(O===1&&N>1&&N<9||O>1&&O<9)}function j(O,N){if(N>1&&N<9)switch(O){case 2:case 4:return N>4;case 5:case 7:return N%2==0;case 6:case 8:return N===2||N===4||N===5||N===7}return!1}(function(O){if(O.global.document){var N=document.createElement("img");N.onload=function(){if(O.orientation=N.width===2&&N.height===3,O.orientation){var F=O.createCanvas(1,1,!0).getContext("2d");F.drawImage(N,1,1,1,1,0,0,1,1),O.orientationCropBug=F.getImageData(0,0,1,1).data.toString()!=="255,255,255,255"}},N.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/xABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQvoP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXwH/9k="}})(C),C.requiresCanvas=function(O){return P(O)||A.call(C,O)},C.requiresMetaData=function(O){return P(O,!0)||g.call(C,O)},C.transform=function(O,N,F,$,M){T.call(C,O,N,function(B,R){if(R){var H=C.orientation&&R.exif&&R.exif.get("Orientation");if(H>4&&H<9){var V=R.originalWidth,Y=R.originalHeight;R.originalWidth=Y,R.originalHeight=V}}F(B,R)},$,M)},C.getTransformedOptions=function(O,N,F){var $=_.call(C,O,N),M=F.exif&&F.exif.get("Orientation"),B=$.orientation,R=C.orientation&&M;if(B===!0&&(B=M),!k(B,R))return $;var H=$.top,V=$.right,Y=$.bottom,Q=$.left,G={};for(var K in $)Object.prototype.hasOwnProperty.call($,K)&&(G[K]=$[K]);if(G.orientation=B,(B>4&&!(R>4)||B<5&&R>4)&&(G.maxWidth=$.maxHeight,G.maxHeight=$.maxWidth,G.minWidth=$.minHeight,G.minHeight=$.minWidth,G.sourceWidth=$.sourceHeight,G.sourceHeight=$.sourceWidth),R>1){switch(R){case 2:V=$.left,Q=$.right;break;case 3:H=$.bottom,V=$.left,Y=$.top,Q=$.right;break;case 4:H=$.bottom,Y=$.top;break;case 5:H=$.left,V=$.bottom,Y=$.right,Q=$.top;break;case 6:H=$.left,V=$.top,Y=$.right,Q=$.bottom;break;case 7:H=$.right,V=$.top,Y=$.left,Q=$.bottom;break;case 8:H=$.right,V=$.bottom,Y=$.left,Q=$.top}if(j(B,R)){var te=H,ae=V;H=Y,V=Q,Y=te,Q=ae}}switch(G.top=H,G.right=V,G.bottom=Y,G.left=Q,B){case 2:G.right=Q,G.left=V;break;case 3:G.top=Y,G.right=Q,G.bottom=H,G.left=V;break;case 4:G.top=Y,G.bottom=H;break;case 5:G.top=Q,G.right=Y,G.bottom=V,G.left=H;break;case 6:G.top=V,G.right=Y,G.bottom=Q,G.left=H;break;case 7:G.top=V,G.right=H,G.bottom=Q,G.left=Y;break;case 8:G.top=Q,G.right=H,G.bottom=V,G.left=Y}return G},C.transformCoordinates=function(O,N,F){w.call(C,O,N,F);var $=N.orientation,M=C.orientation&&F.exif&&F.exif.get("Orientation");if(k($,M)){var B=O.getContext("2d"),R=O.width,H=O.height,V=R,Y=H;switch(($>4&&!(M>4)||$<5&&M>4)&&(O.width=H,O.height=R),$>4&&(V=H,Y=R),M){case 2:B.translate(V,0),B.scale(-1,1);break;case 3:B.translate(V,Y),B.rotate(Math.PI);break;case 4:B.translate(0,Y),B.scale(1,-1);break;case 5:B.rotate(-.5*Math.PI),B.scale(-1,1);break;case 6:B.rotate(-.5*Math.PI),B.translate(-V,0);break;case 7:B.rotate(-.5*Math.PI),B.translate(-V,Y),B.scale(1,-1);break;case 8:B.rotate(.5*Math.PI),B.translate(0,-Y)}switch(j($,M)&&(B.translate(V,Y),B.rotate(Math.PI)),$){case 2:B.translate(R,0),B.scale(-1,1);break;case 3:B.translate(R,H),B.rotate(Math.PI);break;case 4:B.translate(0,H),B.scale(1,-1);break;case 5:B.rotate(.5*Math.PI),B.scale(1,-1);break;case 6:B.rotate(.5*Math.PI),B.translate(0,-H);break;case 7:B.rotate(.5*Math.PI),B.translate(R,-H),B.scale(-1,1);break;case 8:B.rotate(-.5*Math.PI),B.translate(-R,0)}}}})=="function"?f.apply(c,m):f)===void 0||(u.exports=y)})()},200:(u,c,h)=>{var f,m,y;(function(S){m=[h(302)],(y=typeof(f=function(C){var T=C.transform;C.createCanvas=function(A,g,w){if(w&&C.global.OffscreenCanvas)return new OffscreenCanvas(A,g);var _=document.createElement("canvas");return _.width=A,_.height=g,_},C.transform=function(A,g,w,_,P){T.call(C,C.scale(A,g,P),g,w,_,P)},C.transformCoordinates=function(){},C.getTransformedOptions=function(A,g){var w,_,P,k,j=g.aspectRatio;if(!j)return g;for(_ in w={},g)Object.prototype.hasOwnProperty.call(g,_)&&(w[_]=g[_]);return w.crop=!0,(P=A.naturalWidth||A.width)/(k=A.naturalHeight||A.height)>j?(w.maxWidth=k*j,w.maxHeight=k):(w.maxWidth=P,w.maxHeight=P/j),w},C.drawImage=function(A,g,w,_,P,k,j,O,N){var F=g.getContext("2d");return N.imageSmoothingEnabled===!1?(F.msImageSmoothingEnabled=!1,F.imageSmoothingEnabled=!1):N.imageSmoothingQuality&&(F.imageSmoothingQuality=N.imageSmoothingQuality),F.drawImage(A,w,_,P,k,0,0,j,O),F},C.requiresCanvas=function(A){return A.canvas||A.crop||!!A.aspectRatio},C.scale=function(A,g,w){g=g||{},w=w||{};var _,P,k,j,O,N,F,$,M,B,R,H,V=A.getContext||C.requiresCanvas(g)&&!!C.global.HTMLCanvasElement,Y=A.naturalWidth||A.width,Q=A.naturalHeight||A.height,G=Y,K=Q;function te(){var me=Math.max((k||G)/G,(j||K)/K);me>1&&(G*=me,K*=me)}function ae(){var me=Math.min((_||G)/G,(P||K)/K);me<1&&(G*=me,K*=me)}if(V&&(F=(g=C.getTransformedOptions(A,g,w)).left||0,$=g.top||0,g.sourceWidth?(O=g.sourceWidth,g.right!==void 0&&g.left===void 0&&(F=Y-O-g.right)):O=Y-F-(g.right||0),g.sourceHeight?(N=g.sourceHeight,g.bottom!==void 0&&g.top===void 0&&($=Q-N-g.bottom)):N=Q-$-(g.bottom||0),G=O,K=N),_=g.maxWidth,P=g.maxHeight,k=g.minWidth,j=g.minHeight,V&&_&&P&&g.crop?(G=_,K=P,(R=O/N-_/P)<0?(N=P*O/_,g.top===void 0&&g.bottom===void 0&&($=(Q-N)/2)):R>0&&(O=_*N/P,g.left===void 0&&g.right===void 0&&(F=(Y-O)/2))):((g.contain||g.cover)&&(k=_=_||k,j=P=P||j),g.cover?(ae(),te()):(te(),ae())),V){if((M=g.pixelRatio)>1&&(!A.style.width||Math.floor(parseFloat(A.style.width,10))!==Math.floor(Y/M))&&(G*=M,K*=M),C.orientationCropBug&&!A.getContext&&(F||$||O!==Y||N!==Q)&&(R=A,A=C.createCanvas(Y,Q,!0),C.drawImage(R,A,0,0,Y,Q,Y,Q,g)),(B=g.downsamplingRatio)>0&&B<1&&G<O&&K<N)for(;O*B>G;)H=C.createCanvas(O*B,N*B,!0),C.drawImage(A,H,F,$,O,N,H.width,H.height,g),F=0,$=0,O=H.width,N=H.height,A=H;return H=C.createCanvas(G,K),C.transformCoordinates(H,g,w),M>1&&(H.style.width=H.width/M+"px"),C.drawImage(A,H,F,$,O,N,G,K,g).setTransform(1,0,0,1,0,0),H}return A.width=G,A.height=K,A}})=="function"?f.apply(c,m):f)===void 0||(u.exports=y)})()},302:function(u,c,h){var f;(function(m){var y=m.URL||m.webkitURL;function S(_){return!!y&&y.createObjectURL(_)}function C(_){return!!y&&y.revokeObjectURL(_)}function T(_,P){!_||_.slice(0,5)!=="blob:"||P&&P.noRevoke||C(_)}function A(_,P,k,j){if(!m.FileReader)return!1;var O=new FileReader;O.onload=function(){P.call(O,this.result)},k&&(O.onabort=O.onerror=function(){k.call(O,this.error)});var N=O[j||"readAsDataURL"];return N?(N.call(O,_),O):void 0}function g(_,P){return Object.prototype.toString.call(P)==="[object "+_+"]"}function w(_,P,k){function j(O,N){var F,$=document.createElement("img");function M(R,H){O!==N?R instanceof Error?N(R):((H=H||{}).image=R,O(H)):O&&O(R,H)}function B(R,H){H&&m.console&&console.log(H),R&&g("Blob",R)?F=S(_=R):(F=_,k&&k.crossOrigin&&($.crossOrigin=k.crossOrigin)),$.src=F}return $.onerror=function(R){T(F,k),N&&N.call($,R)},$.onload=function(){T(F,k);var R={originalWidth:$.naturalWidth||$.width,originalHeight:$.naturalHeight||$.height};try{w.transform($,k,M,_,R)}catch(H){N&&N(H)}},typeof _=="string"?(w.requiresMetaData(k)?w.fetchBlob(_,B,k):B(),$):g("Blob",_)||g("File",_)?(F=S(_))?($.src=F,$):A(_,function(R){$.src=R},N):void 0}return m.Promise&&typeof P!="function"?(k=P,new Promise(j)):j(P,P)}w.requiresMetaData=function(_){return _&&_.meta},w.fetchBlob=function(_,P){P()},w.transform=function(_,P,k,j,O){k(_,O)},w.global=m,w.readFile=A,w.isInstanceOf=g,w.createObjectURL=S,w.revokeObjectURL=C,(f=function(){return w}.call(c,h,c,u))===void 0||(u.exports=f)})(typeof window<"u"&&window||this)},918:function(u,c){var h;(function(){var f=function(M){return M instanceof f?M:this instanceof f?void(this.EXIFwrapped=M):new f(M)};u.exports&&(c=u.exports=f),c.EXIF=f;var m=f.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},y=f.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},S=f.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},C=f.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},T=f.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function A(M){return!!M.exifdata}function g(M,B){function R(Y){var Q=w(Y);M.exifdata=Q||{};var G=function(te){var ae=new DataView(te);if(ae.getUint8(0)!=255||ae.getUint8(1)!=216)return!1;for(var me=2,ue=te.byteLength,Re=function(Ve,Ke){return Ve.getUint8(Ke)===56&&Ve.getUint8(Ke+1)===66&&Ve.getUint8(Ke+2)===73&&Ve.getUint8(Ke+3)===77&&Ve.getUint8(Ke+4)===4&&Ve.getUint8(Ke+5)===4};me<ue;){if(Re(ae,me)){var ze=ae.getUint8(me+7);return ze%2!=0&&(ze+=1),ze===0&&(ze=4),P(te,me+8+ze,ae.getUint16(me+6+ze))}me++}}(Y);if(M.iptcdata=G||{},f.isXmpEnabled){var K=function(te){if("DOMParser"in self){var ae=new DataView(te);if(ae.getUint8(0)!=255||ae.getUint8(1)!=216)return!1;for(var me=2,ue=te.byteLength,Re=new DOMParser;me<ue-4;){if(O(ae,me,4)=="http"){var ze=me-1,Ve=ae.getUint16(me-2)-1,Ke=O(ae,ze,Ve),ur=Ke.indexOf("xmpmeta>")+8,Ir=(Ke=Ke.substring(Ke.indexOf("<x:xmpmeta"),ur)).indexOf("x:xmpmeta")+10;return Ke=Ke.slice(0,Ir)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+Ke.slice(Ir),$(Re.parseFromString(Ke,"text/xml"))}me++}}}(Y);M.xmpdata=K||{}}B&&B.call(M)}if(M.src)if(/^data\:/i.test(M.src))R(function(Y,Q){Q=Q||Y.match(/^data\:([^\;]+)\;base64,/im)[1]||"",Y=Y.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var G=atob(Y),K=G.length,te=new ArrayBuffer(K),ae=new Uint8Array(te),me=0;me<K;me++)ae[me]=G.charCodeAt(me);return te}(M.src));else if(/^blob\:/i.test(M.src))(V=new FileReader).onload=function(Y){R(Y.target.result)},function(Y,Q){var G=new XMLHttpRequest;G.open("GET",Y,!0),G.responseType="blob",G.onload=function(K){var te;this.status!=200&&this.status!==0||(te=this.response,V.readAsArrayBuffer(te))},G.send()}(M.src);else{var H=new XMLHttpRequest;H.onload=function(){if(this.status!=200&&this.status!==0)throw"Could not load image";R(H.response),H=null},H.open("GET",M.src,!0),H.responseType="arraybuffer",H.send(null)}else if(self.FileReader&&(M instanceof self.Blob||M instanceof self.File)){var V;(V=new FileReader).onload=function(Y){R(Y.target.result)},V.readAsArrayBuffer(M)}}function w(M){var B=new DataView(M);if(B.getUint8(0)!=255||B.getUint8(1)!=216)return!1;for(var R=2,H=M.byteLength;R<H;){if(B.getUint8(R)!=255)return!1;if(B.getUint8(R+1)==225)return N(B,R+4,B.getUint16(R+2));R+=2+B.getUint16(R+2)}}var _={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function P(M,B,R){for(var H,V,Y,Q,G=new DataView(M),K={},te=B;te<B+R;)G.getUint8(te)===28&&G.getUint8(te+1)===2&&(Q=G.getUint8(te+2))in _&&(Y=G.getInt16(te+3),V=_[Q],H=O(G,te+5,Y),K.hasOwnProperty(V)?K[V]instanceof Array?K[V].push(H):K[V]=[K[V],H]:K[V]=H),te++;return K}function k(M,B,R,H,V){var Y,Q,G=M.getUint16(R,!V),K={};for(Q=0;Q<G;Q++)Y=R+12*Q+2,K[H[M.getUint16(Y,!V)]]=j(M,Y,B,0,V);return K}function j(M,B,R,H,V){var Y,Q,G,K,te,ae,me=M.getUint16(B+2,!V),ue=M.getUint32(B+4,!V),Re=M.getUint32(B+8,!V)+R;switch(me){case 1:case 7:if(ue==1)return M.getUint8(B+8,!V);for(Y=ue>4?Re:B+8,Q=[],K=0;K<ue;K++)Q[K]=M.getUint8(Y+K);return Q;case 2:return O(M,Y=ue>4?Re:B+8,ue-1);case 3:if(ue==1)return M.getUint16(B+8,!V);for(Y=ue>2?Re:B+8,Q=[],K=0;K<ue;K++)Q[K]=M.getUint16(Y+2*K,!V);return Q;case 4:if(ue==1)return M.getUint32(B+8,!V);for(Q=[],K=0;K<ue;K++)Q[K]=M.getUint32(Re+4*K,!V);return Q;case 5:if(ue==1)return te=M.getUint32(Re,!V),ae=M.getUint32(Re+4,!V),(G=new Number(te/ae)).numerator=te,G.denominator=ae,G;for(Q=[],K=0;K<ue;K++)te=M.getUint32(Re+8*K,!V),ae=M.getUint32(Re+4+8*K,!V),Q[K]=new Number(te/ae),Q[K].numerator=te,Q[K].denominator=ae;return Q;case 9:if(ue==1)return M.getInt32(B+8,!V);for(Q=[],K=0;K<ue;K++)Q[K]=M.getInt32(Re+4*K,!V);return Q;case 10:if(ue==1)return M.getInt32(Re,!V)/M.getInt32(Re+4,!V);for(Q=[],K=0;K<ue;K++)Q[K]=M.getInt32(Re+8*K,!V)/M.getInt32(Re+4+8*K,!V);return Q}}function O(M,B,R){var H="";for(n=B;n<B+R;n++)H+=String.fromCharCode(M.getUint8(n));return H}function N(M,B){if(O(M,B,4)!="Exif")return!1;var R,H,V,Y,Q,G=B+6;if(M.getUint16(G)==18761)R=!1;else{if(M.getUint16(G)!=19789)return!1;R=!0}if(M.getUint16(G+2,!R)!=42)return!1;var K=M.getUint32(G+4,!R);if(K<8)return!1;if((H=k(M,G,G+K,y,R)).ExifIFDPointer)for(V in Y=k(M,G,G+H.ExifIFDPointer,m,R)){switch(V){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":Y[V]=T[V][Y[V]];break;case"ExifVersion":case"FlashpixVersion":Y[V]=String.fromCharCode(Y[V][0],Y[V][1],Y[V][2],Y[V][3]);break;case"ComponentsConfiguration":Y[V]=T.Components[Y[V][0]]+T.Components[Y[V][1]]+T.Components[Y[V][2]]+T.Components[Y[V][3]]}H[V]=Y[V]}if(H.GPSInfoIFDPointer)for(V in Q=k(M,G,G+H.GPSInfoIFDPointer,S,R)){switch(V){case"GPSVersionID":Q[V]=Q[V][0]+"."+Q[V][1]+"."+Q[V][2]+"."+Q[V][3]}H[V]=Q[V]}return H.thumbnail=function(te,ae,me,ue){var Re=function(ur,Ir,Ta){var Qu=ur.getUint16(Ir,!Ta);return ur.getUint32(Ir+2+12*Qu,!Ta)}(te,ae+me,ue);if(!Re)return{};if(Re>te.byteLength)return{};var ze=k(te,ae,ae+Re,C,ue);if(ze.Compression)switch(ze.Compression){case 6:if(ze.JpegIFOffset&&ze.JpegIFByteCount){var Ve=ae+ze.JpegIFOffset,Ke=ze.JpegIFByteCount;ze.blob=new Blob([new Uint8Array(te.buffer,Ve,Ke)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",ze.Compression)}else ze.PhotometricInterpretation==2&&console.log("Thumbnail image format is RGB, which is not implemented.");return ze}(M,G,K,R),H}function F(M){var B={};if(M.nodeType==1){if(M.attributes.length>0){B["@attributes"]={};for(var R=0;R<M.attributes.length;R++){var H=M.attributes.item(R);B["@attributes"][H.nodeName]=H.nodeValue}}}else if(M.nodeType==3)return M.nodeValue;if(M.hasChildNodes())for(var V=0;V<M.childNodes.length;V++){var Y=M.childNodes.item(V),Q=Y.nodeName;if(B[Q]==null)B[Q]=F(Y);else{if(B[Q].push==null){var G=B[Q];B[Q]=[],B[Q].push(G)}B[Q].push(F(Y))}}return B}function $(M){try{var B={};if(M.children.length>0)for(var R=0;R<M.children.length;R++){var H=M.children.item(R),V=H.attributes;for(var Y in V){var Q=V[Y],G=Q.nodeName,K=Q.nodeValue;G!==void 0&&(B[G]=K)}var te=H.nodeName;if(B[te]===void 0)B[te]=F(H);else{if(B[te].push===void 0){var ae=B[te];B[te]=[],B[te].push(ae)}B[te].push(F(H))}}else B=M.textContent;return B}catch(me){console.log(me.message)}}f.enableXmp=function(){f.isXmpEnabled=!0},f.disableXmp=function(){f.isXmpEnabled=!1},f.getData=function(M,B){return!((self.Image&&M instanceof self.Image||self.HTMLImageElement&&M instanceof self.HTMLImageElement)&&!M.complete||(A(M)?B&&B.call(M):g(M,B),0))},f.getTag=function(M,B){if(A(M))return M.exifdata[B]},f.getIptcTag=function(M,B){if(A(M))return M.iptcdata[B]},f.getAllTags=function(M){if(!A(M))return{};var B,R=M.exifdata,H={};for(B in R)R.hasOwnProperty(B)&&(H[B]=R[B]);return H},f.getAllIptcTags=function(M){if(!A(M))return{};var B,R=M.iptcdata,H={};for(B in R)R.hasOwnProperty(B)&&(H[B]=R[B]);return H},f.pretty=function(M){if(!A(M))return"";var B,R=M.exifdata,H="";for(B in R)R.hasOwnProperty(B)&&(typeof R[B]=="object"?R[B]instanceof Number?H+=B+" : "+R[B]+" ["+R[B].numerator+"/"+R[B].denominator+`]\r
`:H+=B+" : ["+R[B].length+` values]\r
`:H+=B+" : "+R[B]+`\r
`);return H},f.readFromBinaryFile=function(M){return w(M)},(h=function(){return f}.apply(c,[]))===void 0||(u.exports=h)}).call(this)},297:u=>{u.exports=r}},s={};function o(u){if(s[u])return s[u].exports;var c=s[u]={exports:{}};return i[u].call(c.exports,c,c.exports,o),c.exports}o.n=u=>{var c=u&&u.__esModule?()=>u.default:()=>u;return o.d(c,{a:c}),c},o.d=(u,c)=>{for(var h in c)o.o(c,h)&&!o.o(u,h)&&Object.defineProperty(u,h,{enumerable:!0,get:c[h]})},o.o=(u,c)=>Object.prototype.hasOwnProperty.call(u,c),o.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var a={};return(()=>{o.r(a),o.d(a,{default:()=>g3});var u=o(297),c=o.n(u),h=Math.PI/180;const f=typeof Tm<"u"?Tm:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},m={_global:f,version:"8.3.5",isBrowser:typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]"),isUnminified:/param/.test(function(b){}.toString()),dblClickWindow:400,getAngle:b=>m.angleDeg?b*h:b,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>m.DD.isDragging,isDragReady:()=>!!m.DD.node,document:f.document,_injectGlobal(b){f.Konva=b}},y=b=>{m[b.prototype.getClassName()]=b};m._injectGlobal(m);class S{constructor(l=[1,0,0,1,0,0]){this.dirty=!1,this.m=l&&l.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new S(this.m)}copyInto(l){l.m[0]=this.m[0],l.m[1]=this.m[1],l.m[2]=this.m[2],l.m[3]=this.m[3],l.m[4]=this.m[4],l.m[5]=this.m[5]}point(l){var d=this.m;return{x:d[0]*l.x+d[2]*l.y+d[4],y:d[1]*l.x+d[3]*l.y+d[5]}}translate(l,d){return this.m[4]+=this.m[0]*l+this.m[2]*d,this.m[5]+=this.m[1]*l+this.m[3]*d,this}scale(l,d){return this.m[0]*=l,this.m[1]*=l,this.m[2]*=d,this.m[3]*=d,this}rotate(l){var d=Math.cos(l),p=Math.sin(l),v=this.m[0]*d+this.m[2]*p,x=this.m[1]*d+this.m[3]*p,E=this.m[0]*-p+this.m[2]*d,I=this.m[1]*-p+this.m[3]*d;return this.m[0]=v,this.m[1]=x,this.m[2]=E,this.m[3]=I,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(l,d){var p=this.m[0]+this.m[2]*d,v=this.m[1]+this.m[3]*d,x=this.m[2]+this.m[0]*l,E=this.m[3]+this.m[1]*l;return this.m[0]=p,this.m[1]=v,this.m[2]=x,this.m[3]=E,this}multiply(l){var d=this.m[0]*l.m[0]+this.m[2]*l.m[1],p=this.m[1]*l.m[0]+this.m[3]*l.m[1],v=this.m[0]*l.m[2]+this.m[2]*l.m[3],x=this.m[1]*l.m[2]+this.m[3]*l.m[3],E=this.m[0]*l.m[4]+this.m[2]*l.m[5]+this.m[4],I=this.m[1]*l.m[4]+this.m[3]*l.m[5]+this.m[5];return this.m[0]=d,this.m[1]=p,this.m[2]=v,this.m[3]=x,this.m[4]=E,this.m[5]=I,this}invert(){var l=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),d=this.m[3]*l,p=-this.m[1]*l,v=-this.m[2]*l,x=this.m[0]*l,E=l*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),I=l*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=d,this.m[1]=p,this.m[2]=v,this.m[3]=x,this.m[4]=E,this.m[5]=I,this}getMatrix(){return this.m}setAbsolutePosition(l,d){var p=this.m[0],v=this.m[1],x=this.m[2],E=this.m[3],I=this.m[4],D=(p*(d-this.m[5])-v*(l-I))/(p*E-v*x),U=(l-I-x*D)/p;return this.translate(U,D)}decompose(){var l=this.m[0],d=this.m[1],p=this.m[2],v=this.m[3],x=l*v-d*p;let E={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(l!=0||d!=0){var I=Math.sqrt(l*l+d*d);E.rotation=d>0?Math.acos(l/I):-Math.acos(l/I),E.scaleX=I,E.scaleY=x/I,E.skewX=(l*p+d*v)/x,E.skewY=0}else if(p!=0||v!=0){var D=Math.sqrt(p*p+v*v);E.rotation=Math.PI/2-(v>0?Math.acos(-p/D):-Math.acos(p/D)),E.scaleX=x/D,E.scaleY=D,E.skewX=0,E.skewY=(l*p+d*v)/x}return E.rotation=k._getRotation(E.rotation),E}}var C=Math.PI/180,T=180/Math.PI,A="Konva error: ",g={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},w=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,_=[];const P=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(b){setTimeout(b,60)},k={_isElement:b=>!(!b||b.nodeType!=1),_isFunction:b=>!!(b&&b.constructor&&b.call&&b.apply),_isPlainObject:b=>!!b&&b.constructor===Object,_isArray:b=>Object.prototype.toString.call(b)==="[object Array]",_isNumber:b=>Object.prototype.toString.call(b)==="[object Number]"&&!isNaN(b)&&isFinite(b),_isString:b=>Object.prototype.toString.call(b)==="[object String]",_isBoolean:b=>Object.prototype.toString.call(b)==="[object Boolean]",isObject:b=>b instanceof Object,isValidSelector(b){if(typeof b!="string")return!1;var l=b[0];return l==="#"||l==="."||l===l.toUpperCase()},_sign:b=>b===0||b>0?1:-1,requestAnimFrame(b){_.push(b),_.length===1&&P(function(){const l=_;_=[],l.forEach(function(d){d()})})},createCanvasElement(){var b=document.createElement("canvas");try{b.style=b.style||{}}catch{}return b},createImageElement:()=>document.createElement("img"),_isInDocument(b){for(;b=b.parentNode;)if(b==document)return!0;return!1},_urlToImage(b,l){var d=k.createImageElement();d.onload=function(){l(d)},d.src=b},_rgbToHex:(b,l,d)=>((1<<24)+(b<<16)+(l<<8)+d).toString(16).slice(1),_hexToRgb(b){b=b.replace("#","");var l=parseInt(b,16);return{r:l>>16&255,g:l>>8&255,b:255&l}},getRandomColor(){for(var b=(16777215*Math.random()<<0).toString(16);b.length<6;)b="0"+b;return"#"+b},getRGB(b){var l;return b in g?{r:(l=g[b])[0],g:l[1],b:l[2]}:b[0]==="#"?this._hexToRgb(b.substring(1)):b.substr(0,4)==="rgb("?(l=w.exec(b.replace(/ /g,"")),{r:parseInt(l[1],10),g:parseInt(l[2],10),b:parseInt(l[3],10)}):{r:0,g:0,b:0}},colorToRGBA:b=>(b=b||"black",k._namedColorToRBA(b)||k._hex3ColorToRGBA(b)||k._hex6ColorToRGBA(b)||k._rgbColorToRGBA(b)||k._rgbaColorToRGBA(b)||k._hslColorToRGBA(b)),_namedColorToRBA(b){var l=g[b.toLowerCase()];return l?{r:l[0],g:l[1],b:l[2],a:1}:null},_rgbColorToRGBA(b){if(b.indexOf("rgb(")===0){var l=(b=b.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:l[0],g:l[1],b:l[2],a:1}}},_rgbaColorToRGBA(b){if(b.indexOf("rgba(")===0){var l=(b=b.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map((d,p)=>d.slice(-1)==="%"?p===3?parseInt(d)/100:parseInt(d)/100*255:Number(d));return{r:l[0],g:l[1],b:l[2],a:l[3]}}},_hex6ColorToRGBA(b){if(b[0]==="#"&&b.length===7)return{r:parseInt(b.slice(1,3),16),g:parseInt(b.slice(3,5),16),b:parseInt(b.slice(5,7),16),a:1}},_hex3ColorToRGBA(b){if(b[0]==="#"&&b.length===4)return{r:parseInt(b[1]+b[1],16),g:parseInt(b[2]+b[2],16),b:parseInt(b[3]+b[3],16),a:1}},_hslColorToRGBA(b){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(b)){const[l,...d]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(b),p=Number(d[0])/360,v=Number(d[1])/100,x=Number(d[2])/100;let E,I,D;if(v===0)return D=255*x,{r:Math.round(D),g:Math.round(D),b:Math.round(D),a:1};E=x<.5?x*(1+v):x+v-x*v;const U=2*x-E,z=[0,0,0];for(let W=0;W<3;W++)I=p+1/3*-(W-1),I<0&&I++,I>1&&I--,D=6*I<1?U+6*(E-U)*I:2*I<1?E:3*I<2?U+(E-U)*(2/3-I)*6:U,z[W]=255*D;return{r:Math.round(z[0]),g:Math.round(z[1]),b:Math.round(z[2]),a:1}}},haveIntersection:(b,l)=>!(l.x>b.x+b.width||l.x+l.width<b.x||l.y>b.y+b.height||l.y+l.height<b.y),cloneObject(b){var l={};for(var d in b)this._isPlainObject(b[d])?l[d]=this.cloneObject(b[d]):this._isArray(b[d])?l[d]=this.cloneArray(b[d]):l[d]=b[d];return l},cloneArray:b=>b.slice(0),degToRad:b=>b*C,radToDeg:b=>b*T,_degToRad:b=>(k.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),k.degToRad(b)),_radToDeg:b=>(k.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),k.radToDeg(b)),_getRotation:b=>m.angleDeg?k.radToDeg(b):b,_capitalize:b=>b.charAt(0).toUpperCase()+b.slice(1),throw(b){throw new Error(A+b)},error(b){console.error(A+b)},warn(b){m.showWarnings&&console.warn("Konva warning: "+b)},each(b,l){for(var d in b)l(d,b[d])},_inRange:(b,l,d)=>l<=b&&b<d,_getProjectionToSegment(b,l,d,p,v,x){var E,I,D,U=(b-d)*(b-d)+(l-p)*(l-p);if(U==0)E=b,I=l,D=(v-d)*(v-d)+(x-p)*(x-p);else{var z=((v-b)*(d-b)+(x-l)*(p-l))/U;z<0?(E=b,I=l,D=(b-v)*(b-v)+(l-x)*(l-x)):z>1?(E=d,I=p,D=(d-v)*(d-v)+(p-x)*(p-x)):D=((E=b+z*(d-b))-v)*(E-v)+((I=l+z*(p-l))-x)*(I-x)}return[E,I,D]},_getProjectionToLine(b,l,d){var p=k.cloneObject(b),v=Number.MAX_VALUE;return l.forEach(function(x,E){if(d||E!==l.length-1){var I=l[(E+1)%l.length],D=k._getProjectionToSegment(x.x,x.y,I.x,I.y,b.x,b.y),U=D[0],z=D[1],W=D[2];W<v&&(p.x=U,p.y=z,v=W)}}),p},_prepareArrayForTween(b,l,d){var p,v=[],x=[];if(b.length>l.length){var E=l;l=b,b=E}for(p=0;p<b.length;p+=2)v.push({x:b[p],y:b[p+1]});for(p=0;p<l.length;p+=2)x.push({x:l[p],y:l[p+1]});var I=[];return x.forEach(function(D){var U=k._getProjectionToLine(D,v,d);I.push(U.x),I.push(U.y)}),I},_prepareToStringify(b){var l;for(var d in b.visitedByCircularReferenceRemoval=!0,b)if(b.hasOwnProperty(d)&&b[d]&&typeof b[d]=="object"){if(l=Object.getOwnPropertyDescriptor(b,d),b[d].visitedByCircularReferenceRemoval||k._isElement(b[d])){if(!l.configurable)return null;delete b[d]}else if(k._prepareToStringify(b[d])===null){if(!l.configurable)return null;delete b[d]}}return delete b.visitedByCircularReferenceRemoval,b},_assign(b,l){for(var d in l)b[d]=l[d];return b},_getFirstPointerId:b=>b.touches?b.changedTouches[0].identifier:b.pointerId||999};function j(b){return k._isString(b)?'"'+b+'"':Object.prototype.toString.call(b)==="[object Number]"||k._isBoolean(b)?b:Object.prototype.toString.call(b)}function O(){if(m.isUnminified)return function(b,l){return k._isNumber(b)||k.warn(j(b)+' is a not valid value for "'+l+'" attribute. The value should be a number.'),b}}function N(){if(m.isUnminified)return function(b,l){return k._isString(b)||k.warn(j(b)+' is a not valid value for "'+l+'" attribute. The value should be a string.'),b}}function F(){if(m.isUnminified)return function(b,l){const d=k._isString(b),p=Object.prototype.toString.call(b)==="[object CanvasGradient]"||b&&b.addColorStop;return d||p||k.warn(j(b)+' is a not valid value for "'+l+'" attribute. The value should be a string or a native gradient.'),b}}function $(){if(m.isUnminified)return function(b,l){return b===!0||b===!1||k.warn(j(b)+' is a not valid value for "'+l+'" attribute. The value should be a boolean.'),b}}var M="get",B="set";const R={addGetterSetter(b,l,d,p,v){R.addGetter(b,l,d),R.addSetter(b,l,p,v),R.addOverloadedGetterSetter(b,l)},addGetter(b,l,d){var p=M+k._capitalize(l);b.prototype[p]=b.prototype[p]||function(){var v=this.attrs[l];return v===void 0?d:v}},addSetter(b,l,d,p){var v=B+k._capitalize(l);b.prototype[v]||R.overWriteSetter(b,l,d,p)},overWriteSetter(b,l,d,p){var v=B+k._capitalize(l);b.prototype[v]=function(x){return d&&x!=null&&(x=d.call(this,x,l)),this._setAttr(l,x),p&&p.call(this),this}},addComponentsGetterSetter(b,l,d,p,v){var x,E,I=d.length,D=k._capitalize,U=M+D(l),z=B+D(l);b.prototype[U]=function(){var Z={};for(x=0;x<I;x++)Z[E=d[x]]=this.getAttr(l+D(E));return Z};var W=function(Z){if(m.isUnminified)return function(ne,q){return k.isObject(ne)||k.warn(j(ne)+' is a not valid value for "'+q+'" attribute. The value should be an object with properties '+Z),ne}}(d);b.prototype[z]=function(Z){var ne,q=this.attrs[l];for(ne in p&&(Z=p.call(this,Z)),W&&W.call(this,Z,l),Z)Z.hasOwnProperty(ne)&&this._setAttr(l+D(ne),Z[ne]);return this._fireChangeEvent(l,q,Z),v&&v.call(this),this},R.addOverloadedGetterSetter(b,l)},addOverloadedGetterSetter(b,l){var d=k._capitalize(l),p=B+d,v=M+d;b.prototype[l]=function(){return arguments.length?(this[p](arguments[0]),this):this[v]()}},addDeprecatedGetterSetter(b,l,d,p){k.error("Adding deprecated "+l);var v=M+k._capitalize(l),x=l+" property is deprecated and will be removed soon. Look at Konva change log for more information.";b.prototype[v]=function(){k.error(x);var E=this.attrs[l];return E===void 0?d:E},R.addSetter(b,l,p,function(){k.error(x)}),R.addOverloadedGetterSetter(b,l)},backCompat(b,l){k.each(l,function(d,p){var v=b.prototype[p],x=M+k._capitalize(d),E=B+k._capitalize(d);function I(){v.apply(this,arguments),k.error('"'+d+'" method is deprecated and will be removed soon. Use ""'+p+'" instead.')}b.prototype[d]=I,b.prototype[x]=I,b.prototype[E]=I})},afterSetFilter(){this._filterUpToDate=!1}};function H(b){var l,d,p=[],v=b.length,x=k;for(l=0;l<v;l++)d=b[l],x._isNumber(d)?d=Math.round(1e3*d)/1e3:x._isString(d)||(d+=""),p.push(d);return p}var V,Y=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class Q{constructor(l){this.canvas=l,this._context=l._canvas.getContext("2d"),m.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(l){l.fillEnabled()&&this._fill(l)}_fill(l){}strokeShape(l){l.hasStroke()&&this._stroke(l)}_stroke(l){}fillStrokeShape(l){l.attrs.fillAfterStrokeEnabled?(this.strokeShape(l),this.fillShape(l)):(this.fillShape(l),this.strokeShape(l))}getTrace(l,d){var p,v,x,E,I=this.traceArr,D=I.length,U="";for(p=0;p<D;p++)(x=(v=I[p]).method)?(E=v.args,U+=x,l?U+="()":k._isArray(E[0])?U+="(["+E.join(",")+"])":(d&&(E=E.map(z=>typeof z=="number"?Math.floor(z):z)),U+="("+E.join(",")+")")):(U+=v.property,l||(U+="="+v.val)),U+=";";return U}clearTrace(){this.traceArr=[]}_trace(l){var d=this.traceArr;d.push(l),d.length>=100&&d.shift()}reset(){var l=this.getCanvas().getPixelRatio();this.setTransform(1*l,0,0,1*l,0,0)}getCanvas(){return this.canvas}clear(l){var d=this.getCanvas();l?this.clearRect(l.x||0,l.y||0,l.width||0,l.height||0):this.clearRect(0,0,d.getWidth()/d.pixelRatio,d.getHeight()/d.pixelRatio)}_applyLineCap(l){var d=l.getLineCap();d&&this.setAttr("lineCap",d)}_applyOpacity(l){var d=l.getAbsoluteOpacity();d!==1&&this.setAttr("globalAlpha",d)}_applyLineJoin(l){var d=l.attrs.lineJoin;d&&this.setAttr("lineJoin",d)}setAttr(l,d){this._context[l]=d}arc(l,d,p,v,x,E){this._context.arc(l,d,p,v,x,E)}arcTo(l,d,p,v,x){this._context.arcTo(l,d,p,v,x)}beginPath(){this._context.beginPath()}bezierCurveTo(l,d,p,v,x,E){this._context.bezierCurveTo(l,d,p,v,x,E)}clearRect(l,d,p,v){this._context.clearRect(l,d,p,v)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(l,d){var p=arguments;return p.length===2?this._context.createImageData(l,d):p.length===1?this._context.createImageData(l):void 0}createLinearGradient(l,d,p,v){return this._context.createLinearGradient(l,d,p,v)}createPattern(l,d){return this._context.createPattern(l,d)}createRadialGradient(l,d,p,v,x,E){return this._context.createRadialGradient(l,d,p,v,x,E)}drawImage(l,d,p,v,x,E,I,D,U){var z=arguments,W=this._context;z.length===3?W.drawImage(l,d,p):z.length===5?W.drawImage(l,d,p,v,x):z.length===9&&W.drawImage(l,d,p,v,x,E,I,D,U)}ellipse(l,d,p,v,x,E,I,D){this._context.ellipse(l,d,p,v,x,E,I,D)}isPointInPath(l,d){return this._context.isPointInPath(l,d)}fill(l){l?this._context.fill(l):this._context.fill()}fillRect(l,d,p,v){this._context.fillRect(l,d,p,v)}strokeRect(l,d,p,v){this._context.strokeRect(l,d,p,v)}fillText(l,d,p,v){v?this._context.fillText(l,d,p,v):this._context.fillText(l,d,p)}measureText(l){return this._context.measureText(l)}getImageData(l,d,p,v){return this._context.getImageData(l,d,p,v)}lineTo(l,d){this._context.lineTo(l,d)}moveTo(l,d){this._context.moveTo(l,d)}rect(l,d,p,v){this._context.rect(l,d,p,v)}putImageData(l,d,p){this._context.putImageData(l,d,p)}quadraticCurveTo(l,d,p,v){this._context.quadraticCurveTo(l,d,p,v)}restore(){this._context.restore()}rotate(l){this._context.rotate(l)}save(){this._context.save()}scale(l,d){this._context.scale(l,d)}setLineDash(l){this._context.setLineDash?this._context.setLineDash(l):"mozDash"in this._context?this._context.mozDash=l:"webkitLineDash"in this._context&&(this._context.webkitLineDash=l)}getLineDash(){return this._context.getLineDash()}setTransform(l,d,p,v,x,E){this._context.setTransform(l,d,p,v,x,E)}stroke(l){l?this._context.stroke(l):this._context.stroke()}strokeText(l,d,p,v){this._context.strokeText(l,d,p,v)}transform(l,d,p,v,x,E){this._context.transform(l,d,p,v,x,E)}translate(l,d){this._context.translate(l,d)}_enableTrace(){var l,d,p=this,v=Y.length,x=this.setAttr,E=function(I){var D,U=p[I];p[I]=function(){return d=H(Array.prototype.slice.call(arguments,0)),D=U.apply(p,arguments),p._trace({method:I,args:d}),D}};for(l=0;l<v;l++)E(Y[l]);p.setAttr=function(){x.apply(p,arguments);var I=arguments[0],D=arguments[1];I!=="shadowOffsetX"&&I!=="shadowOffsetY"&&I!=="shadowBlur"||(D/=this.canvas.getPixelRatio()),p._trace({property:I,val:D})}}_applyGlobalCompositeOperation(l){const d=l.attrs.globalCompositeOperation;!d||d==="source-over"||this.setAttr("globalCompositeOperation",d)}}["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach(function(b){Object.defineProperty(Q.prototype,b,{get(){return this._context[b]},set(l){this._context[b]=l}})});class G extends Q{_fillColor(l){var d=l.fill();this.setAttr("fillStyle",d),l._fillFunc(this)}_fillPattern(l){this.setAttr("fillStyle",l._getFillPattern()),l._fillFunc(this)}_fillLinearGradient(l){var d=l._getLinearGradient();d&&(this.setAttr("fillStyle",d),l._fillFunc(this))}_fillRadialGradient(l){var d=l._getRadialGradient();d&&(this.setAttr("fillStyle",d),l._fillFunc(this))}_fill(l){var d=l.fill(),p=l.getFillPriority();if(d&&p==="color")this._fillColor(l);else{var v=l.getFillPatternImage();if(v&&p==="pattern")this._fillPattern(l);else{var x=l.getFillLinearGradientColorStops();if(x&&p==="linear-gradient")this._fillLinearGradient(l);else{var E=l.getFillRadialGradientColorStops();E&&p==="radial-gradient"?this._fillRadialGradient(l):d?this._fillColor(l):v?this._fillPattern(l):x?this._fillLinearGradient(l):E&&this._fillRadialGradient(l)}}}}_strokeLinearGradient(l){var d=l.getStrokeLinearGradientStartPoint(),p=l.getStrokeLinearGradientEndPoint(),v=l.getStrokeLinearGradientColorStops(),x=this.createLinearGradient(d.x,d.y,p.x,p.y);if(v){for(var E=0;E<v.length;E+=2)x.addColorStop(v[E],v[E+1]);this.setAttr("strokeStyle",x)}}_stroke(l){var d=l.dash(),p=l.getStrokeScaleEnabled();if(l.hasStroke()){if(!p){this.save();var v=this.getCanvas().getPixelRatio();this.setTransform(v,0,0,v,0,0)}this._applyLineCap(l),d&&l.dashEnabled()&&(this.setLineDash(d),this.setAttr("lineDashOffset",l.dashOffset())),this.setAttr("lineWidth",l.strokeWidth()),l.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),l.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(l):this.setAttr("strokeStyle",l.stroke()),l._strokeFunc(this),p||this.restore()}}_applyShadow(l){var d,p,v,x=(d=l.getShadowRGBA())!==null&&d!==void 0?d:"black",E=(p=l.getShadowBlur())!==null&&p!==void 0?p:5,I=(v=l.getShadowOffset())!==null&&v!==void 0?v:{x:0,y:0},D=l.getAbsoluteScale(),U=this.canvas.getPixelRatio(),z=D.x*U,W=D.y*U;this.setAttr("shadowColor",x),this.setAttr("shadowBlur",E*Math.min(Math.abs(z),Math.abs(W))),this.setAttr("shadowOffsetX",I.x*z),this.setAttr("shadowOffsetY",I.y*W)}}class K extends Q{_fill(l){this.save(),this.setAttr("fillStyle",l.colorKey),l._fillFuncHit(this),this.restore()}strokeShape(l){l.hasHitStroke()&&this._stroke(l)}_stroke(l){if(l.hasHitStroke()){var d=l.getStrokeScaleEnabled();if(!d){this.save();var p=this.getCanvas().getPixelRatio();this.setTransform(p,0,0,p,0,0)}this._applyLineCap(l);var v=l.hitStrokeWidth(),x=v==="auto"?l.strokeWidth():v;this.setAttr("lineWidth",x),this.setAttr("strokeStyle",l.colorKey),l._strokeFuncHit(this),d||this.restore()}}}class te{constructor(l){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var d=(l||{}).pixelRatio||m.pixelRatio||function(){if(V)return V;var p=k.createCanvasElement().getContext("2d");return V=(m._global.devicePixelRatio||1)/(p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1)}();this.pixelRatio=d,this._canvas=k.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(l){var d=this.pixelRatio;this.pixelRatio=l,this.setSize(this.getWidth()/d,this.getHeight()/d)}setWidth(l){this.width=this._canvas.width=l*this.pixelRatio,this._canvas.style.width=l+"px";var d=this.pixelRatio;this.getContext()._context.scale(d,d)}setHeight(l){this.height=this._canvas.height=l*this.pixelRatio,this._canvas.style.height=l+"px";var d=this.pixelRatio;this.getContext()._context.scale(d,d)}getWidth(){return this.width}getHeight(){return this.height}setSize(l,d){this.setWidth(l||0),this.setHeight(d||0)}toDataURL(l,d){try{return this._canvas.toDataURL(l,d)}catch{try{return this._canvas.toDataURL()}catch(v){return k.error("Unable to get data URL. "+v.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}R.addGetterSetter(te,"pixelRatio",void 0,O());class ae extends te{constructor(l={width:0,height:0}){super(l),this.context=new G(this),this.setSize(l.width,l.height)}}class me extends te{constructor(l={width:0,height:0}){super(l),this.hitCanvas=!0,this.context=new K(this),this.setSize(l.width,l.height)}}const ue={get isDragging(){var b=!1;return ue._dragElements.forEach(l=>{l.dragStatus==="dragging"&&(b=!0)}),b},justDragged:!1,get node(){var b;return ue._dragElements.forEach(l=>{b=l.node}),b},_dragElements:new Map,_drag(b){const l=[];ue._dragElements.forEach((d,p)=>{const{node:v}=d,x=v.getStage();x.setPointersPositions(b),d.pointerId===void 0&&(d.pointerId=k._getFirstPointerId(b));const E=x._changedPointerPositions.find(D=>D.id===d.pointerId);if(E){if(d.dragStatus!=="dragging"){var I=v.dragDistance();if(Math.max(Math.abs(E.x-d.startPointerPos.x),Math.abs(E.y-d.startPointerPos.y))<I||(v.startDrag({evt:b}),!v.isDragging()))return}v._setDragPosition(b,d),l.push(v)}}),l.forEach(d=>{d.fire("dragmove",{type:"dragmove",target:d,evt:b},!0)})},_endDragBefore(b){ue._dragElements.forEach(l=>{const{node:d}=l,p=d.getStage();if(b&&p.setPointersPositions(b),!p._changedPointerPositions.find(x=>x.id===l.pointerId))return;l.dragStatus!=="dragging"&&l.dragStatus!=="stopped"||(ue.justDragged=!0,m._mouseListenClick=!1,m._touchListenClick=!1,m._pointerListenClick=!1,l.dragStatus="stopped");const v=l.node.getLayer()||l.node instanceof m.Stage&&l.node;v&&v.batchDraw()})},_endDragAfter(b){ue._dragElements.forEach((l,d)=>{l.dragStatus==="stopped"&&l.node.fire("dragend",{type:"dragend",target:l.node,evt:b},!0),l.dragStatus!=="dragging"&&ue._dragElements.delete(d)})}};m.isBrowser&&(window.addEventListener("mouseup",ue._endDragBefore,!0),window.addEventListener("touchend",ue._endDragBefore,!0),window.addEventListener("mousemove",ue._drag),window.addEventListener("touchmove",ue._drag),window.addEventListener("mouseup",ue._endDragAfter,!1),window.addEventListener("touchend",ue._endDragAfter,!1));var Re="absoluteOpacity",ze="allEventListeners",Ve="absoluteTransform",Ke="absoluteScale",ur="canvas",Ir="listening",Ta="mouseenter",Qu="mouseleave",b1="Shape",Xu=" ",S1="stage",ti="transform",rp="visible",i3=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Xu);let s3=1;class ge{constructor(l){this._id=s3++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(l),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(l){l!==ti&&l!==Ve||!this._cache.get(l)?l?this._cache.delete(l):this._cache.clear():this._cache.get(l).dirty=!0}_getCache(l,d){var p=this._cache.get(l);return(p===void 0||(l===ti||l===Ve)&&p.dirty===!0)&&(p=d.call(this),this._cache.set(l,p)),p}_calculate(l,d,p){if(!this._attachedDepsListeners.get(l)){const v=d.map(x=>x+"Change.konva").join(Xu);this.on(v,()=>{this._clearCache(l)}),this._attachedDepsListeners.set(l,!0)}return this._getCache(l,p)}_getCanvasCache(){return this._cache.get(ur)}_clearSelfAndDescendantCache(l){this._clearCache(l),l===Ve&&this.fire("absoluteTransformChange")}clearCache(){return this._cache.delete(ur),this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(l){var d=l||{},p={};d.x!==void 0&&d.y!==void 0&&d.width!==void 0&&d.height!==void 0||(p=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var v=Math.ceil(d.width||p.width),x=Math.ceil(d.height||p.height),E=d.pixelRatio,I=d.x===void 0?Math.floor(p.x):d.x,D=d.y===void 0?Math.floor(p.y):d.y,U=d.offset||0,z=d.drawBorder||!1,W=d.hitCanvasPixelRatio||1;if(v&&x){I-=U,D-=U;var Z=new ae({pixelRatio:E,width:v+=2*U+1,height:x+=2*U+1}),ne=new ae({pixelRatio:E,width:0,height:0}),q=new me({pixelRatio:W,width:v,height:x}),le=Z.getContext(),Ge=q.getContext();return q.isCache=!0,Z.isCache=!0,this._cache.delete(ur),this._filterUpToDate=!1,d.imageSmoothingEnabled===!1&&(Z.getContext()._context.imageSmoothingEnabled=!1,ne.getContext()._context.imageSmoothingEnabled=!1),le.save(),Ge.save(),le.translate(-I,-D),Ge.translate(-I,-D),this._isUnderCache=!0,this._clearSelfAndDescendantCache(Re),this._clearSelfAndDescendantCache(Ke),this.drawScene(Z,this),this.drawHit(q,this),this._isUnderCache=!1,le.restore(),Ge.restore(),z&&(le.save(),le.beginPath(),le.rect(0,0,v,x),le.closePath(),le.setAttr("strokeStyle","red"),le.setAttr("lineWidth",5),le.stroke(),le.restore()),this._cache.set(ur,{scene:Z,filter:ne,hit:q,x:I,y:D}),this._requestDraw(),this}k.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")}isCached(){return this._cache.has(ur)}getClientRect(l){throw new Error('abstract "getClientRect" method call')}_transformedRect(l,d){var p,v,x,E,I=[{x:l.x,y:l.y},{x:l.x+l.width,y:l.y},{x:l.x+l.width,y:l.y+l.height},{x:l.x,y:l.y+l.height}],D=this.getAbsoluteTransform(d);return I.forEach(function(U){var z=D.point(U);p===void 0&&(p=x=z.x,v=E=z.y),p=Math.min(p,z.x),v=Math.min(v,z.y),x=Math.max(x,z.x),E=Math.max(E,z.y)}),{x:p,y:v,width:x-p,height:E-v}}_drawCachedSceneCanvas(l){l.save(),l._applyOpacity(this),l._applyGlobalCompositeOperation(this);const d=this._getCanvasCache();l.translate(d.x,d.y);var p=this._getCachedSceneCanvas(),v=p.pixelRatio;l.drawImage(p._canvas,0,0,p.width/v,p.height/v),l.restore()}_drawCachedHitCanvas(l){var d=this._getCanvasCache(),p=d.hit;l.save(),l.translate(d.x,d.y),l.drawImage(p._canvas,0,0,p.width/p.pixelRatio,p.height/p.pixelRatio),l.restore()}_getCachedSceneCanvas(){var l,d,p,v,x=this.filters(),E=this._getCanvasCache(),I=E.scene,D=E.filter,U=D.getContext();if(x){if(!this._filterUpToDate){var z=I.pixelRatio;D.setSize(I.width/I.pixelRatio,I.height/I.pixelRatio);try{for(l=x.length,U.clear(),U.drawImage(I._canvas,0,0,I.getWidth()/z,I.getHeight()/z),d=U.getImageData(0,0,D.getWidth(),D.getHeight()),p=0;p<l;p++)typeof(v=x[p])=="function"?(v.call(this,d),U.putImageData(d,0,0)):k.error("Filter should be type of function, but got "+typeof v+" instead. Please check correct filters")}catch(W){k.error("Unable to apply filter. "+W.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return D}return I}on(l,d){if(this._cache&&this._cache.delete(ze),arguments.length===3)return this._delegate.apply(this,arguments);var p,v,x,E,I=l.split(Xu),D=I.length;for(p=0;p<D;p++)x=(v=I[p].split("."))[0],E=v[1]||"",this.eventListeners[x]||(this.eventListeners[x]=[]),this.eventListeners[x].push({name:E,handler:d});return this}off(l,d){var p,v,x,E,I,D=(l||"").split(Xu),U=D.length;if(this._cache&&this._cache.delete(ze),!l)for(v in this.eventListeners)this._off(v);for(p=0;p<U;p++)if(E=(x=D[p].split("."))[0],I=x[1],E)this.eventListeners[E]&&this._off(E,I,d);else for(v in this.eventListeners)this._off(v,I,d);return this}dispatchEvent(l){var d={target:this,type:l.type,evt:l};return this.fire(l.type,d),this}addEventListener(l,d){return this.on(l,function(p){d.call(this,p.evt)}),this}removeEventListener(l){return this.off(l),this}_delegate(l,d,p){var v=this;this.on(l,function(x){for(var E=x.target.findAncestors(d,!0,v),I=0;I<E.length;I++)(x=k.cloneObject(x)).currentTarget=E[I],p.call(E[I],x)})}remove(){return this.isDragging()&&this.stopDrag(),ue._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Ve),this._clearSelfAndDescendantCache(Re),this._clearSelfAndDescendantCache(Ke),this._clearSelfAndDescendantCache(S1),this._clearSelfAndDescendantCache(rp),this._clearSelfAndDescendantCache(Ir)}_remove(){this._clearCaches();var l=this.getParent();l&&l.children&&(l.children.splice(this.index,1),l._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this}getAttr(l){var d="get"+k._capitalize(l);return k._isFunction(this[d])?this[d]():this.attrs[l]}getAncestors(){for(var l=this.getParent(),d=[];l;)d.push(l),l=l.getParent();return d}getAttrs(){return this.attrs||{}}setAttrs(l){return this._batchTransformChanges(()=>{var d,p;if(!l)return this;for(d in l)d!=="children"&&(p="set"+k._capitalize(d),k._isFunction(this[p])?this[p](l[d]):this._setAttr(d,l[d]))}),this}isListening(){return this._getCache(Ir,this._isListening)}_isListening(l){if(!this.listening())return!1;const d=this.getParent();return!d||d===l||this===l||d._isListening(l)}isVisible(){return this._getCache(rp,this._isVisible)}_isVisible(l){if(!this.visible())return!1;const d=this.getParent();return!d||d===l||this===l||d._isVisible(l)}shouldDrawHit(l,d=!1){if(l)return this._isVisible(l)&&this._isListening(l);var p=this.getLayer(),v=!1;ue._dragElements.forEach(E=>{E.dragStatus==="dragging"&&(E.node.nodeType==="Stage"||E.node.getLayer()===p)&&(v=!0)});var x=!d&&!m.hitOnDragEnabled&&v;return this.isListening()&&this.isVisible()&&!x}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var l,d,p,v,x=this.getDepth(),E=this,I=0;return E.nodeType!=="Stage"&&function D(U){for(l=[],d=U.length,p=0;p<d;p++)v=U[p],I++,v.nodeType!==b1&&(l=l.concat(v.getChildren().slice())),v._id===E._id&&(p=d);l.length>0&&l[0].getDepth()<=x&&D(l)}(E.getStage().getChildren()),I}getDepth(){for(var l=0,d=this.parent;d;)l++,d=d.parent;return l}_batchTransformChanges(l){this._batchingTransformChange=!0,l(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(ti),this._clearSelfAndDescendantCache(Ve)),this._needClearTransformCache=!1}setPosition(l){return this._batchTransformChanges(()=>{this.x(l.x),this.y(l.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var l=this.getStage().getPointerPosition();if(!l)return null;var d=this.getAbsoluteTransform().copy();return d.invert(),d.point(l)}getAbsolutePosition(l){let d=!1,p=this.parent;for(;p;){if(p.isCached()){d=!0;break}p=p.parent}d&&!l&&(l=!0);var v=this.getAbsoluteTransform(l).getMatrix(),x=new S,E=this.offset();return x.m=v.slice(),x.translate(E.x,E.y),x.getTranslation()}setAbsolutePosition(l){var d=this._clearTransform();this.attrs.x=d.x,this.attrs.y=d.y,delete d.x,delete d.y,this._clearCache(ti);var p=this._getAbsoluteTransform().copy();return p.invert(),p.translate(l.x,l.y),l={x:this.attrs.x+p.getTranslation().x,y:this.attrs.y+p.getTranslation().y},this._setTransform(d),this.setPosition({x:l.x,y:l.y}),this._clearCache(ti),this._clearSelfAndDescendantCache(Ve),this}_setTransform(l){var d;for(d in l)this.attrs[d]=l[d]}_clearTransform(){var l={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,l}move(l){var d=l.x,p=l.y,v=this.x(),x=this.y();return d!==void 0&&(v+=d),p!==void 0&&(x+=p),this.setPosition({x:v,y:x}),this}_eachAncestorReverse(l,d){var p,v,x=[],E=this.getParent();if(!d||d._id!==this._id){for(x.unshift(this);E&&(!d||E._id!==d._id);)x.unshift(E),E=E.parent;for(p=x.length,v=0;v<p;v++)l(x[v])}}rotate(l){return this.rotation(this.rotation()+l),this}moveToTop(){if(!this.parent)return k.warn("Node has no parent. moveToTop function is ignored."),!1;var l=this.index;return l<this.parent.getChildren().length-1&&(this.parent.children.splice(l,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return k.warn("Node has no parent. moveUp function is ignored."),!1;var l=this.index;return l<this.parent.getChildren().length-1&&(this.parent.children.splice(l,1),this.parent.children.splice(l+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return k.warn("Node has no parent. moveDown function is ignored."),!1;var l=this.index;return l>0&&(this.parent.children.splice(l,1),this.parent.children.splice(l-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return k.warn("Node has no parent. moveToBottom function is ignored."),!1;var l=this.index;return l>0&&(this.parent.children.splice(l,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(l){if(!this.parent)return k.warn("Node has no parent. zIndex parameter is ignored."),this;(l<0||l>=this.parent.children.length)&&k.warn("Unexpected value "+l+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var d=this.index;return this.parent.children.splice(d,1),this.parent.children.splice(l,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Re,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var l=this.opacity(),d=this.getParent();return d&&!d._isUnderCache&&(l*=d.getAbsoluteOpacity()),l}moveTo(l){return this.getParent()!==l&&(this._remove(),l.add(this)),this}toObject(){var l,d,p,v,x={},E=this.getAttrs();for(l in x.attrs={},E)d=E[l],k.isObject(d)&&!k._isPlainObject(d)&&!k._isArray(d)||(p=typeof this[l]=="function"&&this[l],delete E[l],v=p?p.call(this):null,E[l]=d,v!==d&&(x.attrs[l]=d));return x.className=this.getClassName(),k._prepareToStringify(x)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(l,d,p){var v=[];d&&this._isMatch(l)&&v.push(this);for(var x=this.parent;x;){if(x===p)return v;x._isMatch(l)&&v.push(x),x=x.parent}return v}isAncestorOf(l){return!1}findAncestor(l,d,p){return this.findAncestors(l,d,p)[0]}_isMatch(l){if(!l)return!1;if(typeof l=="function")return l(this);var d,p,v=l.replace(/ /g,"").split(","),x=v.length;for(d=0;d<x;d++)if(p=v[d],k.isValidSelector(p)||(k.warn('Selector "'+p+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),k.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),k.warn("Konva is awesome, right?")),p.charAt(0)==="#"){if(this.id()===p.slice(1))return!0}else if(p.charAt(0)==="."){if(this.hasName(p.slice(1)))return!0}else if(this.className===p||this.nodeType===p)return!0;return!1}getLayer(){var l=this.getParent();return l?l.getLayer():null}getStage(){return this._getCache(S1,this._getStage)}_getStage(){var l=this.getParent();return l?l.getStage():void 0}fire(l,d={},p){return d.target=d.target||this,p?this._fireAndBubble(l,d):this._fire(l,d),this}getAbsoluteTransform(l){return l?this._getAbsoluteTransform(l):this._getCache(Ve,this._getAbsoluteTransform)}_getAbsoluteTransform(l){var d;if(l)return d=new S,this._eachAncestorReverse(function(v){var x=v.transformsEnabled();x==="all"?d.multiply(v.getTransform()):x==="position"&&d.translate(v.x()-v.offsetX(),v.y()-v.offsetY())},l),d;d=this._cache.get(Ve)||new S,this.parent?this.parent.getAbsoluteTransform().copyInto(d):d.reset();var p=this.transformsEnabled();if(p==="all")d.multiply(this.getTransform());else if(p==="position"){const v=this.attrs.x||0,x=this.attrs.y||0,E=this.attrs.offsetX||0,I=this.attrs.offsetY||0;d.translate(v-E,x-I)}return d.dirty=!1,d}getAbsoluteScale(l){for(var d=this;d;)d._isUnderCache&&(l=d),d=d.getParent();const p=this.getAbsoluteTransform(l).decompose();return{x:p.scaleX,y:p.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(ti,this._getTransform)}_getTransform(){var l,d,p=this._cache.get(ti)||new S;p.reset();var v=this.x(),x=this.y(),E=m.getAngle(this.rotation()),I=(l=this.attrs.scaleX)!==null&&l!==void 0?l:1,D=(d=this.attrs.scaleY)!==null&&d!==void 0?d:1,U=this.attrs.skewX||0,z=this.attrs.skewY||0,W=this.attrs.offsetX||0,Z=this.attrs.offsetY||0;return v===0&&x===0||p.translate(v,x),E!==0&&p.rotate(E),U===0&&z===0||p.skew(U,z),I===1&&D===1||p.scale(I,D),W===0&&Z===0||p.translate(-1*W,-1*Z),p.dirty=!1,p}clone(l){var d,p,v,x,E,I=k.cloneObject(this.attrs);for(d in l)I[d]=l[d];var D=new this.constructor(I);for(d in this.eventListeners)for(v=(p=this.eventListeners[d]).length,x=0;x<v;x++)(E=p[x]).name.indexOf("konva")<0&&(D.eventListeners[d]||(D.eventListeners[d]=[]),D.eventListeners[d].push(E));return D}_toKonvaCanvas(l){l=l||{};var d=this.getClientRect(),p=this.getStage(),v=l.x!==void 0?l.x:Math.floor(d.x),x=l.y!==void 0?l.y:Math.floor(d.y),E=l.pixelRatio||1,I=new ae({width:l.width||Math.ceil(d.width)||(p?p.width():0),height:l.height||Math.ceil(d.height)||(p?p.height():0),pixelRatio:E}),D=I.getContext();return D.save(),(v||x)&&D.translate(-1*v,-1*x),this.drawScene(I),D.restore(),I}toCanvas(l){return this._toKonvaCanvas(l)._canvas}toDataURL(l){var d=(l=l||{}).mimeType||null,p=l.quality||null,v=this._toKonvaCanvas(l).toDataURL(d,p);return l.callback&&l.callback(v),v}toImage(l){if(!l||!l.callback)throw"callback required for toImage method config argument";var d=l.callback;delete l.callback,k._urlToImage(this.toDataURL(l),function(p){d(p)})}setSize(l){return this.width(l.width),this.height(l.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():m.dragDistance}_off(l,d,p){var v,x,E,I=this.eventListeners[l];for(v=0;v<I.length;v++)if(x=I[v].name,E=I[v].handler,!(x==="konva"&&d!=="konva"||d&&x!==d||p&&p!==E)){if(I.splice(v,1),I.length===0){delete this.eventListeners[l];break}v--}}_fireChangeEvent(l,d,p){this._fire(l+"Change",{oldVal:d,newVal:p})}addName(l){if(!this.hasName(l)){var d=this.name(),p=d?d+" "+l:l;this.name(p)}return this}hasName(l){if(!l)return!1;const d=this.name();return!!d&&(d||"").split(/\s/g).indexOf(l)!==-1}removeName(l){var d=(this.name()||"").split(/\s/g),p=d.indexOf(l);return p!==-1&&(d.splice(p,1),this.name(d.join(" "))),this}setAttr(l,d){var p=this["set"+k._capitalize(l)];return k._isFunction(p)?p.call(this,d):this._setAttr(l,d),this}_requestDraw(){if(m.autoDrawEnabled){const l=this.getLayer()||this.getStage();l==null||l.batchDraw()}}_setAttr(l,d){var p=this.attrs[l];(p!==d||k.isObject(d))&&(d==null?delete this.attrs[l]:this.attrs[l]=d,this._shouldFireChangeEvents&&this._fireChangeEvent(l,p,d),this._requestDraw())}_setComponentAttr(l,d,p){var v;p!==void 0&&((v=this.attrs[l])||(this.attrs[l]=this.getAttr(l)),this.attrs[l][d]=p,this._fireChangeEvent(l,v,p))}_fireAndBubble(l,d,p){if(d&&this.nodeType===b1&&(d.target=this),l!==Ta&&l!==Qu||!(p&&(this===p||this.isAncestorOf&&this.isAncestorOf(p))||this.nodeType==="Stage"&&!p)){this._fire(l,d);var v=(l===Ta||l===Qu)&&p&&p.isAncestorOf&&p.isAncestorOf(this)&&!p.isAncestorOf(this.parent);(d&&!d.cancelBubble||!d)&&this.parent&&this.parent.isListening()&&!v&&(p&&p.parent?this._fireAndBubble.call(this.parent,l,d,p):this._fireAndBubble.call(this.parent,l,d))}}_getProtoListeners(l){let d=this._cache.get(ze);if(!d){d={};let v=Object.getPrototypeOf(this);for(;v;)if(v.eventListeners){for(var p in v.eventListeners){const x=v.eventListeners[p],E=d[p]||[];d[p]=x.concat(E)}v=Object.getPrototypeOf(v)}else v=Object.getPrototypeOf(v);this._cache.set(ze,d)}return d[l]}_fire(l,d){(d=d||{}).currentTarget=this,d.type=l;const p=this._getProtoListeners(l);if(p)for(var v=0;v<p.length;v++)p[v].handler.call(this,d);const x=this.eventListeners[l];if(x)for(v=0;v<x.length;v++)x[v].handler.call(this,d)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(l){var d=l?l.pointerId:void 0,p=this.getStage(),v=this.getAbsolutePosition(),x=p._getPointerById(d)||p._changedPointerPositions[0]||v;ue._dragElements.set(this._id,{node:this,startPointerPos:x,offset:{x:x.x-v.x,y:x.y-v.y},dragStatus:"ready",pointerId:d})}startDrag(l,d=!0){ue._dragElements.has(this._id)||this._createDragElement(l),ue._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:l&&l.evt},d)}_setDragPosition(l,d){const p=this.getStage()._getPointerById(d.pointerId);if(p){var v={x:p.x-d.offset.x,y:p.y-d.offset.y},x=this.dragBoundFunc();if(x!==void 0){const E=x.call(this,v,l);E?v=E:k.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===v.x&&this._lastPos.y===v.y||(this.setAbsolutePosition(v),this._requestDraw()),this._lastPos=v}}stopDrag(l){const d=ue._dragElements.get(this._id);d&&(d.dragStatus="stopped"),ue._endDragBefore(l),ue._endDragAfter(l)}setDraggable(l){this._setAttr("draggable",l),this._dragChange()}isDragging(){const l=ue._dragElements.get(this._id);return!!l&&l.dragStatus==="dragging"}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(l){if((l.evt.button===void 0||m.dragButtons.indexOf(l.evt.button)>=0)&&!this.isDragging()){var d=!1;ue._dragElements.forEach(p=>{this.isAncestorOf(p.node)&&(d=!0)}),d||this._createDragElement(l)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const l=ue._dragElements.get(this._id),d=l&&l.dragStatus==="dragging",p=l&&l.dragStatus==="ready";d?this.stopDrag():p&&ue._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(l={x:0,y:0}){const d=this.getStage();if(!d)return!1;const p={x:-l.x,y:-l.y,width:d.width()+2*l.x,height:d.height()+2*l.y};return k.haveIntersection(p,this.getClientRect())}static create(l,d){return k._isString(l)&&(l=JSON.parse(l)),this._createNode(l,d)}static _createNode(l,d){var p,v,x,E=ge.prototype.getClassName.call(l),I=l.children;if(d&&(l.attrs.container=d),m[E]||(k.warn('Can not find a node with class name "'+E+'". Fallback to "Shape".'),E="Shape"),p=new m[E](l.attrs),I)for(v=I.length,x=0;x<v;x++)p.add(ge._createNode(I[x]));return p}}ge.prototype.nodeType="Node",ge.prototype._attrsAffectingSize=[],ge.prototype.eventListeners={},ge.prototype.on.call(ge.prototype,i3,function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(ti),this._clearSelfAndDescendantCache(Ve))}),ge.prototype.on.call(ge.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(rp)}),ge.prototype.on.call(ge.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Ir)}),ge.prototype.on.call(ge.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Re)});const He=R.addGetterSetter;He(ge,"zIndex"),He(ge,"absolutePosition"),He(ge,"position"),He(ge,"x",0,O()),He(ge,"y",0,O()),He(ge,"globalCompositeOperation","source-over",N()),He(ge,"opacity",1,O()),He(ge,"name","",N()),He(ge,"id","",N()),He(ge,"rotation",0,O()),R.addComponentsGetterSetter(ge,"scale",["x","y"]),He(ge,"scaleX",1,O()),He(ge,"scaleY",1,O()),R.addComponentsGetterSetter(ge,"skew",["x","y"]),He(ge,"skewX",0,O()),He(ge,"skewY",0,O()),R.addComponentsGetterSetter(ge,"offset",["x","y"]),He(ge,"offsetX",0,O()),He(ge,"offsetY",0,O()),He(ge,"dragDistance",null,O()),He(ge,"width",0,O()),He(ge,"height",0,O()),He(ge,"listening",!0,$()),He(ge,"preventDefault",!0,$()),He(ge,"filters",null,function(b){return this._filterUpToDate=!1,b}),He(ge,"visible",!0,$()),He(ge,"transformsEnabled","all",N()),He(ge,"size"),He(ge,"dragBoundFunc"),He(ge,"draggable",!1,$()),R.backCompat(ge,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class kn extends ge{constructor(){super(...arguments),this.children=[]}getChildren(l){if(!l)return this.children||[];const d=this.children||[];var p=[];return d.forEach(function(v){l(v)&&p.push(v)}),p}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(l=>{l.parent=null,l.index=0,l.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(l=>{l.parent=null,l.index=0,l.destroy()}),this.children=[],this._requestDraw(),this}add(...l){if(arguments.length>1){for(var d=0;d<arguments.length;d++)this.add(arguments[d]);return this}var p=l[0];return p.getParent()?(p.moveTo(this),this):(this._validateAdd(p),p.index=this.getChildren().length,p.parent=this,p._clearCaches(),this.getChildren().push(p),this._fire("add",{child:p}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(l){return this._generalFind(l,!1)}findOne(l){var d=this._generalFind(l,!0);return d.length>0?d[0]:void 0}_generalFind(l,d){var p=[];return this._descendants(v=>{const x=v._isMatch(l);return x&&p.push(v),!(!x||!d)}),p}_descendants(l){let d=!1;const p=this.getChildren();for(const v of p)if(d=l(v),d||v.hasChildren()&&(d=v._descendants(l),d))return!0;return!1}toObject(){var l=ge.prototype.toObject.call(this);return l.children=[],this.getChildren().forEach(d=>{l.children.push(d.toObject())}),l}isAncestorOf(l){for(var d=l.getParent();d;){if(d._id===this._id)return!0;d=d.getParent()}return!1}clone(l){var d=ge.prototype.clone.call(this,l);return this.getChildren().forEach(function(p){d.add(p.clone())}),d}getAllIntersections(l){var d=[];return this.find("Shape").forEach(function(p){p.isVisible()&&p.intersects(l)&&d.push(p)}),d}_clearSelfAndDescendantCache(l){var d;super._clearSelfAndDescendantCache(l),this.isCached()||(d=this.children)===null||d===void 0||d.forEach(function(p){p._clearSelfAndDescendantCache(l)})}_setChildrenIndices(){var l;(l=this.children)===null||l===void 0||l.forEach(function(d,p){d.index=p}),this._requestDraw()}drawScene(l,d){var p=this.getLayer(),v=l||p&&p.getCanvas(),x=v&&v.getContext(),E=this._getCanvasCache(),I=E&&E.scene,D=v&&v.isCache;if(!this.isVisible()&&!D)return this;if(I){x.save();var U=this.getAbsoluteTransform(d).getMatrix();x.transform(U[0],U[1],U[2],U[3],U[4],U[5]),this._drawCachedSceneCanvas(x),x.restore()}else this._drawChildren("drawScene",v,d);return this}drawHit(l,d){if(!this.shouldDrawHit(d))return this;var p=this.getLayer(),v=l||p&&p.hitCanvas,x=v&&v.getContext(),E=this._getCanvasCache();if(E&&E.hit){x.save();var I=this.getAbsoluteTransform(d).getMatrix();x.transform(I[0],I[1],I[2],I[3],I[4],I[5]),this._drawCachedHitCanvas(x),x.restore()}else this._drawChildren("drawHit",v,d);return this}_drawChildren(l,d,p){var v,x=d&&d.getContext(),E=this.clipWidth(),I=this.clipHeight(),D=this.clipFunc(),U=E&&I||D;const z=p===this;if(U){x.save();var W=this.getAbsoluteTransform(p),Z=W.getMatrix();if(x.transform(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5]),x.beginPath(),D)D.call(this,x,this);else{var ne=this.clipX(),q=this.clipY();x.rect(ne,q,E,I)}x.clip(),Z=W.copy().invert().getMatrix(),x.transform(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5])}var le=!z&&this.globalCompositeOperation()!=="source-over"&&l==="drawScene";le&&(x.save(),x._applyGlobalCompositeOperation(this)),(v=this.children)===null||v===void 0||v.forEach(function(Ge){Ge[l](d,p)}),le&&x.restore(),U&&x.restore()}getClientRect(l){var d,p,v,x,E,I,D=(l=l||{}).skipTransform,U=l.relativeTo,z=this;(d=this.children)===null||d===void 0||d.forEach(function(q){if(q.visible()){var le=q.getClientRect({relativeTo:z,skipShadow:l.skipShadow,skipStroke:l.skipStroke});le.width===0&&le.height===0||(p===void 0?(p=le.x,v=le.y,x=le.x+le.width,E=le.y+le.height):(p=Math.min(p,le.x),v=Math.min(v,le.y),x=Math.max(x,le.x+le.width),E=Math.max(E,le.y+le.height)))}});for(var W=this.find("Shape"),Z=!1,ne=0;ne<W.length;ne++)if(W[ne]._isVisible(this)){Z=!0;break}return I=Z&&p!==void 0?{x:p,y:v,width:x-p,height:E-v}:{x:0,y:0,width:0,height:0},D?I:this._transformedRect(I,U)}}R.addComponentsGetterSetter(kn,"clip",["x","y","width","height"]),R.addGetterSetter(kn,"clipX",void 0,O()),R.addGetterSetter(kn,"clipY",void 0,O()),R.addGetterSetter(kn,"clipWidth",void 0,O()),R.addGetterSetter(kn,"clipHeight",void 0,O()),R.addGetterSetter(kn,"clipFunc");const Ia=new Map,C1=m._global.PointerEvent!==void 0;function ip(b){return Ia.get(b)}function sp(b){return{evt:b,pointerId:b.pointerId}}function k1(b,l){return Ia.get(b)===l}function E1(b,l){Pa(b),l.getStage()&&(Ia.set(b,l),C1&&l._fire("gotpointercapture",sp(new PointerEvent("gotpointercapture"))))}function Pa(b,l){const d=Ia.get(b);if(!d)return;const p=d.getStage();p&&p.content,Ia.delete(b),C1&&d._fire("lostpointercapture",sp(new PointerEvent("lostpointercapture")))}var x1="mouseleave",T1="mouseover",I1="mouseenter",P1="mousemove",A1="mousedown",O1="mouseup",Aa="pointermove",Oa="pointerdown",io="pointerup",Ra="pointercancel",Ju="pointerout",Zu="pointerleave",ec="pointerover",tc="pointerenter",op="contextmenu",R1="touchstart",N1="touchend",D1="touchmove",M1="touchcancel",ap="wheel",o3=[[I1,"_pointerenter"],[A1,"_pointerdown"],[P1,"_pointermove"],[O1,"_pointerup"],[x1,"_pointerleave"],[R1,"_pointerdown"],[D1,"_pointermove"],[N1,"_pointerup"],[M1,"_pointercancel"],[T1,"_pointerover"],[ap,"_wheel"],[op,"_contextmenu"],[Oa,"_pointerdown"],[Aa,"_pointermove"],[io,"_pointerup"],[Ra,"_pointercancel"],["lostpointercapture","_lostpointercapture"]];const lp={mouse:{[Ju]:"mouseout",[Zu]:x1,[ec]:T1,[tc]:I1,[Aa]:P1,[Oa]:A1,[io]:O1,[Ra]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Ju]:"touchout",[Zu]:"touchleave",[ec]:"touchover",[tc]:"touchenter",[Aa]:D1,[Oa]:R1,[io]:N1,[Ra]:M1,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Ju]:Ju,[Zu]:Zu,[ec]:ec,[tc]:tc,[Aa]:Aa,[Oa]:Oa,[io]:io,[Ra]:Ra,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Na=b=>b.indexOf("pointer")>=0?"pointer":b.indexOf("touch")>=0?"touch":"mouse",so=b=>{const l=Na(b);return l==="pointer"?m.pointerEventsEnabled&&lp.pointer:l==="touch"?lp.touch:l==="mouse"?lp.mouse:void 0};function L1(b={}){return(b.clipFunc||b.clipWidth||b.clipHeight)&&k.warn("Stage does not support clipping. Please use clip for Layers or Groups."),b}const nc=[];class rc extends kn{constructor(l){super(L1(l)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),nc.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{L1(this.attrs)}),this._checkVisibility()}_validateAdd(l){const d=l.getType()==="Layer",p=l.getType()==="FastLayer";d||p||k.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const l=this.visible()?"":"none";this.content.style.display=l}setContainer(l){if(typeof l=="string"){if(l.charAt(0)==="."){var d=l.slice(1);l=document.getElementsByClassName(d)[0]}else{var p;p=l.charAt(0)!=="#"?l:l.slice(1),l=document.getElementById(p)}if(!l)throw"Can not find container in document with id "+p}return this._setAttr("container",l),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),l.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var l,d=this.children,p=d.length;for(l=0;l<p;l++)d[l].clear();return this}clone(l){return l||(l={}),l.container=typeof document<"u"&&document.createElement("div"),kn.prototype.clone.call(this,l)}destroy(){super.destroy();var l=this.content;l&&k._isInDocument(l)&&this.container().removeChild(l);var d=nc.indexOf(this);return d>-1&&nc.splice(d,1),this}getPointerPosition(){const l=this._pointerPositions[0]||this._changedPointerPositions[0];return l?{x:l.x,y:l.y}:(k.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(l){return this._pointerPositions.find(d=>d.id===l)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(l){(l=l||{}).x=l.x||0,l.y=l.y||0,l.width=l.width||this.width(),l.height=l.height||this.height();var d=new ae({width:l.width,height:l.height,pixelRatio:l.pixelRatio||1}),p=d.getContext()._context,v=this.children;return(l.x||l.y)&&p.translate(-1*l.x,-1*l.y),v.forEach(function(x){if(x.isVisible()){var E=x._toKonvaCanvas(l);p.drawImage(E._canvas,l.x,l.y,E.getWidth()/E.getPixelRatio(),E.getHeight()/E.getPixelRatio())}}),d}getIntersection(l){if(!l)return null;var d,p=this.children;for(d=p.length-1;d>=0;d--){const v=p[d].getIntersection(l);if(v)return v}return null}_resizeDOM(){var l=this.width(),d=this.height();this.content&&(this.content.style.width=l+"px",this.content.style.height=d+"px"),this.bufferCanvas.setSize(l,d),this.bufferHitCanvas.setSize(l,d),this.children.forEach(p=>{p.setSize({width:l,height:d}),p.draw()})}add(l,...d){if(arguments.length>1){for(var p=0;p<arguments.length;p++)this.add(arguments[p]);return this}super.add(l);var v=this.children.length;return v>5&&k.warn("The stage has "+v+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),l.setSize({width:this.width(),height:this.height()}),l.draw(),m.isBrowser&&this.content.appendChild(l.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(l){return k1(l,this)}setPointerCapture(l){E1(l,this)}releaseCapture(l){Pa(l)}getLayers(){return this.children}_bindContentEvents(){m.isBrowser&&o3.forEach(([l,d])=>{this.content.addEventListener(l,p=>{this[d](p)})})}_pointerenter(l){this.setPointersPositions(l);const d=so(l.type);this._fire(d.pointerenter,{evt:l,target:this,currentTarget:this})}_pointerover(l){this.setPointersPositions(l);const d=so(l.type);this._fire(d.pointerover,{evt:l,target:this,currentTarget:this})}_getTargetShape(l){let d=this[l+"targetShape"];return d&&!d.getStage()&&(d=null),d}_pointerleave(l){const d=so(l.type),p=Na(l.type);if(d){this.setPointersPositions(l);var v=this._getTargetShape(p),x=!ue.isDragging||m.hitOnDragEnabled;v&&x?(v._fireAndBubble(d.pointerout,{evt:l}),v._fireAndBubble(d.pointerleave,{evt:l}),this._fire(d.pointerleave,{evt:l,target:this,currentTarget:this}),this[p+"targetShape"]=null):x&&(this._fire(d.pointerleave,{evt:l,target:this,currentTarget:this}),this._fire(d.pointerout,{evt:l,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(l){const d=so(l.type),p=Na(l.type);if(d){this.setPointersPositions(l);var v=!1;this._changedPointerPositions.forEach(x=>{var E=this.getIntersection(x);if(ue.justDragged=!1,m["_"+p+"ListenClick"]=!0,!E||!E.isListening())return;m.capturePointerEventsEnabled&&E.setPointerCapture(x.id),this[p+"ClickStartShape"]=E,E._fireAndBubble(d.pointerdown,{evt:l,pointerId:x.id}),v=!0;const I=l.type.indexOf("touch")>=0;E.preventDefault()&&l.cancelable&&I&&l.preventDefault()}),v||this._fire(d.pointerdown,{evt:l,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(l){const d=so(l.type),p=Na(l.type);if(!d||(ue.isDragging&&ue.node.preventDefault()&&l.cancelable&&l.preventDefault(),this.setPointersPositions(l),ue.isDragging&&!m.hitOnDragEnabled))return;var v={};let x=!1;var E=this._getTargetShape(p);this._changedPointerPositions.forEach(I=>{const D=ip(I.id)||this.getIntersection(I),U=I.id,z={evt:l,pointerId:U};var W=E!==D;if(W&&E&&(E._fireAndBubble(d.pointerout,Object.assign({},z),D),E._fireAndBubble(d.pointerleave,Object.assign({},z),D)),D){if(v[D._id])return;v[D._id]=!0}D&&D.isListening()?(x=!0,W&&(D._fireAndBubble(d.pointerover,Object.assign({},z),E),D._fireAndBubble(d.pointerenter,Object.assign({},z),E),this[p+"targetShape"]=D),D._fireAndBubble(d.pointermove,Object.assign({},z))):E&&(this._fire(d.pointerover,{evt:l,target:this,currentTarget:this,pointerId:U}),this[p+"targetShape"]=null)}),x||this._fire(d.pointermove,{evt:l,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(l){const d=so(l.type),p=Na(l.type);if(!d)return;this.setPointersPositions(l);const v=this[p+"ClickStartShape"],x=this[p+"ClickEndShape"];var E={};let I=!1;this._changedPointerPositions.forEach(D=>{const U=ip(D.id)||this.getIntersection(D);if(U){if(U.releaseCapture(D.id),E[U._id])return;E[U._id]=!0}const z=D.id,W={evt:l,pointerId:z};let Z=!1;m["_"+p+"InDblClickWindow"]?(Z=!0,clearTimeout(this[p+"DblTimeout"])):ue.justDragged||(m["_"+p+"InDblClickWindow"]=!0,clearTimeout(this[p+"DblTimeout"])),this[p+"DblTimeout"]=setTimeout(function(){m["_"+p+"InDblClickWindow"]=!1},m.dblClickWindow),U&&U.isListening()?(I=!0,this[p+"ClickEndShape"]=U,U._fireAndBubble(d.pointerup,Object.assign({},W)),m["_"+p+"ListenClick"]&&v&&v===U&&(U._fireAndBubble(d.pointerclick,Object.assign({},W)),Z&&x&&x===U&&U._fireAndBubble(d.pointerdblclick,Object.assign({},W)))):(this[p+"ClickEndShape"]=null,m["_"+p+"ListenClick"]&&this._fire(d.pointerclick,{evt:l,target:this,currentTarget:this,pointerId:z}),Z&&this._fire(d.pointerdblclick,{evt:l,target:this,currentTarget:this,pointerId:z}))}),I||this._fire(d.pointerup,{evt:l,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),m["_"+p+"ListenClick"]=!1,l.cancelable&&l.preventDefault()}_contextmenu(l){this.setPointersPositions(l);var d=this.getIntersection(this.getPointerPosition());d&&d.isListening()?d._fireAndBubble(op,{evt:l}):this._fire(op,{evt:l,target:this,currentTarget:this})}_wheel(l){this.setPointersPositions(l);var d=this.getIntersection(this.getPointerPosition());d&&d.isListening()?d._fireAndBubble(ap,{evt:l}):this._fire(ap,{evt:l,target:this,currentTarget:this})}_pointercancel(l){this.setPointersPositions(l);const d=ip(l.pointerId)||this.getIntersection(this.getPointerPosition());d&&d._fireAndBubble(io,sp(l)),Pa(l.pointerId)}_lostpointercapture(l){Pa(l.pointerId)}setPointersPositions(l){var d=this._getContentPosition(),p=null,v=null;(l=l||window.event).touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(l.touches,x=>{this._pointerPositions.push({id:x.identifier,x:(x.clientX-d.left)/d.scaleX,y:(x.clientY-d.top)/d.scaleY})}),Array.prototype.forEach.call(l.changedTouches||l.touches,x=>{this._changedPointerPositions.push({id:x.identifier,x:(x.clientX-d.left)/d.scaleX,y:(x.clientY-d.top)/d.scaleY})})):(p=(l.clientX-d.left)/d.scaleX,v=(l.clientY-d.top)/d.scaleY,this.pointerPos={x:p,y:v},this._pointerPositions=[{x:p,y:v,id:k._getFirstPointerId(l)}],this._changedPointerPositions=[{x:p,y:v,id:k._getFirstPointerId(l)}])}_setPointerPosition(l){k.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(l)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var l=this.content.getBoundingClientRect();return{top:l.top,left:l.left,scaleX:l.width/this.content.clientWidth||1,scaleY:l.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new ae({width:this.width(),height:this.height()}),this.bufferHitCanvas=new me({pixelRatio:1,width:this.width(),height:this.height()}),m.isBrowser){var l=this.container();if(!l)throw"Stage has no container. A container is required.";l.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),l.appendChild(this.content),this._resizeDOM()}}cache(){return k.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(l){l.batchDraw()}),this}}rc.prototype.nodeType="Stage",y(rc),R.addGetterSetter(rc,"container");var U1="hasShadow",$1="shadowRGBA",F1="patternImage",j1="linearGradient",B1="radialGradient";let up;function cp(){return up||(up=k.createCanvasElement().getContext("2d"),up)}const Da={};class se extends ge{constructor(l){let d;for(super(l);d=k.getRandomColor(),!d||d in Da;);this.colorKey=d,Da[d]=this}getContext(){return k.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return k.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(U1,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(F1,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const l=cp().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(l&&l.setTransform){const d=new S;d.translate(this.fillPatternX(),this.fillPatternY()),d.rotate(m.getAngle(this.fillPatternRotation())),d.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),d.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const p=d.getMatrix(),v=typeof DOMMatrix>"u"?{a:p[0],b:p[1],c:p[2],d:p[3],e:p[4],f:p[5]}:new DOMMatrix(p);l.setTransform(v)}return l}}_getLinearGradient(){return this._getCache(j1,this.__getLinearGradient)}__getLinearGradient(){var l=this.fillLinearGradientColorStops();if(l){for(var d=cp(),p=this.fillLinearGradientStartPoint(),v=this.fillLinearGradientEndPoint(),x=d.createLinearGradient(p.x,p.y,v.x,v.y),E=0;E<l.length;E+=2)x.addColorStop(l[E],l[E+1]);return x}}_getRadialGradient(){return this._getCache(B1,this.__getRadialGradient)}__getRadialGradient(){var l=this.fillRadialGradientColorStops();if(l){for(var d=cp(),p=this.fillRadialGradientStartPoint(),v=this.fillRadialGradientEndPoint(),x=d.createRadialGradient(p.x,p.y,this.fillRadialGradientStartRadius(),v.x,v.y,this.fillRadialGradientEndRadius()),E=0;E<l.length;E+=2)x.addColorStop(l[E],l[E+1]);return x}}getShadowRGBA(){return this._getCache($1,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var l=k.colorToRGBA(this.shadowColor());return"rgba("+l.r+","+l.g+","+l.b+","+l.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops()))}hasHitStroke(){const l=this.hitStrokeWidth();return l==="auto"?this.hasStroke():this.strokeEnabled()&&!!l}intersects(l){var d=this.getStage().bufferHitCanvas;return d.getContext().clear(),this.drawHit(d,null,!0),d.context.getImageData(Math.round(l.x),Math.round(l.y),1,1).data[3]>0}destroy(){return ge.prototype.destroy.call(this),delete Da[this.colorKey],delete this.colorKey,this}_useBufferCanvas(l){var d;if(!this.getStage()||(d=this.attrs.perfectDrawEnabled)!==null&&d!==void 0&&!d)return!1;const p=l||this.hasFill(),v=this.hasStroke(),x=this.getAbsoluteOpacity()!==1;if(p&&v&&x)return!0;const E=this.hasShadow(),I=this.shadowForStrokeEnabled();return!!(p&&v&&E&&I)}setStrokeHitEnabled(l){k.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),l?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var l=this.size();return{x:this._centroid?-l.width/2:0,y:this._centroid?-l.height/2:0,width:l.width,height:l.height}}getClientRect(l={}){const d=l.skipTransform,p=l.relativeTo,v=this.getSelfRect(),x=!l.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,E=v.width+x,I=v.height+x,D=!l.skipShadow&&this.hasShadow(),U=D?this.shadowOffsetX():0,z=D?this.shadowOffsetY():0,W=E+Math.abs(U),Z=I+Math.abs(z),ne=D&&this.shadowBlur()||0,q={width:W+2*ne,height:Z+2*ne,x:-(x/2+ne)+Math.min(U,0)+v.x,y:-(x/2+ne)+Math.min(z,0)+v.y};return d?q:this._transformedRect(q,p)}drawScene(l,d){var p,v,x=this.getLayer(),E=l||x.getCanvas(),I=E.getContext(),D=this._getCanvasCache(),U=this.getSceneFunc(),z=this.hasShadow(),W=E.isCache,Z=d===this;if(!this.isVisible()&&!Z)return this;if(D){I.save();var ne=this.getAbsoluteTransform(d).getMatrix();return I.transform(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5]),this._drawCachedSceneCanvas(I),I.restore(),this}if(!U)return this;if(I.save(),this._useBufferCanvas()&&!W){(v=(p=this.getStage().bufferCanvas).getContext()).clear(),v.save(),v._applyLineJoin(this);var q=this.getAbsoluteTransform(d).getMatrix();v.transform(q[0],q[1],q[2],q[3],q[4],q[5]),U.call(this,v,this),v.restore();var le=p.pixelRatio;z&&I._applyShadow(this),I._applyOpacity(this),I._applyGlobalCompositeOperation(this),I.drawImage(p._canvas,0,0,p.width/le,p.height/le)}else I._applyLineJoin(this),Z||(q=this.getAbsoluteTransform(d).getMatrix(),I.transform(q[0],q[1],q[2],q[3],q[4],q[5]),I._applyOpacity(this),I._applyGlobalCompositeOperation(this)),z&&I._applyShadow(this),U.call(this,I,this);return I.restore(),this}drawHit(l,d,p=!1){if(!this.shouldDrawHit(d,p))return this;var v=this.getLayer(),x=l||v.hitCanvas,E=x&&x.getContext(),I=this.hitFunc()||this.sceneFunc(),D=this._getCanvasCache(),U=D&&D.hit;if(this.colorKey||k.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),U){E.save();var z=this.getAbsoluteTransform(d).getMatrix();return E.transform(z[0],z[1],z[2],z[3],z[4],z[5]),this._drawCachedHitCanvas(E),E.restore(),this}if(!I)return this;if(E.save(),E._applyLineJoin(this),this!==d){var W=this.getAbsoluteTransform(d).getMatrix();E.transform(W[0],W[1],W[2],W[3],W[4],W[5])}return I.call(this,E,this),E.restore(),this}drawHitFromCache(l=0){var d,p,v,x,E,I=this._getCanvasCache(),D=this._getCachedSceneCanvas(),U=I.hit,z=U.getContext(),W=U.getWidth(),Z=U.getHeight();z.clear(),z.drawImage(D._canvas,0,0,W,Z);try{for(v=(p=(d=z.getImageData(0,0,W,Z)).data).length,x=k._hexToRgb(this.colorKey),E=0;E<v;E+=4)p[E+3]>l?(p[E]=x.r,p[E+1]=x.g,p[E+2]=x.b,p[E+3]=255):p[E+3]=0;z.putImageData(d,0,0)}catch(ne){k.error("Unable to draw hit graph from cached scene canvas. "+ne.message)}return this}hasPointerCapture(l){return k1(l,this)}setPointerCapture(l){E1(l,this)}releaseCapture(l){Pa(l)}}se.prototype._fillFunc=function(b){b.fill()},se.prototype._strokeFunc=function(b){b.stroke()},se.prototype._fillFuncHit=function(b){b.fill()},se.prototype._strokeFuncHit=function(b){b.stroke()},se.prototype._centroid=!1,se.prototype.nodeType="Shape",y(se),se.prototype.eventListeners={},se.prototype.on.call(se.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function(){this._clearCache(U1)}),se.prototype.on.call(se.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function(){this._clearCache($1)}),se.prototype.on.call(se.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",function(){this._clearCache(F1)}),se.prototype.on.call(se.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",function(){this._clearCache(j1)}),se.prototype.on.call(se.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",function(){this._clearCache(B1)}),R.addGetterSetter(se,"stroke",void 0,F()),R.addGetterSetter(se,"strokeWidth",2,O()),R.addGetterSetter(se,"fillAfterStrokeEnabled",!1),R.addGetterSetter(se,"hitStrokeWidth","auto",function(){if(m.isUnminified)return function(b,l){return k._isNumber(b)||b==="auto"||k.warn(j(b)+' is a not valid value for "'+l+'" attribute. The value should be a number or "auto".'),b}}()),R.addGetterSetter(se,"strokeHitEnabled",!0,$()),R.addGetterSetter(se,"perfectDrawEnabled",!0,$()),R.addGetterSetter(se,"shadowForStrokeEnabled",!0,$()),R.addGetterSetter(se,"lineJoin"),R.addGetterSetter(se,"lineCap"),R.addGetterSetter(se,"sceneFunc"),R.addGetterSetter(se,"hitFunc"),R.addGetterSetter(se,"dash"),R.addGetterSetter(se,"dashOffset",0,O()),R.addGetterSetter(se,"shadowColor",void 0,N()),R.addGetterSetter(se,"shadowBlur",0,O()),R.addGetterSetter(se,"shadowOpacity",1,O()),R.addComponentsGetterSetter(se,"shadowOffset",["x","y"]),R.addGetterSetter(se,"shadowOffsetX",0,O()),R.addGetterSetter(se,"shadowOffsetY",0,O()),R.addGetterSetter(se,"fillPatternImage"),R.addGetterSetter(se,"fill",void 0,F()),R.addGetterSetter(se,"fillPatternX",0,O()),R.addGetterSetter(se,"fillPatternY",0,O()),R.addGetterSetter(se,"fillLinearGradientColorStops"),R.addGetterSetter(se,"strokeLinearGradientColorStops"),R.addGetterSetter(se,"fillRadialGradientStartRadius",0),R.addGetterSetter(se,"fillRadialGradientEndRadius",0),R.addGetterSetter(se,"fillRadialGradientColorStops"),R.addGetterSetter(se,"fillPatternRepeat","repeat"),R.addGetterSetter(se,"fillEnabled",!0),R.addGetterSetter(se,"strokeEnabled",!0),R.addGetterSetter(se,"shadowEnabled",!0),R.addGetterSetter(se,"dashEnabled",!0),R.addGetterSetter(se,"strokeScaleEnabled",!0),R.addGetterSetter(se,"fillPriority","color"),R.addComponentsGetterSetter(se,"fillPatternOffset",["x","y"]),R.addGetterSetter(se,"fillPatternOffsetX",0,O()),R.addGetterSetter(se,"fillPatternOffsetY",0,O()),R.addComponentsGetterSetter(se,"fillPatternScale",["x","y"]),R.addGetterSetter(se,"fillPatternScaleX",1,O()),R.addGetterSetter(se,"fillPatternScaleY",1,O()),R.addComponentsGetterSetter(se,"fillLinearGradientStartPoint",["x","y"]),R.addComponentsGetterSetter(se,"strokeLinearGradientStartPoint",["x","y"]),R.addGetterSetter(se,"fillLinearGradientStartPointX",0),R.addGetterSetter(se,"strokeLinearGradientStartPointX",0),R.addGetterSetter(se,"fillLinearGradientStartPointY",0),R.addGetterSetter(se,"strokeLinearGradientStartPointY",0),R.addComponentsGetterSetter(se,"fillLinearGradientEndPoint",["x","y"]),R.addComponentsGetterSetter(se,"strokeLinearGradientEndPoint",["x","y"]),R.addGetterSetter(se,"fillLinearGradientEndPointX",0),R.addGetterSetter(se,"strokeLinearGradientEndPointX",0),R.addGetterSetter(se,"fillLinearGradientEndPointY",0),R.addGetterSetter(se,"strokeLinearGradientEndPointY",0),R.addComponentsGetterSetter(se,"fillRadialGradientStartPoint",["x","y"]),R.addGetterSetter(se,"fillRadialGradientStartPointX",0),R.addGetterSetter(se,"fillRadialGradientStartPointY",0),R.addComponentsGetterSetter(se,"fillRadialGradientEndPoint",["x","y"]),R.addGetterSetter(se,"fillRadialGradientEndPointX",0),R.addGetterSetter(se,"fillRadialGradientEndPointY",0),R.addGetterSetter(se,"fillPatternRotation",0),R.backCompat(se,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var z1=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],a3=z1.length;class os extends kn{constructor(l){super(l),this.canvas=new ae,this.hitCanvas=new me({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(l){return this.getContext().clear(l),this.getHitCanvas().getContext().clear(l),this}setZIndex(l){super.setZIndex(l);var d=this.getStage();return d&&d.content&&(d.content.removeChild(this.getNativeCanvasElement()),l<d.children.length-1?d.content.insertBefore(this.getNativeCanvasElement(),d.children[l+1].getCanvas()._canvas):d.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){ge.prototype.moveToTop.call(this);var l=this.getStage();return l&&l.content&&(l.content.removeChild(this.getNativeCanvasElement()),l.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!ge.prototype.moveUp.call(this))return!1;var l=this.getStage();return!(!l||!l.content||(l.content.removeChild(this.getNativeCanvasElement()),this.index<l.children.length-1?l.content.insertBefore(this.getNativeCanvasElement(),l.children[this.index+1].getCanvas()._canvas):l.content.appendChild(this.getNativeCanvasElement()),0))}moveDown(){if(ge.prototype.moveDown.call(this)){var l=this.getStage();if(l){var d=l.children;l.content&&(l.content.removeChild(this.getNativeCanvasElement()),l.content.insertBefore(this.getNativeCanvasElement(),d[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(ge.prototype.moveToBottom.call(this)){var l=this.getStage();if(l){var d=l.children;l.content&&(l.content.removeChild(this.getNativeCanvasElement()),l.content.insertBefore(this.getNativeCanvasElement(),d[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var l=this.getNativeCanvasElement();return ge.prototype.remove.call(this),l&&l.parentNode&&k._isInDocument(l)&&l.parentNode.removeChild(l),this}getStage(){return this.parent}setSize({width:l,height:d}){return this.canvas.setSize(l,d),this.hitCanvas.setSize(l,d),this._setSmoothEnabled(),this}_validateAdd(l){var d=l.getType();d!=="Group"&&d!=="Shape"&&k.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(l){return(l=l||{}).width=l.width||this.getWidth(),l.height=l.height||this.getHeight(),l.x=l.x!==void 0?l.x:this.x(),l.y=l.y!==void 0?l.y:this.y(),ge.prototype._toKonvaCanvas.call(this,l)}_checkVisibility(){const l=this.visible();this.canvas._canvas.style.display=l?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){k.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){k.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,k.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(l){if(!this.isListening()||!this.isVisible())return null;for(var d=1,p=!1;;){for(let v=0;v<a3;v++){const x=z1[v],E=this._getIntersection({x:l.x+x.x*d,y:l.y+x.y*d}),I=E.shape;if(I)return I;if(p=!!E.antialiased,!E.antialiased)break}if(!p)return null;d+=1}}_getIntersection(l){const d=this.hitCanvas.pixelRatio,p=this.hitCanvas.context.getImageData(Math.round(l.x*d),Math.round(l.y*d),1,1).data,v=p[3];if(v===255){const x=k._rgbToHex(p[0],p[1],p[2]),E=Da["#"+x];return E?{shape:E}:{antialiased:!0}}return v>0?{antialiased:!0}:{}}drawScene(l,d){var p=this.getLayer(),v=l||p&&p.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&v.getContext().clear(),kn.prototype.drawScene.call(this,v,d),this._fire("draw",{node:this}),this}drawHit(l,d){var p=this.getLayer(),v=l||p&&p.hitCanvas;return p&&p.clearBeforeDraw()&&p.getHitCanvas().getContext().clear(),kn.prototype.drawHit.call(this,v,d),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(l){k.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(l)}getHitGraphEnabled(l){return k.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var l=this.parent;this.hitCanvas._canvas.parentNode?l.content.removeChild(this.hitCanvas._canvas):l.content.appendChild(this.hitCanvas._canvas)}}}os.prototype.nodeType="Layer",y(os),R.addGetterSetter(os,"imageSmoothingEnabled",!0),R.addGetterSetter(os,"clearBeforeDraw",!0),R.addGetterSetter(os,"hitGraphEnabled",!0,$());class hp extends os{constructor(l){super(l),this.listening(!1),k.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}hp.prototype.nodeType="FastLayer",y(hp);class dp extends kn{_validateAdd(l){var d=l.getType();d!=="Group"&&d!=="Shape"&&k.throw("You may only add groups and shapes to groups.")}}dp.prototype.nodeType="Group",y(dp);var fp=f.performance&&f.performance.now?function(){return f.performance.now()}:function(){return new Date().getTime()};class Yn{constructor(l,d){this.id=Yn.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:fp(),frameRate:0},this.func=l,this.setLayers(d)}setLayers(l){var d;return d=l?l.length>0?l:[l]:[],this.layers=d,this}getLayers(){return this.layers}addLayer(l){var d,p=this.layers,v=p.length;for(d=0;d<v;d++)if(p[d]._id===l._id)return!1;return this.layers.push(l),!0}isRunning(){var l,d=Yn.animations,p=d.length;for(l=0;l<p;l++)if(d[l].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=fp(),Yn._addAnimation(this),this}stop(){return Yn._removeAnimation(this),this}_updateFrameObject(l){this.frame.timeDiff=l-this.frame.lastTime,this.frame.lastTime=l,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(l){this.animations.push(l),this._handleAnimation()}static _removeAnimation(l){var d,p=l.id,v=this.animations,x=v.length;for(d=0;d<x;d++)if(v[d].id===p){this.animations.splice(d,1);break}}static _runFrames(){var l,d,p,v,x,E,I,D,U={},z=this.animations;for(v=0;v<z.length;v++)if(d=(l=z[v]).layers,p=l.func,l._updateFrameObject(fp()),E=d.length,!p||p.call(l,l.frame)!==!1)for(x=0;x<E;x++)(I=d[x])._id!==void 0&&(U[I._id]=I);for(D in U)U.hasOwnProperty(D)&&U[D].batchDraw()}static _animationLoop(){var l=Yn;l.animations.length?(l._runFrames(),k.requestAnimFrame(l._animationLoop)):l.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,k.requestAnimFrame(this._animationLoop))}}Yn.animations=[],Yn.animIdCounter=0,Yn.animRunning=!1;var l3={node:1,duration:1,easing:1,onFinish:1,yoyo:1},u3=0,V1=["fill","stroke","shadowColor"];class c3{constructor(l,d,p,v,x,E,I){this.prop=l,this.propFunc=d,this.begin=v,this._pos=v,this.duration=E,this._change=0,this.prevPos=0,this.yoyo=I,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=p,this._change=x-this.begin,this.pause()}fire(l){var d=this[l];d&&d()}setTime(l){l>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():l<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=l,this.update())}getTime(){return this._time}setPosition(l){this.prevPos=this._pos,this.propFunc(l),this._pos=l}getPosition(l){return l===void 0&&(l=this._time),this.func(l,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(l){this.pause(),this._time=l,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var l=this.getTimer()-this._startTime;this.state===2?this.setTime(l):this.state===3&&this.setTime(this.duration-l)}pause(){this.state=1,this.fire("onPause")}getTimer(){return new Date().getTime()}}class pt{constructor(l){var d,p,v=this,x=l.node,E=x._id,I=l.easing||Ma.Linear,D=!!l.yoyo;d=l.duration===void 0?.3:l.duration===0?.001:l.duration,this.node=x,this._id=u3++;var U=x.getLayer()||(x instanceof m.Stage?x.getLayers():null);for(p in U||k.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Yn(function(){v.tween.onEnterFrame()},U),this.tween=new c3(p,function(z){v._tweenFunc(z)},I,0,1,1e3*d,D),this._addListeners(),pt.attrs[E]||(pt.attrs[E]={}),pt.attrs[E][this._id]||(pt.attrs[E][this._id]={}),pt.tweens[E]||(pt.tweens[E]={}),l)l3[p]===void 0&&this._addAttr(p,l[p]);this.reset(),this.onFinish=l.onFinish,this.onReset=l.onReset,this.onUpdate=l.onUpdate}_addAttr(l,d){var p,v,x,E,I,D,U,z,W=this.node,Z=W._id;if((x=pt.tweens[Z][l])&&delete pt.attrs[Z][x][l],p=W.getAttr(l),k._isArray(d))if(v=[],I=Math.max(d.length,p.length),l==="points"&&d.length!==p.length&&(d.length>p.length?(U=p,p=k._prepareArrayForTween(p,d,W.closed())):(D=d,d=k._prepareArrayForTween(d,p,W.closed()))),l.indexOf("fill")===0)for(E=0;E<I;E++)if(E%2==0)v.push(d[E]-p[E]);else{var ne=k.colorToRGBA(p[E]);z=k.colorToRGBA(d[E]),p[E]=ne,v.push({r:z.r-ne.r,g:z.g-ne.g,b:z.b-ne.b,a:z.a-ne.a})}else for(E=0;E<I;E++)v.push(d[E]-p[E]);else V1.indexOf(l)!==-1?(p=k.colorToRGBA(p),v={r:(z=k.colorToRGBA(d)).r-p.r,g:z.g-p.g,b:z.b-p.b,a:z.a-p.a}):v=d-p;pt.attrs[Z][this._id][l]={start:p,diff:v,end:d,trueEnd:D,trueStart:U},pt.tweens[Z][l]=this._id}_tweenFunc(l){var d,p,v,x,E,I,D,U,z=this.node,W=pt.attrs[z._id][this._id];for(d in W){if(v=(p=W[d]).start,x=p.diff,U=p.end,k._isArray(v))if(E=[],D=Math.max(v.length,U.length),d.indexOf("fill")===0)for(I=0;I<D;I++)I%2==0?E.push((v[I]||0)+x[I]*l):E.push("rgba("+Math.round(v[I].r+x[I].r*l)+","+Math.round(v[I].g+x[I].g*l)+","+Math.round(v[I].b+x[I].b*l)+","+(v[I].a+x[I].a*l)+")");else for(I=0;I<D;I++)E.push((v[I]||0)+x[I]*l);else E=V1.indexOf(d)!==-1?"rgba("+Math.round(v.r+x.r*l)+","+Math.round(v.g+x.g*l)+","+Math.round(v.b+x.b*l)+","+(v.a+x.a*l)+")":v+x*l;z.setAttr(d,E)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var l=this.node,d=pt.attrs[l._id][this._id];d.points&&d.points.trueEnd&&l.setAttr("points",d.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var l=this.node,d=pt.attrs[l._id][this._id];d.points&&d.points.trueStart&&l.points(d.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(l){return this.tween.seek(1e3*l),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var l,d=this.node._id,p=this._id,v=pt.tweens[d];for(l in this.pause(),v)delete pt.tweens[d][l];delete pt.attrs[d][p]}}pt.attrs={},pt.tweens={},ge.prototype.to=function(b){var l=b.onFinish;b.node=this,b.onFinish=function(){this.destroy(),l&&l()},new pt(b).play()};const Ma={BackEaseIn(b,l,d,p){var v=1.70158;return d*(b/=p)*b*((v+1)*b-v)+l},BackEaseOut(b,l,d,p){var v=1.70158;return d*((b=b/p-1)*b*((v+1)*b+v)+1)+l},BackEaseInOut(b,l,d,p){var v=1.70158;return(b/=p/2)<1?d/2*(b*b*((1+(v*=1.525))*b-v))+l:d/2*((b-=2)*b*((1+(v*=1.525))*b+v)+2)+l},ElasticEaseIn(b,l,d,p,v,x){var E=0;return b===0?l:(b/=p)==1?l+d:(x||(x=.3*p),!v||v<Math.abs(d)?(v=d,E=x/4):E=x/(2*Math.PI)*Math.asin(d/v),-v*Math.pow(2,10*(b-=1))*Math.sin((b*p-E)*(2*Math.PI)/x)+l)},ElasticEaseOut(b,l,d,p,v,x){var E=0;return b===0?l:(b/=p)==1?l+d:(x||(x=.3*p),!v||v<Math.abs(d)?(v=d,E=x/4):E=x/(2*Math.PI)*Math.asin(d/v),v*Math.pow(2,-10*b)*Math.sin((b*p-E)*(2*Math.PI)/x)+d+l)},ElasticEaseInOut(b,l,d,p,v,x){var E=0;return b===0?l:(b/=p/2)==2?l+d:(x||(x=p*(.3*1.5)),!v||v<Math.abs(d)?(v=d,E=x/4):E=x/(2*Math.PI)*Math.asin(d/v),b<1?v*Math.pow(2,10*(b-=1))*Math.sin((b*p-E)*(2*Math.PI)/x)*-.5+l:v*Math.pow(2,-10*(b-=1))*Math.sin((b*p-E)*(2*Math.PI)/x)*.5+d+l)},BounceEaseOut:(b,l,d,p)=>(b/=p)<1/2.75?d*(7.5625*b*b)+l:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+l:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+l:d*(7.5625*(b-=2.625/2.75)*b+.984375)+l,BounceEaseIn:(b,l,d,p)=>d-Ma.BounceEaseOut(p-b,0,d,p)+l,BounceEaseInOut:(b,l,d,p)=>b<p/2?.5*Ma.BounceEaseIn(2*b,0,d,p)+l:.5*Ma.BounceEaseOut(2*b-p,0,d,p)+.5*d+l,EaseIn:(b,l,d,p)=>d*(b/=p)*b+l,EaseOut:(b,l,d,p)=>-d*(b/=p)*(b-2)+l,EaseInOut:(b,l,d,p)=>(b/=p/2)<1?d/2*b*b+l:-d/2*(--b*(b-2)-1)+l,StrongEaseIn:(b,l,d,p)=>d*(b/=p)*b*b*b*b+l,StrongEaseOut:(b,l,d,p)=>d*((b=b/p-1)*b*b*b*b+1)+l,StrongEaseInOut:(b,l,d,p)=>(b/=p/2)<1?d/2*b*b*b*b*b+l:d/2*((b-=2)*b*b*b*b+2)+l,Linear:(b,l,d,p)=>d*b/p+l},Pr=k._assign(m,{Util:k,Transform:S,Node:ge,Container:kn,Stage:rc,stages:nc,Layer:os,FastLayer:hp,Group:dp,DD:ue,Shape:se,shapes:Da,Animation:Yn,Tween:pt,Easings:Ma,Context:Q,Canvas:te});var h3=o(918),G1=o.n(h3),d3=o(303),f3=o.n(d3);class cr extends se{constructor(l){super(l),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const l=this.image();l&&l.complete||l&&l.readyState===4||l&&l.addEventListener&&l.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(l){const d=this.getWidth(),p=this.getHeight(),v=this.attrs.image;let x;if(v){const E=this.attrs.cropWidth,I=this.attrs.cropHeight;x=E&&I?[v,this.cropX(),this.cropY(),E,I,0,0,d,p]:[v,0,0,d,p]}(this.hasFill()||this.hasStroke())&&(l.beginPath(),l.rect(0,0,d,p),l.closePath(),l.fillStrokeShape(this)),v&&l.drawImage.apply(l,x)}_hitFunc(l){var d=this.width(),p=this.height();l.beginPath(),l.rect(0,0,d,p),l.closePath(),l.fillStrokeShape(this)}getWidth(){var l,d;return(l=this.attrs.width)!==null&&l!==void 0?l:(d=this.image())===null||d===void 0?void 0:d.width}getHeight(){var l,d;return(l=this.attrs.height)!==null&&l!==void 0?l:(d=this.image())===null||d===void 0?void 0:d.height}static fromURL(l,d,p=null){var v=k.createImageElement();v.onload=function(){var x=new cr({image:v});d(x)},v.onerror=p,v.crossOrigin="Anonymous",v.src=l}}cr.prototype.className="Image",y(cr),R.addGetterSetter(cr,"image"),R.addComponentsGetterSetter(cr,"crop",["x","y","width","height"]),R.addGetterSetter(cr,"cropX",0,O()),R.addGetterSetter(cr,"cropY",0,O()),R.addGetterSetter(cr,"cropWidth",0,O()),R.addGetterSetter(cr,"cropHeight",0,O());class La extends se{_sceneFunc(l){l.beginPath(),l.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),l.closePath(),l.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(l){this.radius()!==l/2&&this.radius(l/2)}setHeight(l){this.radius()!==l/2&&this.radius(l/2)}}La.prototype._centroid=!0,La.prototype.className="Circle",La.prototype._attrsAffectingSize=["radius"],y(La),R.addGetterSetter(La,"radius",0,O());class pp extends se{_sceneFunc(l){var d=this.cornerRadius(),p=this.width(),v=this.height();if(l.beginPath(),d){let x=0,E=0,I=0,D=0;typeof d=="number"?x=E=I=D=Math.min(d,p/2,v/2):(x=Math.min(d[0]||0,p/2,v/2),E=Math.min(d[1]||0,p/2,v/2),D=Math.min(d[2]||0,p/2,v/2),I=Math.min(d[3]||0,p/2,v/2)),l.moveTo(x,0),l.lineTo(p-E,0),l.arc(p-E,E,E,3*Math.PI/2,0,!1),l.lineTo(p,v-D),l.arc(p-D,v-D,D,0,Math.PI/2,!1),l.lineTo(I,v),l.arc(I,v-I,I,Math.PI/2,Math.PI,!1),l.lineTo(0,x),l.arc(x,x,x,Math.PI,3*Math.PI/2,!1)}else l.rect(0,0,p,v);l.closePath(),l.fillStrokeShape(this)}}pp.prototype.className="Rect",y(pp),R.addGetterSetter(pp,"cornerRadius",0,function(b){if(m.isUnminified)return function(l,d){let p=k._isNumber(l),v=k._isArray(l)&&l.length==4;return p||v||k.warn(j(l)+' is a not valid value for "'+d+'" attribute. The value should be a number or Array<number>(4)'),l}}());class on extends se{constructor(l){super(l),this.dataArray=[],this.pathLength=0,this.dataArray=on.parsePathData(this.data()),this.pathLength=0;for(var d=0;d<this.dataArray.length;++d)this.pathLength+=this.dataArray[d].pathLength;this.on("dataChange.konva",function(){this.dataArray=on.parsePathData(this.data()),this.pathLength=0;for(var p=0;p<this.dataArray.length;++p)this.pathLength+=this.dataArray[p].pathLength})}_sceneFunc(l){var d=this.dataArray;l.beginPath();for(var p=!1,v=0;v<d.length;v++){var x=d[v].command,E=d[v].points;switch(x){case"L":l.lineTo(E[0],E[1]);break;case"M":l.moveTo(E[0],E[1]);break;case"C":l.bezierCurveTo(E[0],E[1],E[2],E[3],E[4],E[5]);break;case"Q":l.quadraticCurveTo(E[0],E[1],E[2],E[3]);break;case"A":var I=E[0],D=E[1],U=E[2],z=E[3],W=E[4],Z=E[5],ne=E[6],q=E[7],le=U>z?U:z,Ge=U>z?1:U/z,Ot=U>z?z/U:1;l.translate(I,D),l.rotate(ne),l.scale(Ge,Ot),l.arc(0,0,le,W,W+Z,1-q),l.scale(1/Ge,1/Ot),l.rotate(-ne),l.translate(-I,-D);break;case"z":p=!0,l.closePath()}}p||this.hasFill()?l.fillStrokeShape(this):l.strokeShape(this)}getSelfRect(){var l=[];this.dataArray.forEach(function(U){if(U.command==="A"){var z=U.points[4],W=U.points[5],Z=U.points[4]+W,ne=Math.PI/180;if(Math.abs(z-Z)<ne&&(ne=Math.abs(z-Z)),W<0)for(let q=z-ne;q>Z;q-=ne){const le=on.getPointOnEllipticalArc(U.points[0],U.points[1],U.points[2],U.points[3],q,0);l.push(le.x,le.y)}else for(let q=z+ne;q<Z;q+=ne){const le=on.getPointOnEllipticalArc(U.points[0],U.points[1],U.points[2],U.points[3],q,0);l.push(le.x,le.y)}}else if(U.command==="C")for(let q=0;q<=1;q+=.01){const le=on.getPointOnCubicBezier(q,U.start.x,U.start.y,U.points[0],U.points[1],U.points[2],U.points[3],U.points[4],U.points[5]);l.push(le.x,le.y)}else l=l.concat(U.points)});for(var d,p,v=l[0],x=l[0],E=l[1],I=l[1],D=0;D<l.length/2;D++)d=l[2*D],p=l[2*D+1],isNaN(d)||(v=Math.min(v,d),x=Math.max(x,d)),isNaN(p)||(E=Math.min(E,p),I=Math.max(I,p));return{x:v,y:E,width:x-v,height:I-E}}getLength(){return this.pathLength}getPointAtLength(l){var d,p=0,v=this.dataArray.length;if(!v)return null;for(;p<v&&l>this.dataArray[p].pathLength;)l-=this.dataArray[p].pathLength,++p;if(p===v)return{x:(d=this.dataArray[p-1].points.slice(-2))[0],y:d[1]};if(l<.01)return{x:(d=this.dataArray[p].points.slice(0,2))[0],y:d[1]};var x=this.dataArray[p],E=x.points;switch(x.command){case"L":return on.getPointOnLine(l,x.start.x,x.start.y,E[0],E[1]);case"C":return on.getPointOnCubicBezier(l/x.pathLength,x.start.x,x.start.y,E[0],E[1],E[2],E[3],E[4],E[5]);case"Q":return on.getPointOnQuadraticBezier(l/x.pathLength,x.start.x,x.start.y,E[0],E[1],E[2],E[3]);case"A":var I=E[0],D=E[1],U=E[2],z=E[3],W=E[4],Z=E[5],ne=E[6];return W+=Z*l/x.pathLength,on.getPointOnEllipticalArc(I,D,U,z,W,ne)}return null}static getLineLength(l,d,p,v){return Math.sqrt((p-l)*(p-l)+(v-d)*(v-d))}static getPointOnLine(l,d,p,v,x,E,I){E===void 0&&(E=d),I===void 0&&(I=p);var D=(x-p)/(v-d+1e-8),U=Math.sqrt(l*l/(1+D*D));v<d&&(U*=-1);var z,W=D*U;if(v===d)z={x:E,y:I+W};else if((I-p)/(E-d+1e-8)===D)z={x:E+U,y:I+W};else{var Z,ne,q=this.getLineLength(d,p,v,x),le=(E-d)*(v-d)+(I-p)*(x-p);Z=d+(le/=q*q)*(v-d),ne=p+le*(x-p);var Ge=this.getLineLength(E,I,Z,ne),Ot=Math.sqrt(l*l-Ge*Ge);U=Math.sqrt(Ot*Ot/(1+D*D)),v<d&&(U*=-1),z={x:Z+U,y:ne+(W=D*U)}}return z}static getPointOnCubicBezier(l,d,p,v,x,E,I,D,U){function z(q){return q*q*q}function W(q){return 3*q*q*(1-q)}function Z(q){return 3*q*(1-q)*(1-q)}function ne(q){return(1-q)*(1-q)*(1-q)}return{x:D*z(l)+E*W(l)+v*Z(l)+d*ne(l),y:U*z(l)+I*W(l)+x*Z(l)+p*ne(l)}}static getPointOnQuadraticBezier(l,d,p,v,x,E,I){function D(W){return W*W}function U(W){return 2*W*(1-W)}function z(W){return(1-W)*(1-W)}return{x:E*D(l)+v*U(l)+d*z(l),y:I*D(l)+x*U(l)+p*z(l)}}static getPointOnEllipticalArc(l,d,p,v,x,E){var I=Math.cos(E),D=Math.sin(E),U=p*Math.cos(x),z=v*Math.sin(x);return{x:l+(U*I-z*D),y:d+(U*D+z*I)}}static parsePathData(l){if(!l)return[];var d=l,p=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];d=d.replace(new RegExp(" ","g"),",");for(var v=0;v<p.length;v++)d=d.replace(new RegExp(p[v],"g"),"|"+p[v]);var x,E=d.split("|"),I=[],D=[],U=0,z=0,W=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(v=1;v<E.length;v++){var Z=E[v],ne=Z.charAt(0);for(Z=Z.slice(1),D.length=0;x=W.exec(Z);)D.push(x[0]);for(var q=[],le=0,Ge=D.length;le<Ge;le++)if(D[le]!=="00"){var Ot=parseFloat(D[le]);isNaN(Ot)?q.push(0):q.push(Ot)}else q.push(0,0);for(;q.length>0&&!isNaN(q[0]);){var mt,yt,gt,hr,Ar,Kn,Qn,Gt,wt,we,Te=null,Ie=[],as=U,sc=z;switch(ne){case"l":U+=q.shift(),z+=q.shift(),Te="L",Ie.push(U,z);break;case"L":U=q.shift(),z=q.shift(),Ie.push(U,z);break;case"m":var oc=q.shift(),Ua=q.shift();if(U+=oc,z+=Ua,Te="M",I.length>2&&I[I.length-1].command==="z"){for(var ls=I.length-2;ls>=0;ls--)if(I[ls].command==="M"){U=I[ls].points[0]+oc,z=I[ls].points[1]+Ua;break}}Ie.push(U,z),ne="l";break;case"M":U=q.shift(),z=q.shift(),Te="M",Ie.push(U,z),ne="L";break;case"h":U+=q.shift(),Te="L",Ie.push(U,z);break;case"H":U=q.shift(),Te="L",Ie.push(U,z);break;case"v":z+=q.shift(),Te="L",Ie.push(U,z);break;case"V":z=q.shift(),Te="L",Ie.push(U,z);break;case"C":Ie.push(q.shift(),q.shift(),q.shift(),q.shift()),U=q.shift(),z=q.shift(),Ie.push(U,z);break;case"c":Ie.push(U+q.shift(),z+q.shift(),U+q.shift(),z+q.shift()),U+=q.shift(),z+=q.shift(),Te="C",Ie.push(U,z);break;case"S":yt=U,gt=z,(mt=I[I.length-1]).command==="C"&&(yt=U+(U-mt.points[2]),gt=z+(z-mt.points[3])),Ie.push(yt,gt,q.shift(),q.shift()),U=q.shift(),z=q.shift(),Te="C",Ie.push(U,z);break;case"s":yt=U,gt=z,(mt=I[I.length-1]).command==="C"&&(yt=U+(U-mt.points[2]),gt=z+(z-mt.points[3])),Ie.push(yt,gt,U+q.shift(),z+q.shift()),U+=q.shift(),z+=q.shift(),Te="C",Ie.push(U,z);break;case"Q":Ie.push(q.shift(),q.shift()),U=q.shift(),z=q.shift(),Ie.push(U,z);break;case"q":Ie.push(U+q.shift(),z+q.shift()),U+=q.shift(),z+=q.shift(),Te="Q",Ie.push(U,z);break;case"T":yt=U,gt=z,(mt=I[I.length-1]).command==="Q"&&(yt=U+(U-mt.points[0]),gt=z+(z-mt.points[1])),U=q.shift(),z=q.shift(),Te="Q",Ie.push(yt,gt,U,z);break;case"t":yt=U,gt=z,(mt=I[I.length-1]).command==="Q"&&(yt=U+(U-mt.points[0]),gt=z+(z-mt.points[1])),U+=q.shift(),z+=q.shift(),Te="Q",Ie.push(yt,gt,U,z);break;case"A":hr=q.shift(),Ar=q.shift(),Kn=q.shift(),Qn=q.shift(),Gt=q.shift(),wt=U,we=z,U=q.shift(),z=q.shift(),Te="A",Ie=this.convertEndpointToCenterParameterization(wt,we,U,z,Qn,Gt,hr,Ar,Kn);break;case"a":hr=q.shift(),Ar=q.shift(),Kn=q.shift(),Qn=q.shift(),Gt=q.shift(),wt=U,we=z,U+=q.shift(),z+=q.shift(),Te="A",Ie=this.convertEndpointToCenterParameterization(wt,we,U,z,Qn,Gt,hr,Ar,Kn)}I.push({command:Te||ne,points:Ie,start:{x:as,y:sc},pathLength:this.calcLength(as,sc,Te||ne,Ie)})}ne!=="z"&&ne!=="Z"||I.push({command:"z",points:[],start:void 0,pathLength:0})}return I}static calcLength(l,d,p,v){var x,E,I,D,U=on;switch(p){case"L":return U.getLineLength(l,d,v[0],v[1]);case"C":for(x=0,E=U.getPointOnCubicBezier(0,l,d,v[0],v[1],v[2],v[3],v[4],v[5]),D=.01;D<=1;D+=.01)I=U.getPointOnCubicBezier(D,l,d,v[0],v[1],v[2],v[3],v[4],v[5]),x+=U.getLineLength(E.x,E.y,I.x,I.y),E=I;return x;case"Q":for(x=0,E=U.getPointOnQuadraticBezier(0,l,d,v[0],v[1],v[2],v[3]),D=.01;D<=1;D+=.01)I=U.getPointOnQuadraticBezier(D,l,d,v[0],v[1],v[2],v[3]),x+=U.getLineLength(E.x,E.y,I.x,I.y),E=I;return x;case"A":x=0;var z=v[4],W=v[5],Z=v[4]+W,ne=Math.PI/180;if(Math.abs(z-Z)<ne&&(ne=Math.abs(z-Z)),E=U.getPointOnEllipticalArc(v[0],v[1],v[2],v[3],z,0),W<0)for(D=z-ne;D>Z;D-=ne)I=U.getPointOnEllipticalArc(v[0],v[1],v[2],v[3],D,0),x+=U.getLineLength(E.x,E.y,I.x,I.y),E=I;else for(D=z+ne;D<Z;D+=ne)I=U.getPointOnEllipticalArc(v[0],v[1],v[2],v[3],D,0),x+=U.getLineLength(E.x,E.y,I.x,I.y),E=I;return I=U.getPointOnEllipticalArc(v[0],v[1],v[2],v[3],Z,0),x+U.getLineLength(E.x,E.y,I.x,I.y)}return 0}static convertEndpointToCenterParameterization(l,d,p,v,x,E,I,D,U){var z=U*(Math.PI/180),W=Math.cos(z)*(l-p)/2+Math.sin(z)*(d-v)/2,Z=-1*Math.sin(z)*(l-p)/2+Math.cos(z)*(d-v)/2,ne=W*W/(I*I)+Z*Z/(D*D);ne>1&&(I*=Math.sqrt(ne),D*=Math.sqrt(ne));var q=Math.sqrt((I*I*(D*D)-I*I*(Z*Z)-D*D*(W*W))/(I*I*(Z*Z)+D*D*(W*W)));x===E&&(q*=-1),isNaN(q)&&(q=0);var le=q*I*Z/D,Ge=q*-D*W/I,Ot=(l+p)/2+Math.cos(z)*le-Math.sin(z)*Ge,mt=(d+v)/2+Math.sin(z)*le+Math.cos(z)*Ge,yt=function(wt){return Math.sqrt(wt[0]*wt[0]+wt[1]*wt[1])},gt=function(wt,we){return(wt[0]*we[0]+wt[1]*we[1])/(yt(wt)*yt(we))},hr=function(wt,we){return(wt[0]*we[1]<wt[1]*we[0]?-1:1)*Math.acos(gt(wt,we))},Ar=hr([1,0],[(W-le)/I,(Z-Ge)/D]),Kn=[(W-le)/I,(Z-Ge)/D],Qn=[(-1*W-le)/I,(-1*Z-Ge)/D],Gt=hr(Kn,Qn);return gt(Kn,Qn)<=-1&&(Gt=Math.PI),gt(Kn,Qn)>=1&&(Gt=0),E===0&&Gt>0&&(Gt-=2*Math.PI),E===1&&Gt<0&&(Gt+=2*Math.PI),[Ot,mt,I,D,Ar,Gt,z,E]}}function H1(b){return(H1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(b)}function W1(b,l){var d=Object.keys(b);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(b);l&&(p=p.filter(function(v){return Object.getOwnPropertyDescriptor(b,v).enumerable})),d.push.apply(d,p)}return d}function ic(b){for(var l=1;l<arguments.length;l++){var d=arguments[l]!=null?arguments[l]:{};l%2?W1(Object(d),!0).forEach(function(p){Y1(b,p,d[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(d)):W1(Object(d)).forEach(function(p){Object.defineProperty(b,p,Object.getOwnPropertyDescriptor(d,p))})}return b}function p3(b,l){for(var d=0;d<l.length;d++){var p=l[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(b,p.key,p)}}function q1(b,l){return(q1=Object.setPrototypeOf||function(d,p){return d.__proto__=p,d})(b,l)}function m3(b,l){return!l||H1(l)!=="object"&&typeof l!="function"?mp(b):l}function mp(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function gp(b){return(gp=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(b)}function Y1(b,l,d){return l in b?Object.defineProperty(b,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):b[l]=d,b}on.prototype.className="Path",on.prototype._attrsAffectingSize=["data"],y(on),R.addGetterSetter(on,"data");var K1=function(b){(function(I,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(D&&D.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),D&&q1(I,D)})(E,b);var l,d,p,v,x=(p=E,v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}(),function(){var I,D=gp(p);if(v){var U=gp(this).constructor;I=Reflect.construct(D,arguments,U)}else I=D.apply(this,arguments);return m3(this,I)});function E(I){var D;(function(W,Z){if(!(W instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,E);var U=(D=x.call(this,I)).generateHash("avatar_container"),z=D.generateHash("avatar_loader");return D.onFileLoad=D.onFileLoad.bind(mp(D)),D.onCloseClick=D.onCloseClick.bind(mp(D)),D.state={imgWidth:0,imgHeight:0,scale:1,containerId:U,loaderId:z,lastMouseY:0,showLoader:!(D.props.src||D.props.img)},D}return l=E,(d=[{key:"generateHash",value:function(I){var D=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return I+"-"+D()+"-"+D()+"-"+D()}},{key:"onCloseCallback",value:function(){this.props.onClose()}},{key:"onCropCallback",value:function(I){this.props.onCrop(I)}},{key:"onFileLoadCallback",value:function(I){this.props.onFileLoad(I)}},{key:"onBeforeFileLoadCallback",value:function(I){this.props.onBeforeFileLoad(I)}},{key:"onImageLoadCallback",value:function(I){this.props.onImageLoad(I)}},{key:"componentDidMount",value:function(){var I=this;if(!this.state.showLoader){var D=this.props.img||new Image;D.crossOrigin="Anonymous",!this.props.img&&this.props.src&&(D.src=this.props.src),this.setState({image:D},function(){if(I.image.complete)return I.init();I.image.onload=function(){I.onImageLoadCallback(I.image),I.init()}})}}},{key:"componentDidUpdate",value:function(I,D){I.src!==this.props.src&&(this.image.src=this.props.src)}},{key:"onFileLoad",value:function(I){if(I.preventDefault(),this.onBeforeFileLoadCallback(I),I.target.value){var D=I.target.files[0];this.onFileLoadCallback(D);var U=this;G1().getData(D,function(){var z=G1().getTag(this,"Orientation");f3()(D,function(W,Z){U.setState({image:W,file:D,showLoader:!1},function(){U.init()})},{orientation:z,meta:!0})})}}},{key:"onCloseClick",value:function(){var I=this;this.setState({showLoader:!0},function(){return I.onCloseCallback()})}},{key:"init",value:function(){var I,D,U=this.props,z=U.height,W=U.minCropRadius,Z=U.cropRadius,ne=this.image.width,q=this.image.height,le=q/ne,Ge=this.props,Ot=Ge.imageWidth,mt=Ge.imageHeight;mt&&Ot&&console.warn("The imageWidth and imageHeight properties can not be set together, using only imageWidth."),mt&&!Ot?D=(I=mt||q)/le:Ot?I=(D=Ot)*le||q:D=(I=z||q)/le;var yt=I/q,gt=Math.max(W,Z||Math.min(D,I)/3);this.setState({imgWidth:D,imgHeight:I,scale:yt,cropRadius:gt},this.initCanvas)}},{key:"initCanvas",value:function(){var I=this,D=this.initStage(),U=this.initBackground(),z=this.initShading(),W=this.initCrop(),Z=this.initCropStroke(),ne=this.initResize(),q=this.initResizeIcon(),le=new Pr.Layer;le.add(U),le.add(z),le.add(Z),le.add(W),le.add(ne),le.add(q),D.add(le);var Ge=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return W.radius()-we},Ot=function(we){return W.x()-Ge(we)<0},mt=function(we){return W.y()-Ge(we)<0},yt=function(we){return W.x()+Ge(we)>D.width()},gt=function(we){return W.y()+Ge(we)>D.height()},hr=function(we){return Ge(we)>=I.minCropRadius?we:W.radius()-I.minCropRadius},Ar=function(we){return we+.86*W.radius()},Kn=function(we){return we-.5*W.radius()},Qn=function(we,Te){ne.x(Ar(we)-8),ne.y(Kn(Te)-8),q.x(Ar(we)-8),q.y(Kn(Te)-10)},Gt=function(){if(I.props.exportAsSquare){var we=new Pr.Image({image:I.image}),Te=we.width()/U.width(),Ie=we.height()/U.height(),as=2*W.radius()*Te,sc=2*W.radius()*Ie,oc=I.props.exportSize?I.props.exportSize/as:void 0;return we.toDataURL({x:(W.x()-W.radius())*Te,y:(W.y()-W.radius())*Ie,width:as,height:sc,pixelRatio:oc,mimeType:I.props.exportMimeType,quality:I.props.exportQuality})}var Ua=2*W.radius(),ls=2*W.radius(),v3=I.props.exportSize?I.props.exportSize/Ua:void 0;return W.toDataURL({x:W.x()-W.radius(),y:W.y()-W.radius(),width:Ua,height:ls,pixelRatio:v3,mimeType:I.props.exportMimeType,quality:I.props.exportQuality})},wt=function(we){var Te=we>0||function(Ie){return!(Ot(Ie)||yt(Ie)||gt(Ie)||mt(Ie))}(we)?we:0;Z.radius(Z.radius()-hr(Te)),W.radius(W.radius()-hr(Te)),ne.fire("resize")};this.onCropCallback(Gt()),W.on("dragmove",function(){return W.fire("resize")}),W.on("dragend",function(){return I.onCropCallback(Gt())}),W.on("resize",function(){var we=Ot()?W.radius()+1:yt()?D.width()-W.radius()-1:W.x(),Te=mt()?W.radius()+1:gt()?D.height()-W.radius()-1:W.y();Qn(we,Te),W.setFillPatternOffset({x:we/I.scale,y:Te/I.scale}),W.x(we),Z.x(we),W.y(Te),Z.y(Te)}),W.on("mouseenter",function(){return D.container().style.cursor="move"}),W.on("mouseleave",function(){return D.container().style.cursor="default"}),W.on("dragstart",function(){return D.container().style.cursor="move"}),W.on("dragend",function(){return D.container().style.cursor="default"}),ne.on("touchstart",function(we){ne.on("dragmove",function(Te){if(Te.evt.type==="touchmove"){var Ie=Te.evt.changedTouches[0].pageY-we.evt.changedTouches[0].pageY||0;wt(Ie*I.mobileScaleSpeed)}})}),ne.on("dragmove",function(we){if(we.evt.type!=="touchmove"){var Te=we.evt.y,Ie=Te?Te-I.state.lastMouseY:void 0,as=we.evt.movementY||Ie||0;I.setState({lastMouseY:Te}),wt(as)}}),ne.on("dragend",function(){return I.onCropCallback(Gt())}),ne.on("resize",function(){return Qn(W.x(),W.y())}),ne.on("mouseenter",function(){return D.container().style.cursor="nesw-resize"}),ne.on("mouseleave",function(){return D.container().style.cursor="default"}),ne.on("dragstart",function(we){I.setState({lastMouseY:we.evt.y}),D.container().style.cursor="nesw-resize"}),ne.on("dragend",function(){return D.container().style.cursor="default"})}},{key:"initStage",value:function(){return new Pr.Stage({container:this.containerId,width:this.width,height:this.height})}},{key:"initBackground",value:function(){return new Pr.Image({x:0,y:0,width:this.width,height:this.height,image:this.image})}},{key:"initShading",value:function(){return new Pr.Rect({x:0,y:0,width:this.width,height:this.height,fill:this.shadingColor,strokeWidth:4,opacity:this.shadingOpacity})}},{key:"initCrop",value:function(){return new Pr.Circle({x:this.halfWidth,y:this.halfHeight,radius:this.cropRadius,fillPatternImage:this.image,fillPatternOffset:{x:this.halfWidth/this.scale,y:this.halfHeight/this.scale},fillPatternScale:{x:this.scale,y:this.scale},opacity:1,draggable:!0,dashEnabled:!0,dash:[10,5]})}},{key:"initCropStroke",value:function(){return new Pr.Circle({x:this.halfWidth,y:this.halfHeight,radius:this.cropRadius,stroke:this.cropColor,strokeWidth:this.lineWidth,strokeScaleEnabled:!0,dashEnabled:!0,dash:[10,5]})}},{key:"initResize",value:function(){return new Pr.Rect({x:this.halfWidth+.86*this.cropRadius-8,y:this.halfHeight+-.5*this.cropRadius-8,width:16,height:16,draggable:!0,dragBoundFunc:function(I){return{x:this.getAbsolutePosition().x,y:I.y}}})}},{key:"initResizeIcon",value:function(){return new Pr.Path({x:this.halfWidth+.86*this.cropRadius-8,y:this.halfHeight+-.5*this.cropRadius-10,data:"M47.624,0.124l12.021,9.73L44.5,24.5l10,10l14.661-15.161l9.963,12.285v-31.5H47.624z M24.5,44.5   L9.847,59.653L0,47.5V79h31.5l-12.153-9.847L34.5,54.5L24.5,44.5z",fill:this.cropColor,scale:{x:.2,y:.2}})}},{key:"render",value:function(){var I=this,D=this.props,U=D.width,z=D.height,W={display:"flex",justifyContent:"center",backgroundColor:this.backgroundColor,width:U||this.width,position:"relative"},Z=this.props.label,ne=ic(ic({},this.props.labelStyle),{lineHeight:(z||200)+"px"}),q=ic(ic({},this.props.borderStyle),{width:U||200,height:z||200});return c().createElement("div",null,this.state.showLoader?c().createElement("div",{style:q},c().createElement("input",{onChange:function(le){return I.onFileLoad(le)},name:this.loaderId,type:"file",id:this.loaderId,style:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},accept:this.mimeTypes}),c().createElement("label",{htmlFor:this.loaderId,style:ne},Z)):c().createElement("div",{style:W},c().createElement("svg",{onClick:this.onCloseClick,style:{position:"absolute",zIndex:999,cursor:"pointer",left:"10px",top:"10px"},viewBox:"0 0 475.2 475.2",width:"20px",height:"20px"},c().createElement("g",null,c().createElement("path",{d:"M405.6,69.6C360.7,24.7,301.1,0,237.6,0s-123.1,24.7-168,69.6S0,174.1,0,237.6s24.7,123.1,69.6,168s104.5,69.6,168,69.6    s123.1-24.7,168-69.6s69.6-104.5,69.6-168S450.5,114.5,405.6,69.6z M386.5,386.5c-39.8,39.8-92.7,61.7-148.9,61.7    s-109.1-21.9-148.9-61.7c-82.1-82.1-82.1-215.7,0-297.8C128.5,48.9,181.4,27,237.6,27s109.1,21.9,148.9,61.7    C468.6,170.8,468.6,304.4,386.5,386.5z",fill:this.closeIconColor}),c().createElement("path",{d:"M342.3,132.9c-5.3-5.3-13.8-5.3-19.1,0l-85.6,85.6L152,132.9c-5.3-5.3-13.8-5.3-19.1,0c-5.3,5.3-5.3,13.8,0,19.1    l85.6,85.6l-85.6,85.6c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4l85.6-85.6l85.6,85.6c2.6,2.6,6.1,4,9.5,4    c3.5,0,6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1l-85.4-85.6l85.6-85.6C347.6,146.7,347.6,138.2,342.3,132.9z",fill:this.closeIconColor}))),c().createElement("div",{id:this.containerId})))}},{key:"lineWidth",get:function(){return this.props.lineWidth}},{key:"containerId",get:function(){return this.state.containerId}},{key:"closeIconColor",get:function(){return this.props.closeIconColor}},{key:"cropColor",get:function(){return this.props.cropColor}},{key:"loaderId",get:function(){return this.state.loaderId}},{key:"mimeTypes",get:function(){return this.props.mimeTypes}},{key:"backgroundColor",get:function(){return this.props.backgroundColor}},{key:"shadingColor",get:function(){return this.props.shadingColor}},{key:"shadingOpacity",get:function(){return this.props.shadingOpacity}},{key:"mobileScaleSpeed",get:function(){return this.props.mobileScaleSpeed}},{key:"cropRadius",get:function(){return this.state.cropRadius}},{key:"minCropRadius",get:function(){return this.props.minCropRadius}},{key:"scale",get:function(){return this.state.scale}},{key:"width",get:function(){return this.state.imgWidth}},{key:"halfWidth",get:function(){return this.state.imgWidth/2}},{key:"height",get:function(){return this.state.imgHeight}},{key:"halfHeight",get:function(){return this.state.imgHeight/2}},{key:"image",get:function(){return this.state.image}}])&&p3(l.prototype,d),E}(c().Component);Y1(K1,"defaultProps",{shadingColor:"grey",shadingOpacity:.6,cropColor:"white",closeIconColor:"white",lineWidth:4,minCropRadius:30,backgroundColor:"grey",mimeTypes:"image/jpeg,image/png",exportAsSquare:!1,exportSize:void 0,exportMimeType:"image/png",exportQuality:1,mobileScaleSpeed:.5,onClose:function(){},onCrop:function(){},onFileLoad:function(){},onImageLoad:function(){},onBeforeFileLoad:function(){},label:"Choose a file",labelStyle:{fontSize:"1.25em",fontWeight:"700",color:"black",display:"inline-block",fontFamily:"sans-serif",cursor:"pointer"},borderStyle:{border:"2px solid #979797",borderStyle:"dashed",borderRadius:"8px",textAlign:"center"}});const g3=K1})(),a})()})})(Oz);const Rz=Lv(Dv),Nz="_root_oehyz_1",Dz="_container_oehyz_13",Mz="_buttons_oehyz_26",xm={root:Nz,container:Dz,buttons:Mz},Lz=({setAvatarUploadMode:t})=>{const[e,r]=Ce.useState(null),i=V8(e,oe.currentUser.uid);async function s(){t(!1),await i()}function o(){t(!1)}function a(){r(null)}function u(c){r(c)}return L("div",{className:xm.root,children:X("div",{className:xm.container,children:[L("h2",{children:"Uploading Avatar"}),L(Rz,{width:300,height:300,imageWidth:300,onCrop:u,onClose:a,src:void 0,label:"Choose your photo...",labelStyle:{color:"rgb(145, 164, 191)",cursor:"pointer"},borderStyle:{display:"flex",justifyContent:"center",border:"2px solid #1d3a5f",borderRadius:"25px",fontSize:"17px",cursor:"pointer"}}),X("div",{className:xm.buttons,children:[L("button",{onClick:o,children:"Close"}),L("button",{onClick:s,children:"Save"})]})]})})},Uz="_root_1ug4z_1",$z="_container_1ug4z_6",Fz="_user_1ug4z_11",jz="_banner_1ug4z_16",Bz="_info_1ug4z_39",zz="_avatar_1ug4z_53",Vz="_details_1ug4z_56",Gz="_userData_1ug4z_60",Hz="_addFriend_1ug4z_87",Wz="_sections_1ug4z_105",qz="_links_1ug4z_120",Yz="_logout_1ug4z_135",Kz="_posts_1ug4z_149",Qz="_friends_1ug4z_159",ln={root:Uz,container:$z,user:Fz,banner:jz,info:Bz,avatar:zz,details:Vz,userData:Gz,addFriend:Hz,sections:Wz,links:qz,logout:Yz,posts:Kz,friends:Qz},Xz="_banner_1qaf9_1",$b={banner:Xz},Jz=({id:t})=>{var o,a;const e=G8(),{loading:r,userData:i}=Mn(t||((o=oe.currentUser)==null?void 0:o.uid)),s=async u=>{var c;u.target.files&&(u.preventDefault(),await e((c=oe.currentUser)==null?void 0:c.uid,u.target.files[0]))};return r?L(Ft,{children:"loading"}):X("div",{className:$b.banner,children:[L("img",{src:i==null?void 0:i.coverImage}),t===((a=oe.currentUser)==null?void 0:a.uid)&&X("label",{htmlFor:"uploadCover",children:[L(Ae,{icon:jT}),"Edit Cover",L("input",{id:"uploadCover",type:"file",onChange:u=>s(u),className:$b.image,hidden:!0})]})]})};async function Fb(t,e,r){const i=st(Me,"users",t);await Jt(i,{friendRequests:r?la(e):aa(e)})}const Zz={username:null,email:null,token:null,id:null},t3=BI({name:"user",initialState:Zz,reducers:{setAuthUser(t,e){t.username=e.payload.username,t.email=e.payload.email,t.token=e.payload.token,t.id=e.payload.id},removeAuthUser(t){t.username=null,t.email=null,t.token=null,t.id=null}}}),{setAuthUser:_1,removeAuthUser:n3}=t3.actions,eV=t3.reducer,Vc=["Posts","Friends"],tV=()=>{var T,A,g,w;const t=Js(),{id:e}=sk(),{loading:r,userData:i}=Mn(e),[s,o]=Ce.useState(0),[a,u]=Ce.useState(!1),[c,h]=Ce.useState((i==null?void 0:i.friendRequests)&&i.friendRequests.includes((T=oe.currentUser)==null?void 0:T.uid)),[f,m]=Ce.useState((i==null?void 0:i.friendRequests)&&i.friends.includes((A=oe.currentUser)==null?void 0:A.uid)),y=Yu();async function S(){c?await Fb(e,oe.currentUser.uid,c):await Fb(e,oe.currentUser.uid,c)}async function C(){await bI(e,oe.currentUser.uid)}return Ce.useEffect(()=>{var _,P;h((i==null?void 0:i.friendRequests)&&(i==null?void 0:i.friendRequests.includes((_=oe.currentUser)==null?void 0:_.uid))),m((i==null?void 0:i.friendRequests)&&(i==null?void 0:i.friends.includes((P=oe.currentUser)==null?void 0:P.uid)))},[i]),r?X(zd,{speed:2,width:530,height:540,viewBox:"0 0 550 550",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[L("rect",{x:"188",y:"338",rx:"0",ry:"0",width:"1",height:"0"}),L("rect",{x:"7",y:"10",rx:"32",ry:"32",width:"531",height:"485"})]}):X("div",{className:ln.root,style:{overflow:"disabled"},children:[a&&L(Lz,{setAvatarUploadMode:u}),X("div",{className:ln.container,children:[X("div",{className:ln.user,children:[L("div",{className:ln.banner,children:L(Jz,{id:e})}),X("div",{className:ln.info,children:[L("div",{className:ln.avatar,children:L(pn,{id:e,setAvatarUploadMode:u})}),L("div",{className:ln.details,children:X("div",{className:ln.userData,children:[L("h2",{children:(i==null?void 0:i.firstName)+" "+(i==null?void 0:i.lastName)}),L("span",{children:"@"+(i==null?void 0:i.username)})]})}),f?L("div",{className:ln.addFriend,children:X("span",{onClick:C,children:[L(Ae,{icon:X8}),"Friends"]})}):((g=oe.currentUser)==null?void 0:g.uid)!==e?L("div",{className:ln.addFriend,children:oe.currentUser&&X(Ft,{children:[" ",c?X("span",{onClick:S,style:{backgroundColor:"#458b3d"},children:[L(Ae,{icon:nU}),"Requested"]}):X("span",{onClick:S,children:[L(Ae,{icon:zT}),"Add friend"]})]})}):L(Ft,{})]})]}),X("div",{className:ln.sections,children:[L("div",{className:ln.links,children:Vc.map((_,P)=>L("span",{style:{color:s===P?"#1877f2":""},onClick:()=>o(P),children:_},P))}),((w=oe.currentUser)==null?void 0:w.uid)===e&&X("span",{className:ln.logout,onClick:()=>{oe.signOut(),y(n3()),t("/login")},children:[L(Ae,{icon:K8}),"Log out"]})]}),X("div",{className:ln.posts,children:[X("h2",{children:[i==null?void 0:i.firstName,"'s ",Vc[s].toLowerCase()]}),Vc[s].toLowerCase()==="posts"&&L(e3,{}),Vc[s].toLowerCase()==="friends"&&L("div",{className:ln.friends,children:L(HI,{userData:i})})]})]})]})},nV="_root_1vjrc_1",rV="_container_1vjrc_6",iV="_logo_1vjrc_11",sV="_card_1vjrc_20",oV="_heading_1vjrc_29",aV="_form_1vjrc_41",lV="_fullName_1vjrc_54",uV="_input_1vjrc_58",$n={root:nV,container:rV,logo:iV,card:sV,heading:oV,form:aV,fullName:lV,input:uV},r3=({content:t,submitHandler:e})=>{const[r,i]=Ce.useState({firstName:"",lastName:"",username:"",email:"",password:"",passwordConfirmation:""});return L("div",{className:$n.root,children:L("div",{className:$n.container,children:X("div",{className:$n.card,children:[X("div",{className:$n.heading,children:[L("h2",{children:t.formHeading}),L("span",{children:t.formHint})]}),L("div",{className:$n.form,children:X("form",{onSubmit:s=>{s.preventDefault(),t.type,e(r)},children:[t.type==="register"&&X(Ft,{children:[X("div",{className:$n.fullName,children:[X("div",{className:$n.input,children:[L(Ae,{icon:El}),L("input",{type:"text",placeholder:"First Name",onChange:s=>{i({...r,firstName:s.target.value})}})]}),X("div",{className:$n.input,children:[L(Ae,{icon:El}),L("input",{type:"text",placeholder:"Last Name",onChange:s=>{i({...r,lastName:s.target.value})}})]})]}),X("div",{className:$n.input,children:[L(Ae,{icon:El}),L("input",{type:"text",placeholder:"Username",onChange:s=>{i({...r,username:s.target.value})}})]})]}),X("div",{className:$n.input,children:[L(Ae,{icon:tU}),L("input",{type:"text",placeholder:t.type==="login"?"Your email":"Email",onChange:s=>{i({...r,email:s.target.value})}})]}),X("div",{className:$n.input,children:[L(Ae,{icon:L2}),L("input",{type:"password",placeholder:t.type==="login"?"Your password":"Password",onChange:s=>{i({...r,password:s.target.value})}})]}),t.type==="register"&&X("div",{className:$n.input,children:[L(Ae,{icon:L2}),L("input",{type:"password",placeholder:"Password Confirmation",onChange:s=>{i({...r,passwordConfirmation:s.target.value})}})]}),L("button",{type:"submit",children:t.btnText})]})})]})})})},cV={display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},hV={type:"login",formHeading:"Welcome Back",formHint:"Enter your credentials to access your account.",btnText:"Sign In"},dV=()=>{const t=Yu(),e=Js();function r(i){dR(oe,i.email,i.password).then(({user:s})=>{t(_1({username:s.displayName,email:s.email,id:s.uid,token:s.refreshToken})),e(`/users/${s.uid}`)}).catch(s=>{switch(s.code){case"auth/invalid-email":cn({title:"Oops ErRoR!",text:"Invalid Email. Try again.",icon:"error"});break;case"auth/wrong-password":cn({title:"Oops ErRoR!",text:"Wrong password. Try again.",icon:"error"});break}})}return L("div",{style:cV,children:L(r3,{content:hV,submitHandler:r})})},fV={display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},pV={type:"register",formHeading:"Welcome!",formHint:"Register to access to all features of SocioSphere.",btnText:"Sign Up"},jb="https://firebasestorage.googleapis.com/v0/b/social-media-c7b8a.appspot.com/o/defaultAvatar.png?alt=media&token=f2894209-9a04-4845-b464-fa93cad22a5a",mV="https://firebasestorage.googleapis.com/v0/b/social-media-c7b8a.appspot.com/o/defaultCover.png?alt=media&token=b28e10b3-f4ae-4dd9-b066-c1053c6182e0",gV=()=>{const t=Yu(),e=Js();function r(i){hR(oe,i.email,i.password).then(async({user:s})=>{const o=st(Me,"users",s.uid),a=st(Me,"userChats",s.uid);await lv(o,{id:s.uid,email:i.email,firstName:i.firstName,lastName:i.lastName,username:i.username,avatar:jb,coverImage:mV,createdAt:Date.now().toString(),friends:[]}),await lv(a,{}),oe.currentUser&&await pR(oe.currentUser,{displayName:i.username,photoURL:jb}),t(_1({id:s.uid,username:s.displayName,email:s.email,token:s.refreshToken})),e(`/users/${s.uid}`)}).catch(s=>{switch(s.code){case"auth/email-already-in-use":cn({title:"Oops ErRoR!",text:"Email already in use. Try another one.",icon:"error"});break}})}return L("div",{style:fV,children:L(r3,{content:pV,submitHandler:r})})},Mv=QF({reducer:{authUser:eV,currentChat:a9}}),vV=()=>{const t=vR(oe,e=>{if(e){const r={username:e.displayName,email:e.email,token:e.refreshToken,id:e.uid};Mv.dispatch(_1(r))}else Mv.dispatch(n3())});return()=>t()},yV=()=>{const{isAuth:t}=y1();return t?L(Eg,{}):L(BA,{to:"/login"})},wV=()=>{const{isAuth:t}=y1();return Ce.useEffect(()=>{vV()},[t]),L(VA,{children:X(li,{path:"/",element:L(Z9,{}),children:[L(li,{path:"/",element:L(iz,{})}),L(li,{path:"/users/:id",element:L(tV,{})}),L(li,{path:"/",element:L(yV,{}),children:L(li,{path:"/messenger",element:L(Az,{})})}),L(li,{path:"/login",element:L(dV,{})}),L(li,{path:"/register",element:L(gV,{})})]})})};Pm.createRoot(document.getElementById("root")).render(L(YA,{children:L(pF,{store:Mv,children:L(wV,{})})}));
